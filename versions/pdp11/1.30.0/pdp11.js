(function(){var m;
function aa(a){var b=16,c;if(a){b||(b=10);var d=a.charAt(0),f=0<a.indexOf(",");f&&(a=a.replace(/,/g,""));"#"==d?(b=8,d=null):"$"==d&&(b=16,d=null);null==d?a=a.substr(1):("0"==d&&(d=a.charAt(1),"b"==d&&f&&(b=2,d=null),"o"==d?(b=8,d=null):"x"==d&&(b=16,d=null)),null==d?a=a.substr(2):(d=a.charAt(a.length-1).toLowerCase(),"y"==d?(b=2,d=null):"."==d?(b=10,d=null):"h"==d&&(b=16,d=null),null==d&&(a=a.substr(0,a.length-1))));var e,d=a;((f=b)&&10!=f?16==f?null!==d.match(/^[0-9a-f]+$/i):8==f?null!==d.match(/^[0-7]+$/):2==
f&&null!==d.match(/^[01]+$/):null!==d.match(/^[0-9]+$/))&&!isNaN(e=parseInt(a,b))&&(c=e|0)}return c}function n(a,b,c){var d="";b?8<b&&(b=8):b=a&-65536?8:4;if(null==a||isNaN(a))for(;0<b--;)d="?"+d;else for(;0<b--;){var f=a&15,f=f+(0<=f&&9>=f?48:55),d=String.fromCharCode(f)+d;a>>=4}return(c?"0x":"")+d}function ba(a){var b=a,c=a.lastIndexOf("/");0<=c&&(b=a.substr(c+1));c=b.indexOf("&");0<c&&(b=b.substr(0,c));return b}
function ca(a){var b="",c=a.lastIndexOf(".");0<=c&&(b=a.substr(c+1).toLowerCase());return b}function da(){var a=ea();return-1!==a.indexOf("pcjs.org",a.length-8)}var fa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function ga(a){return a.replace(/[&<>"']/g,function(a){return fa[a]})}var ha=Date.now||function(){return+new Date};
function ia(){function a(a){return(10>a?"0":"")+a}var b=new Date;return b.getFullYear()+"-"+a(b.getMonth()+1)+"-"+a(b.getDate())+" "+a(b.getHours())+":"+a(b.getMinutes())+":"+a(b.getSeconds())}
function p(a,b,c,d){var f=0,e=null,h=null;if("object"==typeof resources&&(e=resources[a]))return d&&d(a,e,f),[e,f];if(c&&"function"==typeof resources)return resources(a,function(b,c){d&&d(a,b,c)}),h;var g=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");c&&(g.onreadystatechange=function(){4===g.readyState&&(e=g.responseText,200==g.status||!g.status&&e.length&&"file:"==(window?window.location.protocol:"file:")||(f=g.status||-1),d&&d(a,e,f))});if(b&&"object"==
typeof b){var k="",l;for(l in b)b.hasOwnProperty(l)&&(k&&(k+="&"),k+=l+"="+encodeURIComponent(b[l]));k=k.replace(/%20/g,"+");g.open("POST",a,!!c);g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.send(k)}else g.open("GET",a,!!c),"bytes"==b&&g.overrideMimeType("text/plain; charset=x-user-defined"),g.send();c||(e=g.responseText,200!=g.status&&(f=g.status||-1),d&&d(a,e,f),h=[e,f]);return h}function ea(){return"http://"+(window?window.location.host:"www.pcjs.org")}
function q(a){window&&window.alert(a)}function ja(a){var b=!1;window&&(b=window.confirm(a));return b}var ka=null;function la(){if(null==ka){var a=!1;if(window)try{window.localStorage.setItem("PCjs.localStorage","PCjs.localStorage"),a="PCjs.localStorage"==window.localStorage.getItem("PCjs.localStorage"),window.localStorage.removeItem("PCjs.localStorage")}catch(b){a=!1}ka=a}return ka}function ma(a){var b;if(window)try{b=window.localStorage.getItem(a)}catch(c){}return b}
function na(a,b){try{return window.localStorage.setItem(a,b),!0}catch(c){}return!1}function oa(a){if(window){var b=window?window.navigator.userAgent:"";return"iOS"==a&&b.match(/(iPod|iPhone|iPad)/)&&b.match(/AppleWebKit/)||"MSIE"==a&&b.match(/(MSIE|Trident)/)||0<=b.indexOf(a)?!0:!1}return!1}var r={init:[],show:[],exit:[]},pa=!1,qa=!1,ra=!0;function sa(a,b){if(window){var c=window[a];window[a]="function"!==typeof c?b:function(){c&&c();b()}}}function u(a){r.init.push(a)}
function ta(a){if(ra)try{for(var b=0;b<a.length;b++)a[b]()}catch(c){q(""+("An unexpected exception occurred:\n\n"+c.message+"\n\nPlease send this information to support@pcjs.org. Thanks."))}}function ua(a){!ra&&a?(ra=!0,pa&&va("init"),qa&&va("show")):ra=a}function va(a){r[a]&&ta(r[a])}sa("onload",function(){pa=!0;ta(r.init)});sa("onpageshow",function(){qa=!0;ta(r.show)});sa(oa("Opera")||oa("iOS")?"onunload":"onbeforeunload",function(){ta(r.exit)});
function v(a,b,c){this.type=a;b||(b={id:"",name:""});this.id=b.id||"";this.name=b.name;this.Gb=b.comment;this.ac=b;b=this.id.indexOf(".");0>b?this.tb=this.id:(this.Hb=this.id.substr(0,b),this.tb=this.id.substr(b+1));this[a]=c;this.i={ready:!1,Za:!1,xb:!1,L:!1,error:!1};this.lb=null;this.i.error=!1;this.A={};this.I=null;x.push(this)}var wa=void 0,xa={};
if(window){wa||(wa=window.location.search.substr(1));for(var ya,za=/\+/g,Aa=/([^&=]+)=?([^&]*)/g;ya=Aa.exec(wa);)xa[decodeURIComponent(ya[1].replace(za," "))]=decodeURIComponent(ya[2].replace(za," "))}function Ba(a){function b(){}if(window){if(!a)throw new TypeError;if(Object.create)return Object.create(a);var c=typeof a;if("object"!==c&&"function"!==c)throw new TypeError;}b.prototype=a;return new b}
function y(a,b){b||(b=v);a.prototype=Ba(b.prototype);a.prototype.constructor=a;a.prototype.parent=b.prototype}if(window){window.PCjs||(window.PCjs={});var Ca=window.PCjs.Machines||(window.PCjs.Machines={}),x=window.PCjs.Components||(window.PCjs.Components=[])}else Ca={},x=[];function Da(a,b,c){Ca[a]&&b&&(Ca[a][b]=c)}function z(a){var b,c=[];a&&(a=0<(b=a.indexOf("."))?a.substr(0,b+1):"");for(b=0;b<x.length;b++){var d=x[b];a&&d.id.indexOf(a)||c.push(d)}return c}
function Ea(a,b){var c;if(void 0!==a){var d;b&&(b=0<(d=b.indexOf("."))?b.substr(0,d+1):"");for(d=0;d<x.length;d++)if(c)c==x[d]&&(c=null);else if(!(a!=x[d].type||b&&x[d].id.indexOf(b)))return x[d]}return null}function A(a){var b=null;if(a=a.getAttribute("data-value"))try{b=eval("("+a+")")}catch(c){q(c.message+" ("+a+")")}return b}
function B(a,b){for(var c=C(b.parentNode,"pdp11-control"),d=0;d<c.length;d++)for(var f=c[d].childNodes,e=0;e<f.length;e++){var h=f[e];if(1===h.nodeType){var g=h.getAttribute("class");if(g)for(var k=g.split(" "),l=0;l<k.length;l++)switch(g=k[l],g){case "pdp11-binding":(g=A(h))&&g.binding&&a.ba(g.type,g.binding,h,g.value),l=k.length}}}}
function C(a,b,c){c&&(b+="-"+c+"-object");if(a.getElementsByClassName)return a.getElementsByClassName(b);var d;c=[];a=a.getElementsByTagName("*");var f=new RegExp("(^| )"+b+"( |$)");b=0;for(d=a.length;b<d;b++)f.test(a[b].className)&&c.push(a[b]);return c}
v.prototype={constructor:v,parent:null,toString:function(){return this.name?this.name:this.id||this.type},ba:function(a,b,c){switch(b){case "clear":return this.A[b]||(this.A[b]=c,c.onclick=function(a){return function(){a.A.print&&(a.A.print.value="")}}(this)),!0;case "print":return this.A[b]||(this.yb=this.A[b]=c,c.value="",this.X=function(a){return function(b,c){8192<a.value.length&&(a.value=a.value.substr(a.value.length-4096));a.value+=(void 0!==c?c+": ":"")+(b||"")+"\n";a.scrollTop=a.scrollHeight}}(c),
this.K=function(a){this.X(a,this.tb)}),!0;default:return!1}},log:function(){},X:function(){},status:function(a){this.X(this.tb+": "+a)},K:function(a,b,c){c=c||this.type;b||q((c?c+": ":"")+a)},ua:function(){return this.i.L=!0},ta:function(a,b){b&&(this.i.L=!1);return!0}};function Fa(a,b){if(a.i.xb)return a.i.Za&&(a.i.Za=!1),a.i.xb=!1;if(a.i.error)return a.X(a.toString()+" error"),!1;a.i.Za=b;return a.i.Za}function D(a){if(!a.i.error&&(a.i.ready=!0,a.i.ready)){var b=a.lb;a.lb=null;b&&b()}}
function Ga(a,b){b&&(a.i.ready?b():a.lb=b);return a.i.ready}var Ha="undefined"!==typeof ArrayBuffer,Ia=2,E=4,F=6,Ia=0|Ia,Ja=1|Ia,E=0|E,Ka=1|E,F=0|F,G=1|F;function La(a){v.call(this,"Panel",a,La)}y(La);m=La.prototype;m.ba=function(a,b,c,d){return this.u&&this.u.ba(a,b,c,d)||this.b&&this.b.ba(a,b,c,d)?!0:this.parent.ba.call(this,a,b,c,d)};m.Ga=function(a,b,c,d){this.u=a;this.v=b;this.b=c;this.I=d};m.ua=function(a,b){b||Ma();return!0};m.ta=function(){return!0};m.Ka=function(){};
function Ma(){for(var a=!1,b=C(document,"pdp11","panel"),c=0;c<b.length;c++){var d=b[c],f=A(d),e;a:{e=f.id;if(void 0!==e)for(var h=void 0,h=0;h<x.length;h++)if(x[h].id===e){e=x[h];break a}e=null}e||(a=!0,e=new La(f));B(e,d);a&&D(e)}}u(Ma);
function Na(a,b,c){v.call(this,"Bus",a,Na);this.b=b;this.I=c;this.F=a.busWidth||16;this.m=Math.pow(2,this.F);this.j=this.m-1|0;this.f=(this.F>>1)+2;10>this.f&&(this.f=10);15<this.f&&(this.f=15);this.g=1<<this.f;this.M=this.g>>2;this.h=this.g-1;this.v=this.m/this.g|0;this.N=this.v-1;this.oa=[];this.u=null;this.$a=this.R;a=new H;Oa(a,this.I);this.c=Array(this.v);for(b=0;b<this.v;b++)this.c[b]=a;this.Wa=Array(4);this.Wa[0]=Pa;this.Wa[1]=Qa;this.Wa[2]=Ra;this.Wa[3]=Sa;this.J=this.m-8192;Ta(this,this.J,
8192,Ua,this);D(this)}y(Na);function Pa(a,b){var c=this.controller.oa[a];if(c){if(c[0])return c[0](b);if(c[2])return b&1?c[2](b&-2)>>8:c[2](b)&255}else if(b&1&&(c=this.controller.oa[a&-2],c[2]))return c[2](b&-2)>>8;return this.controller.$a(b,-1,1)}
function Qa(a,b,c){var d=this.controller.oa[a];if(d){if(d[1]){d[1](b,c);return}if(d[3]){a=d[2]?d[2](c):0;if(c&1)d[3](a&255|b<<8,c&-2);else d[3](a&-256|b,c);return}}else if(c&1&&(d=this.controller.oa[a&-2],d[3])){c&=-2;a=d[2]?d[2](c):0;d[3](a&255|b<<8,c);return}this.controller.$a(c,b,1)}function Ra(a,b){var c=this.controller.oa[a];if(c){if(c[2])return c[2](b);if(c[0])return c[0](b)|c[0](b+1)<<8}return this.controller.$a(b,-1,0)}
function Sa(a,b,c){if(a=this.controller.oa[a]){if(a[3]){a[3](b,c);return}if(a[1]){a[1](b&255,c);a[1](b>>8,c+1);return}}this.controller.$a(c,b,0)}Na.prototype.reset=function(){this.u&&this.u()};Na.prototype.R=function(){return 0};Na.prototype.ua=function(a,b){b||this.reset();return!0};
function Ta(a,b,c,d,f){for(var e=b,h=c,g=e>>>a.f;0<h&&g<a.c.length;){var k=a.c[g],l=g*a.g,t=a.g-(e-l);t>h&&(t=h);if(k&&k.size){if(k.type==d&&k.controller==f){if(e+h<=k.Qa)return k.rb+=k.Qa-e,k.Qa=e,!0;if(e>=k.Qa+k.rb){t=k.size-(e-l);t>h&&(t=h);k.rb=e-k.Qa+t;e=l+a.g;h-=t;g++;continue}}return Va(1,e,h)}e=new H(e,t,a.g,d,f);Oa(e,a.I,k);a.c[g++]=e;e=l+a.g;h-=t}return 0>=h?(a.status(Math.floor(c/1024)+"Kb "+Wa[d]+" at "+n(b,8,!0)),!0):Va(2,b,c)}
function Va(a,b,c){q("Memory block error ("+a+": "+n(b)+","+n(c)+")");return!1}
function Xa(a){v.call(this,"Device",a,Xa);this.u=a.name;this.m={Bb:[],ga:0,U:128,c:127,$b:0};this.c={data:0,wc:0,Ra:20,sc:0};this.f={Ab:0,l:0};this.g={gb:2496,P:0,w:128,hb:0,fb:0,V:0,Pb:0,S:[],Ea:[406,406,406,406],D:[12,12,12,12]};this.h={l:129,Ya:0,H:0,sa:0,pa:0,wa:0,S:[],D:[40,40,40,40],Ea:[1024,1024,512,512],Xb:[157,157,29,29]};this.j={b:[8210,8208,8210,8226],D:[22,22,22,50],Da:[19,19,19,32],sb:[815,411,815,630],S:[],B:2176,Ua:0,Sa:0,aa:[0,0,0,0,0,0,0,0],$:0,T:[4544,4544,4544,4544,4544,4544,4544,
4544],Ta:[0,0,0,0,0,0,0,0],Ja:0,qc:[0,0,0,0,0,0,0,0],Qb:0,Rb:[0,0,0,0,0,0,0,0],f:[0,0,0,0,0,0,0,0],rc:[1,2,3,4,5,6,7,8],Sb:[0,0,0,0,0,0,0,0],ka:[0,0,0,0,0,0,0,0],qb:[0,0,0,0,0,0,0,0],oc:[0,0,0,0,0,0,0,0],pc:[0,0,0,0,0,0,0,0],mc:[0,0,0,0,0,0,0,0],nc:[0,0,0,0,0,0,0,0],va:0,Cb:0}}y(Xa);
var Ya=[4127,448,4191,450,4383,452,2591,454,21983,32768,65534,13791,16384,65534,770,2719,454,2591,65534,257,0,2566,33028,34051,33282,1281,33537,0,2758,32771,770,1025,1793,0,3078,33794,34305,513,0,5574,43690,4480,4097,4162,4227,4292,4357,57665,1281,769,0,3138,34305,1281,0,24707,2691,2627,24769,34561,1793,0,3076,20739,24899,2691,34562,2753,1281,0,2624,33537,0,16385,24641,1537,1793,0,193,8279,21589,516,12549,1538,2629,513,0,38336,65281,32769,0,32258,2561,2689,32258,3008,514,3009,769,0,5574,510,2551,
2,0,9678,208,769,0,5582,226,135,0,2598,5606,236,2,0,95,242,128,5573,57344,2591,6,5599,256,4,5574,510,3045,5599,460,76,2591,78,5571,65510,5579,12,5570,512,4224,4104,3024,8197,33788,4224,4609,8193,769,0,2640,8197,33785,6145,2625,8193,769,0,8194,761,2574,5572,43690,5579,24,5568,2048,5570,512,2628,4360,2632,2632,8708,769,0,3103,65514,34562,0,305,35406,754,258,119,65160,3024,32403,5579,36,5568,3072,35446,1,740,5570,512,4224,4104,3024,8197,33788,5569,3,2574,3039,454,528,5582,24,4224,2632,2632,8200,769,
0,3024,3103,65514,34562,0,264,8197,33779,5003,2574,32337,260,0,258,5579,12,6080,448,6081,450,6084,452,116,2,6084,65400,17860,65024,21956,62976,38848,65401,3200,161,76,0,16944,10797];m=Xa.prototype;
m.Ga=function(a,b,c,d){this.v=b;this.b=c;this.I=d;switch(this.u){default:a=Za;for(var f in a){var e=a[f];c=b;d=+f;for(var h=e[0]?e[0].bind(this):null,g=e[1]?e[1].bind(this):null,k=e[2]?e[2].bind(this):null,e=e[3]?e[3].bind(this):null,l=+f;l<=d;l+=2){var t=l&8191;void 0!==c.oa[t]?q("I/O address already registered: "+n(c.J+t,8,!0)):c.oa[t]=[h,g,k,e,!1]}}f=this.Wb.bind(this);b.u=this.reset.bind(this);b.$a=f}D(this)};m.hc=function(){return $a(this.b)};
m.uc=function(a){ab(this.b,a&-1809|$a(this.b)&1808);this.b.C|=128};
function bb(a){var b=a.g,c,d,f,e=b.V>>13&7;"undefined"===typeof b.S[e]&&(b.S[e]={cache:[],postProcess:a.jc,drive:e,blocksize:256,mapped:0,maxblock:b.Ea[e]*b.D[e],url:"rk"+e+".dsk"});b.w&=-129;switch(b.w>>1&7){case 0:b.gb=2496;b.P=0;b.w=128;b.V=0;break;case 1:if((b.V>>4&511)>=b.Ea[e]){b.P|=32832;b.w|=49152;break}if((b.V&15)>=b.D[e]){b.P|=32800;b.w|=49152;break}c=(b.V>>4&511)*b.D[e]+(b.V&15);d=(b.w&48)<<12|b.fb;f=65536-b.hb&65535;cb(a,b.S[e],c,d,f);return;case 2:if((b.V>>4&511)>=b.Ea[e]){b.P|=32832;
b.w|=49152;break}if((b.V&15)>=b.D[e]){b.P|=32800;b.w|=49152;break}c=(b.V>>4&511)*b.D[e]+(b.V&15);d=(b.w&48)<<12|b.fb;f=65536-b.hb&65535;a.pb(b.S[e],c,d,f);return}b.gb=e<<13|b.gb&8176|b.V%9&15;I(a.b,20,160,144,function(){b.w=b.w&65534|128;return!!(b.w&64)})}m.jc=function(a,b,c,d,f){var e=this.g;e.fb=d&65535;e.w=e.w&-49|d>>12&48;e.hb=65536-f&65535;switch(a){case 1:e.P|=33024;e.w|=49152;break;case 2:e.P|=33792,e.w|=49152}I(this.b,20,160,144,function(){e.w=e.w&65534|128;return!!(e.w&64)})};
function db(a){var b=a.h,c,d,f,e=b.l>>8&3;b.l&=-2;"undefined"===typeof b.S[e]&&(b.S[e]={cache:[],postProcess:a.kc,drive:e,blocksize:128,mapped:1,maxblock:b.Ea[e]*b.D[e],url:"rl"+e+".dsk"});switch(b.l>>1&7){case 2:b.sa&8&&(b.l&=63);b.sa=b.Xb[e]|b.wa&64;break;case 3:1==(b.H&3)&&(b.wa=b.H&4?b.wa+(b.H&65408)&65408|b.H<<2&64:b.wa-(b.H&65408)&65408|b.H<<2&64,b.H=b.wa);break;case 4:b.sa=b.wa;break;case 5:if(b.H>>6>=b.Ea[e]){b.l|=37888;break}if((b.H&63)>=b.D[e]){b.l|=37888;break}c=(b.H>>6)*b.D[e]+(b.H&63);
d=(b.pa&63)<<16|b.Ya;f=65536-b.sa&65535;cb(a,b.S[e],c,d,f);return;case 6:if(b.H>>6>=b.Ea[e]){b.l|=37888;break}if((b.H&63)>=b.D[e]){b.l|=37888;break}c=(b.H>>6)*b.D[e]+(b.H&63);d=(b.pa&63)<<16|b.Ya;f=65536-b.sa&65535;a.pb(b.S[e],c,d,f);return}I(a.b,20,160,112,function(){b.l|=129;return!!(b.l&64)})}
m.kc=function(a,b,c,d,f){var e=this.h;e.Ya=d&65535;e.l=e.l&-49|d>>12&48;e.pa=d>>16&63;e.H=~~(c/e.D[b.ia])<<6|c%e.D[b.ia];e.wa=e.H;e.sa=65536-f&65535;switch(a){case 1:e.l|=33792;break;case 2:e.l|=40960}I(this.b,20,160,112,function(){e.l|=129;return!!(e.l&64)})};function eb(a){a=a.j;a.B=2176;a.$=0;a.T=[4544,4544,4544,4544,4544,4544,4544,4544];a.Ta=[0,0,0,0,0,0,0,0];a.Ja=a.Ua=a.Sa=a.va=a.Cb=0}
function fb(a,b){var c=a.j,d,f,e;c.B&=-16513;c.$&=-2049;c.T[b]&=-1153;I(a.b,-1,0,172);"undefined"===typeof c.S[b]&&(c.S[b]={cache:[],postProcess:a.lc,drive:b,blocksize:256,mapped:0,maxblock:c.sb[0]*c.Da[0]*c.D[0],url:"rp"+b+".dsk"});switch(c.B&63){case 5:c.qb[b]=c.ka[b];c.B|=32896;c.T[b]|=32896;c.Ja|=1<<b;break;case 9:eb(a);break;case 19:c.T[b]|=64;break;case 49:if(c.ka[b]>=c.sb[0]||c.aa[b]>>8>=c.Da[0]||(c.aa[b]&255)>=c.D[0]){c.Ta[b]|=1024;c.B|=49152;break}d=(c.ka[b]*c.Da[0]+(c.aa[b]>>8))*c.D[0]+
(c.aa[b]&255);f=(c.va&63)<<16|c.Sa;e=65536-c.Ua&65535;cb(a,c.S[b],d,f,e);return;case 57:if(c.ka[b]>=c.sb[0]||c.aa[b]>>8>=c.Da[0]||(c.aa[b]&255)>=c.D[0]){c.Ta[b]|=1024;c.B|=49152;break}d=(c.ka[b]*c.Da[0]+(c.aa[b]>>8))*c.D[0]+(c.aa[b]&255);f=(c.va&63)<<16|c.Sa;e=65536-c.Ua&65535;a.pb(c.S[b],d,f,e);return}I(a.b,3,160,172,function(){c.B=c.B&65534|128;c.T[b]|=128;return!!(c.B&64)})}
m.lc=function(a,b,c,d,f){var e=this.j;e.Ua=65536-f&65535;e.Sa=d&65535;e.B=e.B&-769|d>>8&768;e.va=d>>16&63;f=~~(c/e.D[0]);d=~~(f/e.Da[0]);e.aa[b.ia]=f%e.Da[0]<<8|c%e.D[0];e.qb[b.ia]=e.ka[b.ia]=d;e.Ja|=1<<b.ia;c>=b.fc-1&&(e.T[b.ia]|=1024);switch(a){case 1:e.$|=512;e.B|=49152;break;case 2:e.$|=2048,e.B|=49152}I(this.b,20,160,172,function(){e.T[b.ia]|=128;e.B=e.B&65534|128;return!!(e.B&64)})};m.dc=function(){this.f.l|=128;this.f.l&64&&I(this.b,0,192,64)};
function gb(a,b,c,d,f,e){var h=~~((e+c.qa-1)/c.qa),g=new XMLHttpRequest;2048>h&&d+2048<c.fc&&(h=2048);g.open("GET",c.url,!0);g.setRequestHeader("Range","bytes="+(d*c.qa<<1)+"-"+(((d+h)*c.qa<<1)-1));g.responseType="arraybuffer";g.onreadystatechange=function(){if(4==g.readyState){var h=b.bind(a),l,t,w,O;l=g.response;if(0!=g.status&&206!=g.status||!l)c.ob(1,c,d,f,e);else{l=new Uint8Array(l);t=d;for(O=0;O<l.length;){if("undefined"===typeof c.cache[t])for(c.cache[t]=[],w=0;w<c.qa;w++)c.cache[t][w]=O<l.length?
l[O]&255|l[O+1]<<8&65280:0,O+=2;else O+=c.qa<<1;t++}h(c,d,f,e)}}};g.send(null)}function J(a,b,c,d,f){if(c&1){if(!f)return K(a.b,4,122);d=0<=d?d<<8&65280|b&255:b}else 0<=d?f&&(d=b&65280|d&255):d=b;return d}m.pb=function(a,b,c,d){for(var f;0<d;){if("undefined"===typeof a.cache[b]){gb(this,this.pb,a,b,c,d);return}for(f=0;f<a.qa&&0<d;f++){if(0>L(this.b,a.ec?hb(this.b,c):c,a.cache[b][f])){a.ob(2,a,b,c,d);return}c+=2;--d}b++}a.ob(0,a,b,c,d)};
function cb(a,b,c,d,f){for(var e,h;0<f;){if("undefined"===typeof b.cache[c])for(b.cache[c]=[],e=0;e<b.qa;e++)b.cache[c][e]=0;for(e=0;e<b.qa&&0<f;e++){h=M(a.b,b.ec?hb(a.b,d):d);if(0>h){b.ob(2,b,c,d,f);return}b.cache[c][e]=h;d+=2;--f}c++}b.ob(0,b,c,d,f)}m.reset=function(){this.c.Ra=this.c.Ra&-120|20;this.m.ga=0;this.m.U=128;this.f.l=0;this.g.w=128;this.h.l=128;eb(this)};
m.Wb=function(a,b,c){var d,f,e=this.b;switch(a&-64){case 4194240:switch(a&-2){case 4194300:0>b?d=e.la&65280:(a&1&&(b<<=8),e.la=b|255,d=0);break;case 4194298:if(0>b)d=e.nb;else{a&1&&(b<<=8);if(d=b&65024){f=d>>9;do d+=34;while(f>>=1)}e.nb=d;e.ja=2}break;case 4194294:if(70!==e.Fa)return K(e,4,222);0>b?d=e.o:d=e.o=0;break;case 4194292:if(70!==e.Fa)return K(e,4,224);d=1;break;case 4194290:if(70!==e.Fa)return K(e,4,226);d=0;break;case 4194288:if(70!==e.Fa)return K(e,4,228);d=61183;break;case 4194296:0<=
b&&!(a&1)&&(b&=255);case 4194286:case 4194284:case 4194282:case 4194280:case 4194278:case 4194276:case 4194274:case 4194272:if(70!==e.Fa)return K(e,4,232);f=a-4194272>>1;0>b?d=e.zb[f]:(d=J(this,e.zb[f],a,b,c),0<=d&&(e.zb[f]=d));break;case 4194254:return a&1?e.s>>14&1?(0<=b&&(e.a[6]=b),d=e.a[6]):(0<=b&&(e.Y[3]=b),d=e.Y[3]):e.s>>14&0?(0<=b&&(e.a[6]=b),d=e.a[6]):(0<=b&&(e.Y[1]=b),d=e.Y[1]),d;case 4194252:case 4194250:case 4194248:return f=a&7,e.s&2048?(0<=b&&(e.a[f]=b),d=e.a[f]):(0<=b&&(e.Ia[f]=b),d=
e.Ia[f]),d;case 4194246:return a&1?(0<=b&&(e.a[7]=b),d=e.a[7]):e.s>>14&0?(0<=b&&(e.a[6]=b),d=e.a[6]):(0<=b&&(e.Y[0]=b),d=e.Y[0]),d;case 4194244:case 4194242:case 4194240:return f=a&7,e.s&2048?(0<=b&&(e.Ia[f]=b),d=e.Ia[f]):(0<=b&&(e.a[f]=b),d=e.a[f]),d;default:return e.o|=16,K(e,4,124)}break;case 4194176:f=a>>1&31;d=J(this,e.O[3][f],a,b,c);0<=d&&(e.O[3][f]=d,e.O[3][f&15]&=65295);break;case 4194112:var h=this.m;f=this.f;switch(a&-2){case 4194174:d=J(this,e.Va,a,b,c);0<=d&&(e.Va=d);break;case 4194172:d=
e.ea;d&65280&&(d=(d<<8|d>>8)&65535);break;case 4194170:e.G=e.G&62337|e.bb<<5|e.mb<<1;0>b?d=e.G:(d=J(this,e.G,a,b,c),0<=d&&(e.G=d&=62337,e.bb=d>>5&3,e.mb=d>>1&15,d&257?(f=2,e.na&16&&(f=1),e.ab=d&1?Ia|E:E):(e.ab=0,f=4),this.c.Ra=this.c.Ra&-8|f));break;case 4194168:0>b?d=this.c.sc&65535:(d=J(this,this.c.data,a,b,c),0<=d&&(this.c.data=d));break;case 4194166:0<=b&&(b&127&&(h.$b=0),h.U&=-129,I(e,100,128,52,function(){h.U|=128;return!!(h.U&64)}));d=0;break;case 4194164:0>b?d=h.U:(d=J(this,h.U,a,b,c),0<=
d&&(128==(h.U&192)&&d&64&&I(e,8,128,52,function(){h.U|=128;return!!(h.U&64)}),h.U=h.U&128|d&-129));break;case 4194162:d=0;0>b&&(h.ga&=-129,0<h.Bb.length&&(d=h.Bb.shift(),0<h.Bb.length&&setTimeout(function(){h.ga|=128;h.ga&64&&I(e,40,128,48)},50)));break;case 4194160:0>b?d=h.ga:(d=J(this,h.ga,a,b,c),0<=d&&(h.ga=h.ga&128|d&-129));break;case 4194150:0>b?(d=f.l,f.l&=-129):(d=J(this,f.l,a,b,c),0<=d&&(d&64&&!f.Ab&&(setInterval(this.dc.bind(this),25),f.Ab=1),f.l=d&-129));break;default:return e.o|=16,K(e,
4,126)}break;case 4194048:f=this.g;switch(a&-2){case 4194048:d=J(this,f.gb,a,b,c);0<=d&&(f.gb=d);break;case 4194050:d=J(this,f.P,a,b,c);0<=d&&(f.P=d);break;case 4194052:d=J(this,f.w,a,b,c);0<=b&&0<=d&&(f.w=d&-36993|f.w&36992,f.w&1&&bb(this));break;case 4194054:d=J(this,f.hb,a,b,c);0<=d&&(f.hb=d);break;case 4194056:d=J(this,f.fb,a,b,c);0<=d&&(f.fb=d);break;case 4194058:d=J(this,f.V,a,b,c);0<=d&&(f.V=d);break;case 4194060:break;case 4194062:d=J(this,f.Pb,a,b,c);0<=d&&(f.Pb=d);break;default:return e.o|=
16,K(e,4,128)}break;case 4193728:var g=this.j;f=g.$&7;switch(a&-2){case 4193728:d=J(this,g.B,a,b,c);0<=b&&0<=d&&(g.va=g.va&60|d>>8&3,g.B=d&17279|g.B&34944|2048,d&1&&g.B&128?fb(this,f):192==(d&192)&&I(e,0,160,172));break;case 4193730:d=J(this,g.Ua,a,b,c);0<=d&&(g.Ua=d);break;case 4193732:d=J(this,g.Sa,a,b,c);0<=d&&(g.Sa=d&65534);break;case 4193734:d=J(this,g.aa[f],a,b,c);0<=d&&(g.aa[f]=d&7967);break;case 4193736:d=J(this,g.$,a,b,c);0<=d&&(g.$=d&63|g.$&65472,d&128&&eb(this));break;case 4193738:d=g.T[f];
break;case 4193740:d=g.Ta[f];break;case 4193742:d=J(this,g.Ja,a,b,c);0<=d&&(g.Ja=d&255);break;case 4193744:d=g.qc[f];break;case 4193746:d=J(this,g.Qb,a,b,c);0<=d&&(g.Qb=d);break;case 4193748:d=J(this,g.Rb[f],a,b,c);0<=d&&(g.Rb[f]=d&1023);break;case 4193750:d=8210;break;case 4193752:d=g.rc[f];break;case 4193754:d=J(this,g.Sb[f],a,b,c);0<=d&&(g.Sb[f]=d);break;case 4193756:d=J(this,g.ka[f],a,b,c);0<=d&&(g.ka[f]=d&511);break;case 4193758:g.qb[f]=g.ka[f];d=g.qb[f];break;case 4193760:d=g.oc[f];break;case 4193762:d=
g.pc[f];break;case 4193764:d=g.mc[f];break;case 4193766:d=g.nc[f];break;case 4193768:d=J(this,g.va,a,b,c);0<=d&&(g.va=d&63,g.B=g.B&-769|(d&3)<<8);break;case 4193770:d=J(this,g.Cb,a,b,c);0<=d&&(g.Cb=d);break;default:return e.o|=16,K(e,4,132)}break;case 4192512:f=this.h;switch(a&-2){case 4192512:d=J(this,f.l,a,b,c);0<=b&&0<=d&&(f.pa=f.pa&60|d>>4&3,f.l=f.l&-1023|d&1022,f.l&128||db(this));break;case 4192514:d=J(this,f.Ya,a,b,c);0<=d&&(f.Ya=d&65534);break;case 4192516:d=J(this,f.H,a,b,c);0<=d&&(f.H=d);
break;case 4192518:d=J(this,f.sa,a,b,c);0<=d&&(f.sa=d);break;case 4192520:d=J(this,f.pa,a,b,c);0<=d&&(f.pa=d&63,f.l=f.l&-49|(f.pa&3)<<4);break;default:return e.o|=16,K(e,4,134)}break;case 4191552:switch(a&-2){case 4191566:0>b?d=e.na:(d=J(this,e.na,a,b,c),0<=d&&(70!==e.Fa&&(d&=-49),e.na=d,e.Ha[0]=d&4?15:7,e.Ha[1]=d&2?15:7,e.Ha[3]=d&1?15:7,e.ab&&(f=2,e.na&16&&(f=1),this.c.Ra=this.c.Ra&-8|f)));break;default:return e.o|=16,K(e,4,136)}break;case 4191424:f=a>>1&31;d=J(this,e.O[0][f],a,b,c);0<=d&&(e.O[0][f]=
d,e.O[0][f&15]&=65295);break;case 4191360:f=a>>1&31;d=J(this,e.O[1][f],a,b,c);0<=d&&(e.O[1][f]=d,e.O[1][f&15]&=65295);break;case 4190400:case 4190336:if(70!==e.Fa)return K(e,4,234);f=a>>2&31;d=e.ib[f];a&2&&(d=d>>16);d&=65535;0<=b&&(d=J(this,d,a,b,c),0<=d&&(e.ib[f]=a&2?d<<16|e.ib[f]&65535:e.ib[f]&4294901760|d&65534));break;case 4188672:case 4188736:case 4188800:case 4188864:case 4188928:case 4188992:case 4189056:case 4189120:if(0>b)d=Ya[a>>1&255];else return e.o|=16,K(e,4,138);break;default:return e.o|=
16,K(e,4,142)}c&&0<=d&&(a&1?d=d>>8:d&=255);"undefined"===typeof d&&console.log("panic(76)");return d};var Za={};Za[4194302]=[null,null,Xa.prototype.hc,Xa.prototype.uc];u(function(){for(var a=C(document,"pdp11","device"),b=0;b<a.length;b++){var c=a[b],d=A(c),d=new Xa(d);B(d,c)}});var ib;if(Ha){var jb=new ArrayBuffer(2);(new DataView(jb)).setUint16(0,256,!0);ib=256===(new Uint16Array(jb))[0]}else ib=!1;var kb=ib;
function H(a,b,c,d,f){this.id=lb+=2;this.b=null;this.Qa=a;this.rb=b;this.size=c||0;this.type=d||mb;this.h=d==nb;this.controller=null;Oa(this);this.ra=this.bc=!1;if(c)if(f)this.controller=f,this.b=null,ob(this,f.Wa);else if(Ha)this.f=new ArrayBuffer(c),this.g=new DataView(this.f,0,c),this.c=new Uint8Array(this.f,0,c),this.v=new Uint16Array(this.f,0,c>>1),this.b=new Int32Array(this.f,0,c>>2),ob(this,kb?pb:qb);else{this.b=Array(c>>2);for(a=0;a<this.b.length;a++)this.b[a]=0;ob(this,rb)}else ob(this)}
var mb=0,nb=2,Ua=4,Wa=["NONE","RAM","ROM","VID","H/W"],lb=0;
H.prototype={constructor:H,parent:null,Ab:function(a){this.Qa=a},save:function(){var a,b;if(this.controller)a=null;else if(Ha)for(a=Array(this.size>>2),b=0;b<a.length;b++)a[b]=this.g.getInt32(b<<2,!0);else a=this.b;return a},restore:function(a){if(this.controller)return null==a;if(a&&this.size==a.length<<2){var b;if(Ha)for(b=0;b<a.length;b++)this.g.setInt32(b<<2,a[b],!0);else this.b=a;return this.ra=!0}return!1},m:function(){return 255},F:function(){},u:function(a,b){return this.eb(a++,b++)|this.eb(a,
b)<<8},J:function(a,b,c){this.jb(a++,b&255,c++);this.jb(a,b>>8,c)},Z:function(a){return this.b[a>>2]>>>((a&3)<<3)&255},ya:function(a){var b=a>>2;a=(a&3)<<3;var c=this.b[b]>>a;return 24>a?c&65535:c&255|(this.b[b+1]&255)<<8},Ca:function(a,b){var c=a>>2,d=(a&3)<<3;this.b[c]=this.b[c]&~(255<<d)|b<<d;this.ra=!0},Pa:function(a,b){var c=a>>2,d=(a&3)<<3;24>d?this.b[c]=this.b[c]&~(65535<<d)|b<<d:(this.b[c]=this.b[c]&16777215|b<<24,c++,this.b[c]=this.b[c]&-256|b>>8);this.ra=!0},N:function(a,b){return this.R(a,
b)},da:function(a,b){return this.ma(a,b)},Aa:function(a,b,c){this.h||this.Vb(a,b,c)},Ma:function(a,b,c){this.h||this.Na(a,b,c)},M:function(a){return this.c[a]},W:function(a){return this.c[a]},ca:function(a){return this.g.getUint16(a,!0)},xa:function(a){return a&1?this.c[a]|this.c[a+1]<<8:this.v[a>>1]},za:function(a,b){this.c[a]=b;this.ra=!0},Ba:function(a,b){this.c[a]=b;this.ra=!0},La:function(a,b){this.g.setUint16(a,b,!0);this.ra=!0},Oa:function(a,b){a&1?(this.c[a]=b,this.c[a+1]=b>>8):this.v[a>>
1]=b;this.ra=!0}};function Oa(a,b,c){a.I=b;a.j=a.A=0;c&&((a.j=c.j)&&sb(a,tb,!1),(a.A=c.A)&&ub(a,tb,!1))}function ub(a,b,c){c&&a.A||(a.jb=!a.h&&b[1]||a.F,a.vc=!a.h&&b[3]||a.J);if(c||void 0===c)a.Vb=b[1]||a.F,a.Na=b[3]||a.J}function sb(a,b,c){c&&a.j||(a.eb=b[0]||a.m,a.ic=b[2]||a.u);if(c||void 0===c)a.R=b[0]||a.m,a.ma=b[2]||a.u}function ob(a,b){b||(b=vb);sb(a,b,void 0);ub(a,b,void 0)}
var vb=[],rb=[H.prototype.Z,H.prototype.Ca,H.prototype.ya,H.prototype.Pa],tb=[H.prototype.N,H.prototype.Aa,H.prototype.da,H.prototype.Ma];if(Ha)var qb=[H.prototype.M,H.prototype.za,H.prototype.ca,H.prototype.La],pb=[H.prototype.W,H.prototype.Ba,H.prototype.xa,H.prototype.Oa];
function wb(a,b){v.call(this,"CPU",a,wb);var c=a.multiplier||1;this.vb=a.cycles||b;this.da=c;this.ub=Math.round(this.vb/1E4)/100;this.Z=this.ub*this.da;this.i.ha=!1;this.i.Tb=!1;this.i.Xa=a.autoStart;this.i.Mb=!1;this.i.kb=!1;this.Na=this.ca=0;this.Oa=a.csStart;this.ya=a.csInterval;this.za=a.csStop;this.La=[];this.Kb=this.Db.bind(this);D(this)}y(wb);var xb=["power","reset"];m=wb.prototype;
m.Ga=function(a,b,c,d){this.u=a;this.v=b;this.I=d;for(b=0;b<xb.length;b++)(c=this.A[xb[b]])&&this.u.ba(null,xb[b],c);this.xa=null;a=yb(a,"autoStart");null!=a&&(this.i.Xa="true"==a?!0:"false"==a?!1:!!a);D(this)};m.reset=function(){};m.save=function(){return null};m.restore=function(){return!1};m.ua=function(a,b){if(!b){if(a&&this.restore){zb(this);if(!this.restore(a))return!1;Ab(this)}else this.reset();this.X("No debugger detected")}Bb(this);return!0};m.ta=function(a){return a?this.save():!0};
m.Xa=function(){return this.i.Xa||void 0===this.A.run?(this.Db(),!0):!1};m.Ob=function(){return 0};function Ab(a){void 0===a.Oa&&(a.Oa=0);void 0===a.ya&&(a.ya=-1);void 0===a.za&&(a.za=-1);a.i.kb=0<=a.Oa&&0<a.ya;a.i.kb&&(a.Na=0,a.ca=a.Oa-a.W)}
function Cb(a,b,c,d){if(a.A[b]){void 0===c&&(a.i.error=!0,a.K("Value for "+b+" is invalid"),Db(a));var f=a.I&&a.I.c||8;if(!a.i.ha||a.i.Mb)if(8==f){f="";d?11<d&&(d=11):d=c&-65536?11:6;if(null==c||isNaN(c))for(;0<d--;)f="?"+f;else for(;0<d--;)f=String.fromCharCode((c&7)+48)+f,c>>=3;d=""+f}else d=n(c,d);else d="--------".substr(0,d||4);a.A[b].textContent!=d&&(a.A[b].textContent=d)}}
m.ba=function(a,b,c){var d=this;a=!1;switch(b){case "power":case "reset":this.A[b]=c;a=!0;break;case "run":this.A[b]=c;c.onclick=function(){var a;if(a=d.u)if(a=d.u,a.i.L)a=!0;else{var b=null,c,g=z(a.id);for(c=0;c<g.length&&(b=g[c],b===a||b.i.ready);c++);if(c==g.length)for(c=0;c<g.length&&(b=g[c],b===a||b.i.L);c++);c==g.length&&(b=a);q("The "+b.type+" component ("+b.id+") is not "+(b.i.ready?"powered yet":"ready yet"+(b.lb?" (waiting for notification)":""))+".");a=!1}a&&(d.i.ha?Db(d):d.Db())};a=!0;
break;case "speed":this.A[b]=c;a=!0;break;case "setSpeed":this.A[b]=c,c.onclick=function(){Eb(d,d.da<<1)},c.textContent=this.Z.toFixed(2)+"Mhz",a=!0}return a};function Fb(a,b,c){a.W+=b;c&&(a.R=a.b=0)}function Gb(a,b){var c=1;b&&1<a.da&&a.M&&(c=a.M/a.ub);a.Ib=Math.round(1E3/30);a.Pa=Math.floor(a.vb/30*c);b||(a.Aa=a.Pa);a.wb=0}function Hb(a){return a.W+a.J+a.R-a.b}function zb(a){a.M=0;a.Jb=0;a.W=a.J=a.R=a.b=0;Ab(a);Eb(a,1)}
function Eb(a,b){if(void 0!==b){.8>a.M/a.Z&&(b=1);a.da=b;var c=a.ub*a.da;if(a.Z!=c){a.Z=c;var c=a.Z.toFixed(2)+"Mhz",d=a.A.setSpeed;d&&(d.textContent=c);a.X("target speed: "+c)}}Fb(a,a.J);a.J=0;a.F=ha();a.N=0;Gb(a)}function Ib(a){a.R-=a.b;a.b=0}
m.Db=function(){if(Fa(this,!0)){if(!this.i.ha){Eb(this);this.u&&this.u.start(this.F,Hb(this));this.i.ha=!0;this.i.Tb=!0;this.xa&&this.xa.start();var a=this.A.run;a&&(a.textContent="Halt");this.u&&this.u.Ka(!0)}this.wb>=this.vb&&Gb(this,!0);this.Ba=0;this.Ma=ha();this.N&&(a=this.Ma-this.N,a>this.Ib&&(this.F+=a,this.F>this.Ma&&(this.F=this.Ma)));try{do{for(var b,c=this.i.kb?1:this.Pa,d=this.La.length-1;0<=d;d--){var f=this.La[d];0>f[0]||c>f[0]&&(c=f[0])}b=c;try{this.Ub(b)}catch(l){if("number"!=typeof l)throw l;
}for(var e=this.R-this.b,a=e,h=this.La.length-1;0<=h;h--){var g=this.La[h];0>g[0]||(g[0]-=a,0>=g[0]&&(g[0]=-1,g[1]()))}this.Ba+=e;this.J+=e;Fb(this,0,!0);a=e;if(this.i.kb){var k=!1;this.Na=this.Na+this.Ob()|0;this.ca-=a;0>=this.ca&&(this.ca+=this.ya,k=!0);0<=this.za&&this.za<=Hb(this)&&(this.ya=this.za=-1,Ab(this),Db(this),k=!0);k&&this.X(Hb(this)+" cycles: checksum="+n(this.Na))}this.Aa-=e;if(0>=this.Aa){this.Aa+=this.Pa;15<=++this.Jb&&(this.u&&this.u.Ka(),this.Jb=0);break}}while(this.i.ha)}catch(l){Db(this);
Bb(this);this.u&&this.u.stop(ha(),Hb(this));Fa(this,!1);b=l.stack||l.message;this.i.error=!0;this.K(b);return}b=setTimeout;c=this.Kb;this.N=ha();d=this.Ib;this.Ba&&(d=Math.round(d*this.Ba/this.Pa));d=d-(this.N-this.Ma);if(f=this.N-this.F)this.M=Math.round(this.J/(10*f))/100,864E5<=f&&(this.W=0,Eb(this));if(0>d||this.M<this.Z)-1E3>d&&(this.F-=d),d=0;this.wb+=this.Ba;this.N+=d;b(c,d)}else Bb(this),this.u&&this.u.stop(ha(),Hb(this))};m.Ub=function(){return 0};
function Db(a){a.i.Za&&(a.i.xb=!0);Ib(a);Fb(a,a.J);a.J=0;if(a.i.ha){a.i.ha=!1;a.xa&&a.xa.stop();var b=a.A.run;b&&(b.textContent="Run")}a.i.complete=void 0}function Bb(a){a.u&&a.u.Ka(void 0)}
function Jb(a){this.Yb=+a.model||1170;this.cc=a.resetAddr||0;wb.call(this,a,1E6);this.Fb=0;this.decode=Kb.bind(this);this.g=65536;this.f=32768;this.h=65535;this.c=32768;this.a=[0,0,0,0,0,0,0,this.cc];this.Ia=[0,0,0,0,0,0];this.Y=[0,0,0,0];this.memory=[];this.j=[];this.Ca=this.nb=0;this.ja=2;this.la=255;this.C=0;this.ma=-1;this.o=0;this.Fa=70;this.mb=this.bb=this.ab=this.m=this.na=this.Va=this.ea=this.G=0;this.Ha=[7,7,7,7];this.O=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[65535,65535,65535,65535,65535,65535,65535,65535,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];this.ib=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.zb=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.i.complete=this.i.Zb=!1}y(Jb,wb);m=Jb.prototype;
m.reset=function(){this.i.ha&&Db(this);Lb(this);zb(this);this.i.error=!1;this.parent.reset.call(this)};function Lb(a){a.la=255;a.o=0;a.j=[];a.nb=0;a.G=a.ea=a.Va=a.na=a.ab=0;a.Ha[0]=a.Ha[1]=a.Ha[3]=7;a.bb=0}m.Ob=function(){return 0};
m.save=function(){var a=new N(this);P(a,0,[]);P(a,1,[this.Eb,this.W,this.da]);for(var b=this.v,c=0,d=[],f=0;f<b.v;f++){var e=b.c[f];if(e.ra||e.bc){d[c++]=f;var h=c++;a:if(e=e.save()){for(var g=0,k=0,l=[];g<e.length;){for(var t=e[g],w=g+1;w<e.length&&e[w]===t;)w++;l[k++]=w-g;l[k++]=t;g=w}if(l.length<e.length){e=l;break a}}d[h]=e}}P(a,2,d);return a.data()};
m.restore=function(a){var b=a[1];this.Eb=b[0];this.W=b[1];Eb(this,b[3]);a:{b=this.v;a=a[2];var c;for(c=0;c<a.length-1;c+=2){var d=a[c],f=a[c+1];if(f&&f.length<b.M){for(var e=0,h=Array(b.M),g=0;g<f.length-1;)for(var k=f[g++],l=f[g++];k--;)h[e++]=l;f=h}e=b.c[d];if(!e||!e.restore(f)){q("Unable to restore memory block "+d);b=!1;break a}}b=!0}return b};
m.ba=function(a,b,c){var d=!1;switch(b){case "R0":case "R1":case "R2":case "R3":case "R4":case "R5":case "R6":case "R7":case "NF":case "ZF":case "VF":case "CF":case "PS":this.A[b]=c;this.Fb++;d=!0;break;default:d=this.parent.ba.call(this,a,b,c)}return d};
m.Ka=function(a){if(this.Fb&&(a||!this.i.ha||this.i.Mb)){for(a=0;a<this.a.length;a++)Cb(this,"R"+a,this.a[a]);a=$a(this);Cb(this,"PS",a);Cb(this,"NF",a&8?1:0,1);Cb(this,"ZF",a&4?1:0,1);Cb(this,"VF",a&2?1:0,1);Cb(this,"CF",a&1?1:0,1)}if(a=this.A.speed)a.textContent=this.i.ha&&this.M?this.M.toFixed(2)+"Mhz":"Stopped"};
function I(a,b,c,d,f){for(var e=a.j.length;0<e--;)if(a.j[e].tc===d){0<e&&(a.j[e-1].fa+=a.j[e].fa);a.j.splice(e,1);break}if(0<=b){2===a.Ca&&(b=0,a.Ca=0,setTimeout(a.Kb,0));for(e=a.j.length;0<e--;){if(a.j[e].fa>b){a.j[e].fa-=b;break}b-=a.j[e].fa}a.j.splice(e+1,0,{delay:b,priority:c&224,vector:d,callback:f})}a.ja=2}function $a(a){return a.s=a.s&63728|(a.c&32768?8:0)|(a.h&65535?0:4)|(a.f&32768?2:0)|(a.g&65536?1:0)}
function ab(a,b){a.c=b<<12;a.h=~b&4;a.f=b<<14;a.g=b<<16;if((b^a.s)&2048)for(var c=a.Ia.length;0<=--c;){var d=a.a[c];a.a[c]=a.Ia[c];a.Ia[c]=d}a.m=b>>14&3;c=a.s>>14&3;a.m!=c&&(a.Y[c]=a.a[6],a.a[6]=a.Y[a.m]);a.ja=2;a.s=b}function Q(a,b){a.C&128||(a.c=a.h=b,a.f=0)}function Mb(a,b,c,d){a.C&128||(a.c=a.h=a.g=b,a.f=(c^d)&(d^b))}
function K(a,b,c){var d,f,e=0;0>a.ma?a.ma=$a(a):a.m||(b=4,e=1);a.G&57344||(a.ea=63222,a.Va=b);a.m=0;0<=(d=R(a,b|65536))&&0<=(f=R(a,b+2&65535|65536))&&(ab(a,f&53247|a.ma>>2&12288),e&&(a.o|=4,a.a[6]=4),0<=S(a,a.ma)&&0<=S(a,a.a[7])&&(a.a[7]=d));a.C&=-113;a.ma=-1;throw b|c<<8;}function hb(a,b){var c=b>>13&31;31>c?a.na&32&&(b=a.ib[c]+(b&8190)&4194302,3932160<=b&&4186112>b&&console.log("panic(898)")):b|=4186112;return b}
function Nb(a,b,c){var d,f,e,h=0;if(c&a.ab){d=b>>13&a.Ha[a.m];f=a.O[a.m][d];e=(a.O[a.m][d+16]<<6)+(b&8191)&4194303;a.na&16?3932160<=e&&4186112>e&&(e=hb(a,e&262143)):(e&=262143,253952<=e&&(e|=4186112));3932160>e&&(3915776<=e&&(a.o|=32,K(a,4,24)),e&1&&!(c&1)&&(a.o|=64,K(a,4,26)));switch(f&7){case 1:h=4096;case 2:f|=128;c&E&&(h=8192);break;case 4:h=4096;case 5:c&E&&(h=4096);case 6:f|=c&E?192:128;break;default:h=32768}32512!==(f&32520)&&(f&8?f&32512&&(b&8128)<(f>>2&8128)&&(h|=16384):(b&8128)>(f>>2&8128)&&
(h|=16384));a.O[a.m][d]=f;if(4194170!==e||a.m)a.bb=a.m,a.mb=d;h&&(h&57344&&(0<=a.ma&&(h|=128),a.G&57344||(a.G=a.G|h|a.bb<<5|a.mb<<1),K(a,168,28)),a.G&61440||!(4191360>e||4194239<e)||(a.G|=4096,a.G&512&&(a.C|=32)))}else e=b&65535,57344<=e?e|=4186112:e&1&&!(c&1)&&(a.o|=64,K(a,4,22));return e}function M(a,b){var c;if(4194304<=b)c=a.a[b-4194304];else if(0<=b){c=a.v;var d=b&c.h,f=(b&c.j)>>>c.f;c=d!=c.h?c.c[f].ic(d,b):c.c[f++].eb(d,b)|c.c[f&c.N].eb(0,b+1)<<8}else c=b;return c}
function L(a,b,c){c&=65535;if(4194304<=b)return a.a[b-4194304]=c;if(0<=b){a=a.v;var d=c,f=b&a.h,e=(b&a.j)>>>a.f;f!=a.h?a.c[e].vc(f,d&65535,b):(a.c[e++].jb(f,d&255,b),a.c[e&a.N].jb(0,d>>8&255,b+1));return c}return b}function T(a,b){var c;4194304<=b?c=a.a[b-4194304]&255:0<=b?(c=a.v,c=c.c[(b&c.j)>>>c.f].eb(b&c.h,b)):c=b;return c}function U(a,b,c){c&=255;return 4194304<=b?a.a[b-4194304]=a.a[b-4194304]&65280|c:0<=b?(a=a.v,a.c[(b&a.j)>>>a.f].jb(b&a.h,c&255,b),c):b}
function R(a,b){return M(a,Nb(a,b,Ia))}function Ob(a){var b=R(a,a.a[6]|65536);0<=b&&(a.a[6]=a.a[6]+2&65535);return b}function S(a,b){var c,d;a.a[6]=d=a.a[6]-2&65535;a.G&57344||(a.ea=a.ea<<8|246);!a.m&&d<=a.la&&4<d&&(d<=a.la-32?(a.o|=4,a.a[6]=4,K(a,4,32)):(a.o|=8,a.C|=4));return 0<=(c=Nb(a,d|65536,E))?L(a,c,b):c}
function Pb(a,b,c){var d,f,e=b&7;switch(b>>3&7){case 0:K(a,4,34);break;case 1:return 6===e&&!a.m&&c&E&&(a.a[6]<=a.la||65534<=a.a[6])&&(a.a[6]<=a.la-32||65534<=a.a[6]?(a.o|=4,a.a[6]=4,K(a,4,36)):(a.o|=8,a.C|=64)),7===e?a.a[e]:a.a[e]|65536;case 2:f=2;d=a.a[e];7!==e&&(d|=65536,6>e&&c&1&&(f=1));break;case 3:f=2;d=a.a[e];7!==e&&(d|=65536);if(0>(d=R(a,d)))return d;d|=65536;break;case 4:f=-2;6>e&&c&1&&(f=-1);d=a.a[e]+f&65535;7!==e&&(d|=65536);break;case 5:f=-2;d=a.a[e]-2&65535;7!==e&&(d|=65536);if(0>(d=
R(a,d)))return d;d|=65536;break;case 6:if(0>(d=R(a,a.a[7])))return d;a.a[7]=a.a[7]+2&65535;d=d+a.a[e]&65535;return d|65536;case 7:if(0>(d=R(a,a.a[7])))return d;a.a[7]=a.a[7]+2&65535;d=d+a.a[e]&65535;return 0>(d=R(a,d|65536))?d:d|65536}a.a[e]=a.a[e]+f&65535;a.G&57344||(a.ea=a.ea<<8|f<<3&248|e);6===e&&!a.m&&c&E&&0>=f&&(a.a[6]<=a.la||65534<=a.a[6])&&(a.a[6]<=a.la-32?(a.o|=4,a.a[6]=4,K(a,4,38)):(a.o|=8,a.C|=64));return d}
function V(a,b,c){var d;return b&56?(0<=(d=Pb(a,b,c))&&(d=Nb(a,d,c)),d):4194304+(b&7)}function W(a,b){var c;b&56?(c=V(a,b,Ia),c=M(a,c)):c=a.a[b&7];return c}function X(a,b){var c;b&56?(c=V(a,b,Ja),c=T(a,c)):c=a.a[b&7]&255;return c}function Qb(a,b,c,d){b&56?(b=V(a,b,F),L(a,b,d.call(a,c,M(a,b)))):(b&=7,a.a[b]=d.call(a,c,a.a[b]))}function Rb(a,b,c,d){b&56?(b=V(a,b,G),U(a,b,d.call(a,c,T(a,b)))):(b&=7,a.a[b]=d.call(a,c,a.a[b]))}function Y(a,b){return((b&128?b|65280:b&255)<<1)+a&65535}
m.Ub=function(a){this.i.complete=!0;this.i.Zb=!1;this.i.Tb=!1;this.R=this.b=a;this.Eb&256?(Ib(this),a=!1):a=!0;if(a){do{var b,c,d,f,e;this.C&112&&(this.C&32?K(this,168,52):this.C&64?K(this,4,54):this.C&16&&K(this,12,56),this.C&=-113);if(this.ja)if(1===this.ja)this.ja=2;else{this.ja=0;c=-1;b=this.nb&224;if(0<(a=this.j.length))for(;0<a--;){if(0<this.j[a].fa){this.j[a].fa--;this.ja=2;break}if(this.j[a].Lb){if(!this.j[a].Lb()){this.j.splice(a,1);c--;continue}this.j[a].Lb=null}this.j[a].gc>b&&(b=this.j[a].gc,
c=a)}b>(this.s&224)&&(0>c?K(this,160,42):(K(this,this.j[c].tc,44),this.j.splice(c,1)))}this.G&57344||(this.ea=0,this.Va=this.a[7]);this.C=this.s&16;a=R(this,this.a[7]);this.a[7]=this.a[7]+2&65535;this.decode(a);if(0<=a)switch(a&61440){default:switch(a&65024){case 2048:0<=(f=Pb(this,a,0))&&(e=a>>6&7,0<=S(this,this.a[e])&&(this.a[e]=this.a[7],this.a[7]=f&65535));break;case 28672:0<=(b=W(this,a))&&(e=a>>6&7,b&32768&&(b|=-65536),c=this.a[e],c&32768&&(c|=-65536),a=~~(b*c),this.a[e]=a>>16&65535,this.a[e|
1]=a&65535,this.c=a>>16,this.h=this.c|a,this.g=this.f=0,-32768>a||32767<a)&&(this.g=65536);break;case 29184:0<=(b=W(this,a))&&(b?(e=a>>6&7,c=this.a[e]<<16|this.a[e|1],this.g=this.f=0,b&32768&&(b|=-65536),a=~~(c/b),-32768<=a&&32767>=a?(this.a[e]=a&65535,this.a[e|1]=c-a*b&65535,this.h=a>>16|a,this.c=a>>16):(this.f=32768,this.h=a>>15|a,this.c=c>>16,-1===b&&65534===this.a[e]&&(this.a[e]=this.a[e|1]=1))):(this.h=this.c=0,this.f=32768,this.g=65536));break;case 29696:0<=(b=W(this,a))&&(e=a>>6&7,a=this.a[e],
a&32768&&(a|=4294901760),this.g=this.f=0,b&=63,b&32?(b=64-b,16<b&&(b=16),this.g=a<<17-b,a=a>>b):b&&(16<b?(this.f=a,a=0):(this.g=a=a<<b,(c=a>>15&65535)&&65535!==c&&(this.f=32768))),this.a[e]=a&65535,this.c=this.h=a);break;case 30208:if(0<=(b=W(this,a))){e=a>>6&7;c=this.a[e]<<16|this.a[e|1];this.g=this.f=0;b&=63;if(b&32)b=64-b,32<b&&(b=32),a=c>>b-1,this.g=a<<16,a>>=1,c&2147483648&&(a|=4294967295<<32-b);else if(b){if(a=c<<b-1,this.g=a>>15,a<<=1,32<b&&(b=32),c>>=32-b)c|=4294967295<<b&4294967295,4294967295!==
c&&(this.f=32768)}else a=c;this.a[e]=a>>16&65535;this.a[e|1]=a&65535;this.c=a>>16;this.h=a>>16|a}break;case 30720:a&56?0<=(c=M(this,d=V(this,a,F)))&&(c^=this.a[a>>6&7],0<=L(this,d,c)&&(this.c=this.h=c,this.f=0)):(this.c=this.h=c=this.a[a&7]^=this.a[a>>6&7],this.f=0);break;case 32256:e=a>>6&7;if(this.a[e]=this.a[e]-1&65535)this.a[7]=this.a[7]-((a&63)<<1)&65535;break;default:switch(a&65280){case 256:this.a[7]=Y(this.a[7],a);break;case 512:this.h&65535&&(this.a[7]=Y(this.a[7],a));break;case 768:this.h&
65535||(this.a[7]=Y(this.a[7],a));break;case 1024:(this.c&32768)===(this.f&32768)&&(this.a[7]=Y(this.a[7],a));break;case 1280:(this.c&32768)!==(this.f&32768)&&(this.a[7]=Y(this.a[7],a));break;case 1536:this.h&65535&&(this.c&32768)===(this.f&32768)&&(this.a[7]=Y(this.a[7],a));break;case 1792:this.h&65535&&(this.c&32768)===(this.f&32768)||(this.a[7]=Y(this.a[7],a));break;case 32768:this.c&32768||(this.a[7]=Y(this.a[7],a));break;case 33280:!(this.g&65536)&&this.h&65535&&(this.a[7]=Y(this.a[7],a));break;
case 33024:this.c&32768&&(this.a[7]=Y(this.a[7],a));break;case 33536:if(this.g&65536||!(this.h&65535))this.a[7]=Y(this.a[7],a);break;case 33792:this.f&32768||(this.a[7]=Y(this.a[7],a));break;case 34048:this.f&32768&&(this.a[7]=Y(this.a[7],a));break;case 34304:this.g&65536||(this.a[7]=Y(this.a[7],a));break;case 34560:this.g&65536&&(this.a[7]=Y(this.a[7],a));break;case 34816:K(this,24,2);break;case 35072:K(this,28,4);break;default:switch(a&65472){case 64:0<=(f=Pb(this,a,0))&&(this.a[7]=f&65535);break;
case 192:a&56?0<=(c=M(this,d=V(this,a,F)))&&(a=c<<8|c>>8,0<=L(this,d,a)&&(this.c=this.h=c&65280,this.f=this.g=0)):(e=a&7,c=this.a[e],this.a[e]=(c<<8|c>>8)&65535,this.c=this.h=c&65280,this.f=this.g=0);break;case 2560:a&56?0<=(d=V(this,a,E))&&0<=L(this,d,0)&&(this.c=this.g=this.f=this.h=0):this.c=this.g=this.f=this.h=this.a[a&7]=0;break;case 2624:0<=(c=M(this,d=V(this,a,F)))&&(a=~c,0<=L(this,d,a)&&(this.c=this.h=a,this.g=65536,this.f=0));break;case 2688:a&56?0<=(c=M(this,d=V(this,a,F)))&&(a=c+1,0<=
L(this,d,a)&&(this.c=this.h=a,this.f=a&(a^c))):(e=a&7,c=this.a[e],a=c+1,this.a[e]=a&65535,this.c=this.h=a,this.f=a&(a^c));break;case 2752:a&56?0<=(c=M(this,d=V(this,a,F)))&&(a=c-1,0<=L(this,d,a)&&(this.c=this.h=a,this.f=(a^c)&c)):(e=a&7,c=this.a[e],a=c-1,this.a[e]=a&65535,this.c=this.h=a,this.f=(a^c)&c);break;case 2816:0<=(c=M(this,d=V(this,a,F)))&&(a=-c,0<=L(this,d,a)&&(this.g=this.c=this.h=a,this.f=a&c));break;case 2880:0<=(c=M(this,d=V(this,a,F)))&&(a=c+(this.g>>16&1),0<=L(this,d,a)&&(this.g=this.c=
this.h=a,this.f=a&(a^c)));break;case 2944:0<=(c=M(this,d=V(this,a,F)))&&(a=c-(this.g>>16&1),0<=L(this,d,a)&&(this.g=this.c=this.h=a,this.f=(a^c)&c));break;case 3008:0<=(c=W(this,a))&&(this.c=this.h=c,this.g=this.f=0);break;case 3072:a&56?0<=(c=M(this,d=V(this,a,F)))&&(a=(this.g&65536|c)>>1,0<=L(this,d,a)&&(this.g=c<<16,this.c=this.h=a,this.f=a^this.g>>1)):(e=a&7,c=this.a[e],a=(this.g&65536|c)>>1,this.a[e]=a&65535,this.g=c<<16,this.c=this.h=a,this.f=a^this.g>>1);break;case 3136:a&56?0<=(c=M(this,d=
V(this,a,F)))&&(a=c<<1|this.g>>16&1,0<=L(this,d,a)&&(this.g=this.c=this.h=a,this.f=a^c)):(e=a&7,c=this.a[e],a=c<<1|this.g>>16&1,this.a[e]=a&65535,this.g=this.c=this.h=a,this.f=a^c);break;case 3200:a&56?0<=(c=M(this,d=V(this,a,F)))&&(a=c&32768|c>>1,0<=L(this,d,a)&&(this.g=c<<16,this.c=this.h=a,this.f=this.c^this.g>>1)):(e=a&7,c=this.a[e],a=c&32768|c>>1,this.a[e]=a&65535,this.g=c<<16,this.c=this.h=a,this.f=this.c^this.g>>1);break;case 3264:a&56?0<=(c=M(this,d=V(this,a,F)))&&(a=c<<1,0<=L(this,d,a)&&
(this.g=this.c=this.h=a,this.f=a^c)):(e=a&7,c=this.a[e],a=c<<1,this.a[e]=a&65535,this.g=this.c=this.h=a,this.f=a^c);break;case 3328:f=this.a[7]+((a&63)<<1)&65535;0<=(b=R(this,f|65536))&&(this.a[7]=this.a[5],this.a[5]=b,this.a[6]=f+2&65535);break;case 3392:a&56?0<=(f=Pb(this,a,0))&&(61440!==(this.s&61440)&&(f&=65535),this.m=this.s>>12&3,0<=(b=R(this,f))&&(this.m=this.s>>14&3,0<=S(this,b)&&(this.c=this.h=b,this.f=0))):(e=a&7,b=6!==e||(this.s>>2&12288)===(this.s&12288)?this.a[e]:this.Y[this.s>>12&3],
0<=S(this,b)&&(this.c=this.h=b,this.f=0));break;case 3456:0<=(c=Ob(this))&&((this.G&57344||(this.ea=22),a&56)?0<=(f=Pb(this,a,0))&&(f&=65535,this.m=this.s>>12&3,0<=(d=Nb(this,f,E))&&(this.m=this.s>>14&3,0<=L(this,d,c)&&(this.c=this.h=c,this.f=0))):(e=a&7,6!==e||(this.s>>2&12288)===(this.s&12288)?this.a[e]=c:this.Y[this.s>>12&3]=c,this.c=this.h=c,this.f=0));break;case 3520:0<=(d=V(this,a,E))&&(a=-(this.c>>15&1),0<=L(this,d,a)&&(this.h=a,this.f=0));break;case 35328:a&56?0<=(d=V(this,a,Ka))&&0<=U(this,
d,0)&&(this.c=this.g=this.f=this.h=0):(this.a[a&7]&=65280,this.c=this.g=this.f=this.h=0);break;case 35392:0<=(c=T(this,d=V(this,a,G)))&&(a=~c,0<=U(this,d,a)&&(this.c=this.h=a<<8,this.g=65536,this.f=0));break;case 35456:0<=(c=T(this,d=V(this,a,G)))&&(a=c+1,0<=U(this,d,a)&&(this.c=this.h=a<<8,this.f=(a&(a^c))<<8));break;case 35520:0<=(c=T(this,d=V(this,a,G)))&&(a=c-1,0<=U(this,d,a)&&(this.c=this.h=a<<8,this.f=((a^c)&c)<<8));break;case 35584:0<=(c=T(this,d=V(this,a,G)))&&(a=-c,0<=U(this,d,a)&&(this.g=
this.c=this.h=a<<8,this.f=(a&c)<<8));break;case 35648:0<=(c=T(this,d=V(this,a,G)))&&(a=c+(this.g>>16&1),0<=U(this,d,a)&&(this.c=this.h=this.g=a<<8,this.f=(a&(a^c))<<8));break;case 35712:0<=(c=T(this,d=V(this,a,G)))&&(a=c-(this.g>>16&1),0<=U(this,d,a)&&(this.c=this.h=this.g=a<<8,this.f=((a^c)&c)<<8));break;case 35776:0<=(c=X(this,a))&&(this.c=this.h=c<<8,this.g=this.f=0);break;case 35840:0<=(c=T(this,d=V(this,a,G)))&&(a=((this.g&65536)>>8|c)>>1,0<=U(this,d,a)&&(this.g=c<<16,this.c=this.h=a<<8,this.f=
this.c^this.g>>1));break;case 35904:0<=(c=T(this,d=V(this,a,G)))&&(a=c<<1|this.g>>16&1,0<=U(this,d,a)&&(this.g=this.c=this.h=a<<8,this.f=(a^c)<<8));break;case 35968:0<=(c=T(this,d=V(this,a,G)))&&(a=c&128|c>>1,0<=U(this,d,a)&&(this.g=c<<16,this.c=this.h=a<<8,this.f=this.c^this.g>>1));break;case 36032:0<=(c=T(this,d=V(this,a,G)))&&(a=c<<1,0<=U(this,d,a)&&(this.g=this.c=this.h=a<<8,this.f=(a^c)<<8));break;case 36160:a&56?0<=(f=Pb(this,a,0))&&(this.m=this.s>>12&3,0<=(b=R(this,f|65536))&&(this.m=this.s>>
14&3,0<=S(this,b)&&(this.c=this.h=b,this.f=0))):(e=a&7,b=6!==e||(this.s>>2&12288)===(this.s&12288)?this.a[e]:this.Y[this.s>>12&3],0<=S(this,b)&&(this.c=this.h=b,this.f=0));break;case 36224:0<=(c=Ob(this))&&((this.G&57344||(this.ea=22),a&56)?0<=(f=Pb(this,a,0))&&(this.m=this.s>>12&3,0<=(d=Nb(this,f|65536,E))&&(this.m=this.s>>14&3,0<=L(this,d,c)&&(this.c=this.h=c,this.f=0))):(e=a&7,6!==e||(this.s>>2&12288)===(this.s&12288)?this.a[e]=c:this.Y[this.s>>12&3]=c,this.c=this.h=c,this.f=0));break;default:switch(a&
65528){case 128:0<=(b=Ob(this))&&(e=a&7,this.a[7]=this.a[e],this.a[e]=b);break;case 152:this.s&49152||(this.s=this.s&63519|(a&7)<<5,this.ja=1);break;case 160:case 168:a&1&&(this.g=0);a&2&&(this.f=0);a&4&&(this.h=1);a&8&&(this.c=0);break;case 176:case 184:a&1&&(this.g=65536);a&2&&(this.f=32768);a&4&&(this.h=0);a&8&&(this.c=32768);break;default:switch(a){case 0:49152&this.s?(this.o|=128,K(this,4,46)):(this.Ca=3,Ib(this),console.log("HALT at "+this.a[7].toString(8)));break;case 1:c=0;if(0<(a=this.j.length))for(;0<
a--;)c+=this.j[a].fa,this.j[a].fa=0;0===c&&0===this.Ca&&(this.Ca=2,Ib(this));break;case 3:K(this,12,6);break;case 4:K(this,16,8);break;case 5:this.s&49152||(Lb(this),this.v.reset());break;case 2:case 6:d=this.a[6];0<=(f=R(this,d|65536))&&(d=d+2&65535,0<=(b=R(this,d|65536))&&(this.a[6]=d+2&65535,b&=63743,this.s&49152&&(b=b&63519|this.s&63712),this.a[7]=f,ab(this,b),this.C&=-17,2===a&&(this.C|=this.s&16)));break;default:K(this,8,48)}}}}}}}while(0<this.b)}return this.i.complete?this.R-this.b:void 0===
this.i.complete?0:-1};u(function(){for(var a=C(document,"pdp11","cpu"),b=0;b<a.length;b++){var c=a[b],d=A(c),d=new Jb(d);B(d,c)}});function Sb(a,b){var c=a+b;this.C&128||(this.c=this.h=this.g=c,this.f=(a^c)&(b^c));return c&65535}function Tb(a,b){var c=~a&b;Q(this,c);return c}function Ub(a,b){var c=~a&b;Q(this,c<<8);return c}function Vb(a,b){var c=a|b;Q(this,c);return c}function Wb(a,b){var c=a|b;Q(this,c<<8);return c}function Xb(a,b){var c=b-a;Mb(this,c,a,b);return c&65535}
function Yb(){--this.b}function Zb(){--this.b}function $b(){--this.b}function ac(){--this.b}function bc(){--this.b}function cc(){--this.b}function dc(){--this.b}function Z(){K(this,8,48)}function Kb(a){ec[a>>12].call(this,a)}
var ec=[function(a){fc[a>>8&15].call(this,a)},function(a){var b=W(this,a>>6);a&56?L(this,V(this,a,E),b):this.a[a&7]=b;Q(this,b);--this.b},function(a){var b=W(this,a>>6);a=W(this,a);Mb(this,b-a,a,b);--this.b},function(a){Q(this,W(this,a>>6)&W(this,a));--this.b},function(a){Qb(this,a,W(this,a>>6),Tb);--this.b},function(a){Qb(this,a,W(this,a>>6),Vb);--this.b},function(a){Qb(this,a,W(this,a>>6),Sb);--this.b},function(a){gc[a>>8&15].call(this,a)},function(a){hc[a>>8&15].call(this,a)},function(a){var b=
X(this,a>>6),b=b&128?b|65280:b;a&56?(b&=255,U(this,V(this,a,Ka),b)):this.a[a&7]=b;Q(this,b<<8);--this.b},function(a){var b=X(this,a>>6)<<8;a=X(this,a)<<8;Mb(this,b-a,a,b);--this.b},function(a){Q(this,(X(this,a>>6)&X(this,a))<<8);--this.b},function(a){Rb(this,a,X(this,a>>6),Ub);--this.b},function(a){Rb(this,a,X(this,a>>6),Wb);--this.b},function(a){Qb(this,a,W(this,a>>6),Xb);--this.b},Z],fc=[function(a){ic[a>>4&15].call(this,a)},function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},
function(){--this.b},function(){--this.b},function(){--this.b},ac,ac,function(a){jc[a>>6&3].call(this,a)},function(a){kc[a>>6&3].call(this,a)},function(a){lc[a>>6&3].call(this,a)},function(a){mc[a>>6&3].call(this,a)},Z,Z],ic=[function(a){nc[a&15].call(this,a)},Z,Z,Z,Z,Z,Z,Z,Z,Z,function(){--this.b},function(){--this.b},Z,Z,Z,Z],nc=[function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},
Z,Z,Z,Z,Z,Z,Z,Z],gc=[bc,bc,$b,$b,Yb,Yb,Zb,Zb,dc,dc,Z,Z,Z,Z,cc,cc],hc=[function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b},function(a){oc[a>>6&3].call(this,a)},function(a){pc[a>>6&3].call(this,a)},function(a){qc[a>>6&3].call(this,a)},function(a){rc[a>>6&3].call(this,a)},Z,Z],jc=[function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b}],
kc=[function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b}],lc=[function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b}],mc=[function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b}],oc=[function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b}],pc=[function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b}],qc=[function(){--this.b},function(){--this.b},function(){--this.b},
function(){--this.b}],rc=[function(){--this.b},function(){--this.b},function(){--this.b},function(){--this.b}];function sc(a){v.call(this,"ROM",a,sc);this.c=null;this.m=a.addr;this.f=a.size;this.u=a.writable;this.g=a.alias;this.h=a.file;this.F=ba(this.h);if(this.h){a=this.h;var b=ca(this.F);"json"!=b&&"hex"!=b&&(a=ea()+"/api/v1/dump?file="+this.h+"&format=bytes&decimal=true");var c=this;p(a,null,!0,function(a,b,e){tc(c,a,b,e)})}}y(sc);sc.prototype.Ga=function(a,b,c,d){this.v=b;this.b=c;this.I=d;uc(this)};
sc.prototype.ua=function(){this.j&&(this.I&&this.I.b(this.id,this.m,this.f,this.j),delete this.j);return!0};sc.prototype.ta=function(){return!0};
function tc(a,b,c,d){if(d)a.K("Unable to load system ROM (error "+d+": "+b+")");else{Da(a.Hb,b,c);var f;if("["==c.charAt(0)||"{"==c.charAt(0))try{var e,h,g=eval("("+c+")");if(e=g.bytes)a.c=e;else if(e=g.words)for(a.c=Array(2*e.length),h=f=0;f<e.length;f++)a.c[h++]=e[f]&255,a.c[h++]=e[f]>>8&255;else if(e=g.data)for(a.c=Array(4*e.length),h=f=0;f<e.length;f++)a.c[h++]=e[f]&255,a.c[h++]=e[f]>>8&255,a.c[h++]=e[f]>>16&255,a.c[h++]=e[f]>>24&255;else a.c=g;a.j=g.symbols;if(!a.c.length){q("Empty ROM: "+b);
return}if(1==a.c.length){q(a.c[0]);return}}catch(k){a.K("ROM data error: "+k.message);return}else for(b=c.replace(/\n/gm," ").replace(/ +$/,"").split(" "),a.c=Array(b.length),f=0;f<b.length;f++)a.c[f]=aa(b[f]);uc(a)}}
function uc(a){if(!Ga(a))if(!a.h)D(a);else if(a.c&&a.v){a.f||(a.f=a.c.length);if(a.c.length!=a.f){var b="ROM size ("+n(a.c.length,8,!0)+") does not match specified size ("+n(a.f,8,!0)+")";a.i.error=!0;a.K(b)}else{b=a.m;if(Ta(a.v,b,a.f,a.u?1:nb)){var c;for(c=0;c<a.c.length;c++){var d=a.v,f=b+c;d.c[(f&d.j)>>>d.f].Vb(f&d.h,a.c[c]&255,f)}b=!0}else b=!1;if(b){b=[];"number"==typeof a.g?b.push(a.g):null!=a.g&&a.g.length&&(b=a.g);for(c=0;c<b.length;c++){for(var e=a,d=b[c],f=e.v,h=e.f,g=[],k=e.m>>>f.f;0<h&&
k<f.c.length;)g.push(f.c[k++]),h-=f.g;f=e.v;e=e.f;h=0;for(d>>>=f.f;0<e&&d<f.c.length;){k=g[h++];if(!k)break;f.c[d++]=k;e-=f.g}}delete a.c}}D(a)}}u(function(){for(var a=C(document,"pdp11","rom"),b=0;b<a.length;b++){var c=a[b],d=A(c),d=new sc(d);B(d,c)}});function vc(a){v.call(this,"RAM",a,vc);this.g=a.addr;this.f=a.size;this.c=!1}y(vc);m=vc.prototype;m.Ga=function(a,b,c,d){this.v=b;this.b=c;this.I=d;D(this)};m.ua=function(a,b){b||this.reset();return!0};m.ta=function(a){return a?this.save():!0};
m.reset=function(){!this.c&&this.f&&Ta(this.v,this.g,this.f,1)&&(this.c=!0);this.c||q("No RAM allocated")};m.save=function(){return null};m.restore=function(){return!0};u(function(){for(var a=C(document,"pdp11","ram"),b=0;b<a.length;b++){var c=a[b],d=A(c),d=new vc(d);B(d,c)}});function wc(a){v.call(this,"Keyboard",a,wc);D(this)}y(wc);wc.prototype.ba=function(){return!1};wc.prototype.Ga=function(a,b,c,d){this.u=a;this.b=c;this.I=d;this.xa=null};
u(function(){for(var a=C(document,"pdp11","keyboard"),b=0;b<a.length;b++){var c=a[b],d=A(c),d=new wc(d);B(d,c)}});
function xc(a,b,c){v.call(this,"Computer",a,xc);this.i.L=!1;yc(this,b);this.M=yb(this,"autoPower",a);this.g=0;this.ca=a.busWidth||a.buswidth;this.c=zc;this.F=null;this.m=this.W=!1;this.url=yb(this,"url")||"";(Math.random()+.1).toString(36);this.f=Ac(this);if(this.b=Ea("CPU",this.id)){this.I=Ea("Debugger",this.id);this.v=new Na({id:this.Hb+".bus",busWidth:this.ca},this.b,this.I);var d,f=z(this.id);if((this.h=Ea("Panel",this.id))&&this.h.yb)for(b=0;b<f.length;b++)d=f[b],d.K=this.h.K,d.X=this.h.X,d.yb=
this.h.yb;this.X("PDP11js v1.30.0\nCopyright \u00a9 2012-2016 Jeff Parsons <Jeff@pcjs.org>\nLicense: GPL version 3 or later <http://gnu.org/licenses/gpl.html>");this.X("Portions adapted from the PDP-11/70 Emulator v1.3 by Paul Nankervis <paulnank@hotmail.com>");for(b=0;b<f.length;b++)d=f[b],d.Ga&&d.Ga(this,this.v,this.b,this.I);b=null;d=a.resume;void 0!==d&&(1<d.length?b=this.u=d:this.c=parseInt(d,10));var e;if(a=yb(this,"state")||(e=!0,a.state))b=this.N=a,e||(this.m=!0,this.c=zc),this.c&&(this.J=
new N(this,"1.30.0"),Bc(this.J)?b=null:delete this.J);!b&&this.c&&(b=Cc(this))&&(this.m=!0);if(b){var h=this;p(b,null,!0,function(a,b,c){c?(h.u=null,h.m=!1,h.K("Unable to load machine state from server (error "+c+(b?": "+(String.prototype.trim?b.trim():b.replace(/^\s+|\s+$/g,"")):"")+")")):(h.F=b,h.W=!0);D(h)})}else D(this);this.A.power||(this.M=!0);!c&&this.M&&Dc(this,this.cb)}else q("Unable to find CPU component")}y(xc);var zc=0;
function yc(a,b){if(!b){var c;if("object"==typeof resources&&(c=resources.parms))try{b=eval("("+c+")")}catch(d){q(d.message+" ("+c+")")}}a.Z=b}function yb(a,b,c){var d=b.toLowerCase(),d=xa[b]||xa[d];void 0===d&&a.Z&&(d=a.Z[b]);void 0===d&&c&&(d=c[b]);void 0===d&&"object"==typeof resources&&resources[b]&&(d=b);return d}function Dc(a,b,c){for(var d=z(a.id),f=0;f<=d.length;f++){var e=f<d.length?d[f]:a;if(!Ga(e)){Ga(e,function(){Dc(a,b,c)});return}}b.call(a,c)}
function Ec(a,b){var c=new N(a,"1.30.0","validate");if(Bc(c)&&Fc(c)){var d=Gc(c,"timestamp"),f=b?Gc(b,"timestamp"):"unknown";d!=f&&(a.K("Machine state may be out-of-date\n("+d+" vs. "+f+")\nCheck your browser's local storage limits"),b||c.clear())}}m=xc.prototype;
m.cb=function(a){void 0===a&&(a=this.c||(this.F?1:zc));if(!this.g){this.g++;var b=!1,c=!1;this.R=!1;var d=this.J||new N(this,"1.30.0");if(-1==a)b=!0;else if(a>zc){if(Bc(d,this.F)){this.j=new N(this,"1.30.0","failsafe");Bc(this.j)&&(Hc(this,d),a=2,Ic(this.j));P(this.j,"timestamp",ia());Jc(this.j);var f=this.c&&!this.m;if(1==a||ja("Click OK to restore the previous PDP11js machine state, or CANCEL to reset the machine.")){if(c=Fc(d)){var e=Gc(d,"code"),h=Gc(d,"data");e&&("ok"==e?Bc(d,h):("error"==e&&
"no machine state"!=h?(this.K("Error: "+h),"unable to verify user"==h&&(na("user",""),this.f=null)):this.X(e+": "+h),Ic(d),Bc(d)?(c=Fc(d),f=!0):c=!1))}f&&Ec(this,c?d:null)}else 2==a&&d.clear()}else Ec(this);delete this.F;delete this.J}f=z(this.id);for(e=0;e<f.length;e++)h=f[e],h!==this&&h!=this.b&&(c=Kc(this,h,d,b,c));b=[d,a,c];-1!=a?Dc(this,this.Nb,b):this.Nb(b)}};
function Kc(a,b,c,d,f){if(!b.i.L){b.i.L=!0;if(b.ua){var e=null;f&&((e=Gc(c,b.id))||(e=Gc(c,b.id.replace(/[a-z0-9]\./i,"."))));"string"===typeof e&&(e=null);!b.ua(e,d)&&e&&(q("Unable to restore state for "+b.type),a.N&&!a.W?(c.clear(),a.c=zc,window&&window.location.reload()):a.R=!0,b.ua(null),f=!1)}if(!d&&b.Gb)for(a=b.Gb.split("|"),c=0;c<a.length;c++)b.status(a[c])}return f}
m.Nb=function(a){var b=a[0],c=0>a[1];a=a[2];this.da=!0;this.i.L=!0;var d=this.A.power;d&&(d.textContent="Shutdown");this.b&&(Kc(this,this.b,b,c,a),this.b.Xa());this.R&&(Hc(this,b),b.clear());!c&&this.j&&(this.j.clear(),delete this.j);this.g=0};
function Hc(a,b){if(ja("There may be a problem with your PDP11js machine.\n\nTo help us diagnose it, click OK to send this PDP11js machine state to http://www.pcjs.org.")){var c=a.f||"",d=b.toString(),f={app:"PDP11js",ver:"1.30.0"};f.url=a.url;f.user=c;f.type="bug";f.data=d;p("http://www.pcjs.org/api/v1/report",f,!0)}}
function Lc(a,b,c){var d,f="none";if(a.g)return null;a.g--;var e=new N(a,"1.30.0"),h=new N(a,"1.30.0","validate"),g=ia();P(h,"timestamp",g);P(e,"timestamp",g);P(e,"version","1.30.0");P(e,"url",window?window.location.href:null);P(e,"browser",window?window.navigator.userAgent:"");a.b&&a.b.ta&&(c&&Db(a.b),d=a.b.ta(b,c),"object"===typeof d&&P(e,a.b.id,d),c&&(a.b.i.L=!1,!1===d&&(f=null)));for(var g=z(a.id),k=0;k<g.length;k++){var l=g[k];l.i.L&&(l.ta&&(d=l.ta(b,c),"object"===typeof d&&P(e,l.id,d)),c&&(l.i.L=
!1,!1===d&&(f=null)))}f&&(c?(g=d=!1,b?(a.f&&Mc(a,a.f,e.toString()),Jc(h)&&Jc(e)||(f=null,d=g=!0)):a.c&&(d=!0,g=3==a.c),d&&e.clear(g)):f=e.toString());c&&(a.i.L=!1,b=a.A.power)&&(b.textContent="Power");a.g=0;return f}m.reset=function(){this.v&&this.v.reset&&this.v.reset();for(var a=z(this.id),b=0;b<a.length;b++){var c=a[b];c!==this&&c!==this.v&&c.reset&&c.reset()}};m.start=function(a,b){for(var c=z(this.id),d=0;d<c.length;d++){var f=c[d];"CPU"!=f.type&&f!==this&&f.start&&f.start(a,b)}};
m.stop=function(a,b){for(var c=z(this.id),d=0;d<c.length;d++){var f=c[d];"CPU"!=f.type&&f!==this&&f.stop&&f.stop(a,b)}};
m.ba=function(a,b,c){var d=this;switch(b){case "power":return this.A[b]=c,c.onclick=function(){d.g||(d.i.L?Lc(d,!1,!0):Dc(d,d.cb))},!0;case "reset":return this.A[b]=c,c.onclick=function(){if(d.i.L&&!d.g)if(d.c&&!d.u){var a=ja("Click OK to save changes to this PDP11js machine.\n\nWARNING: If you CANCEL, all disk changes will be discarded.");Lc(d,a,!0);!a&&d.N?window&&window.location.reload():d.cb(zc)}else d.reset(),d.b&&d.b.Xa()},!0;case "save":if(da()){c.parentNode.removeChild(c);break}this.A[b]=
c;c.onclick=function(){var a=Ac(d,!0);if(a){var b=!!(d.c&&!d.u||d.N),c=Lc(d,b);b?Mc(d,a,c):d.K("Resume disabled, machine state not saved")}};return!0}return!1};
function Ac(a,b){var c=a.f;c||(c=ma("user"),void 0!==c?!c&&b&&(c=null,window&&(c=window.prompt("Saving machine states on the pcjs.org server is currently unsupported.\n\nIf you're running your own server, enter your user ID below.","")),c&&((c=Nc(a,c))||a.K("The user ID is invalid."))):b&&a.K("Browser local storage is not available"));return c}
function Nc(a,b){a.f=null;var c=p(ea()+"/api/v1/user?req=verify&user="+b),d=c[1];if(!c[0]&&d)try{c=eval("("+d+")"),c.code&&"ok"==c.code&&(na("user",c.data),a.f=c.data)}catch(f){q(f.message+" ("+d+")")}return a.f}function Cc(a){var b=null;a.f&&(b=ea()+"/api/v1/user?req=load&user="+a.f+"&state="+Oc(a,"1.30.0"));return b}
function Mc(a,b,c){if(c){var d={req:"store"};d.user=b;d.state=Oc(a,"1.30.0");d.data=c;b=p(ea()+"/api/v1/user",d);d=b[0];if(b[1]){if(d){var f=d.indexOf("\n");0<f&&(d=d.substr(0,f));d.indexOf("Error: ")||(d=d.substr(7))}d='{"code":'+b[1]+',"data":"'+d+'"}'}b=JSON.parse(d);b&&"ok"==b.code?a.K("Machine state saved to server"):c&&(c=b&&b.data||"unable to save machine state",c="error"==b.code?"Error: "+c:"Error "+b.code+": "+c,a.K(c),na("user",""),a.f=null)}}
m.Ka=function(a){this.b&&this.b.Ka(a);this.h&&this.h.Ka(a)};u(function(){for(var a=C(document,"pdp11-machine"),b=0;b<a.length;b++)for(var c=a[b],d=A(c),c=C(c,"pdp11","computer"),f=0;f<c.length;f++){var e=c[f],h=A(e),h=new xc(h,d,!0);B(h,e);h.M&&Dc(h,h.cb)}});r.show.push(function(){for(var a=C(document,"pdp11","computer"),b=0;b<a.length;b++){var c=A(a[b]);(c=Ea("Computer",c.id))&&c.da&&!c.i.L&&c.cb(-1)}});
r.exit.push(function(){for(var a=C(document,"pdp11","computer"),b=0;b<a.length;b++){var c=A(a[b]);(c=Ea("Computer",c.id))&&c.i.L&&Lc(c,!(!c.c||c.u),!0)}});function N(a,b,c){this.id=a.id;this.key=Oc(a,b,c);this.I=a.I;Ic(this,a.ac)}function Oc(a,b,c){a=a.id;if(b){var d=b.indexOf(".");0<d&&(a+=".v"+b.substr(0,d))}c&&(a+="."+c);return a}
N.prototype={constructor:N,value:function(){return this[this.id]},data:function(){return this[this.id]},toString:function(){var a=this[this.id];return"string"==typeof a?a:JSON.stringify(a)},clear:function(a){Ic(this);var b=[];try{for(var c=0,d=window.localStorage.length;c<d;c++)b.push(window.localStorage.key(c))}catch(f){}for(c=0;c<b.length;c++)if((d=b[c])&&(a||d.substr(0,this.key.length)==this.key)){try{window.localStorage.removeItem(d)}catch(f){}b.splice(c,1);c=0}}};
function Ic(a,b){a[a.id]={};b&&P(a,"parms",b);a.b=!1}function Jc(a){var b=!0;if(la()){var c=JSON.stringify(a[a.id]);na(a.key,c)||(q("Unable to store "+c.length+" bytes in browser local storage"),b=!1)}return b}function Fc(a){var b=!0;try{a[a.id]=JSON.parse(a[a.id])}catch(c){q(c.message||c),b=!1}return b}function Bc(a,b){return b?(a[a.id]=b,a.b=!0):a.b?!0:la()&&(b=ma(a.key))?(a[a.id]=b,a.b=!0):!1}function Gc(a,b){return a[a.id][b]||null}function P(a,b,c){try{a[a.id][b]=c}catch(d){}}var Pc=0;
function Qc(a,b,c,d,f,e){f("Loading "+a+"...");p(a,null,!0,function(h,g,k){k?(g||(g="unable to load "+a+" ("+k+")"),e(g,null)):Rc(g,a,b,c,d,f,e)})}
function Rc(a,b,c,d,f,e,h){function g(a,e){if(e)h(e,null);else{if(c){Da(c,b,a);var g=b;g&&0>g.indexOf("/")&&"/"==window.location.pathname.slice(-1)&&(g=window.location.pathname+g);d?"}"==d.slice(-1)?(d=d.slice(0,-1),1<d.length&&(d+=",")):d='{state:"'+d+'",':d="{";d+='url:"'+g+'"}';"object"==typeof resources&&(g=null);a=a.replace(/(<machine[^>]*\sid=)(['"]).*?\2/,"$1$2"+c+"$2"+(d?" parms='"+d+"'":"")+(g?' url="'+g+'"':""))}f||(a=a.replace(/(<xsl:variable name="APPNAME">).*?(<\/xsl:variable>)/,"$1PDP11js$2"),
a=a.replace(/(<xsl:variable name="APPCLASS">).*?(<\/xsl:variable>)/,"$1pdp11$2"));g=null;if("<"==a.charAt(0))try{f||(a=a.replace(/<!DOCTYPE(.|[\r\n])*]>\s*/g,"")),window.ActiveXObject||"ActiveXObject"in window?(g=new window.ActiveXObject("Microsoft.XMLDOM"),g.async=!1,g.loadXML(a)):g=(new window.DOMParser).parseFromString(a,"text/xml")}catch(w){g=null,a=w.message}else a="unrecognized XML: "+(255<a.length?a.substr(0,255)+"...":a);h(a,g)}}a?f?Sc(a,e,g):g(a,null):h("no data"+(b?" for file: "+b:""),null)}
function Sc(a,b,c){var d;if(d=/<([a-z]+)\s+ref="(.*?)"(.*?)\/>/g.exec(a)){var f=d[2];b("Loading "+f+"...");p(f,null,!0,function(e,h,g){if(g||!h)c(a,"unable to resolve XML reference: "+d[0]+" ("+g+")");else{if(e=d[3])if(g=h.match(new RegExp("<"+d[1]+"[^>]*>"))){for(var k=g[0],l,t=/( [a-z]+=)(['"])(.*?)\2/g;l=t.exec(e);)k=0>k.indexOf(l[1])?k.replace(">",l[0]+">"):k.replace(new RegExp(l[1]+"(['\"])(.*?)\\1"),l[0]);g[0]!=k&&(h=h.replace(g[0],k))}else{c(a,"missing <"+d[1]+"> in "+f);return}h=h.replace(/<\?xml[^>]*>[\r\n]*/,
"");a=a.replace(d[0],h);Sc(a,b,c)}})}else c(a,null)}
function Tc(a,b,c,d){function f(a){if(void 0===g){var b=h&&C(h,"machine-warning");g=b&&b[0]||h}g&&(g.innerHTML=ga(a))}function e(a){f("Error: "+a);k&&(--Pc||ua(!0));k=!1}var h,g,k=!0;Pc++;Ca[a]={};try{if(h=document.getElementById(a)){var l;if("object"==typeof resources&&(l=resources.css)){var t=document.head||document.getElementsByTagName("head")[0],w=document.createElement("style");w.type="text/css";w.styleSheet?w.styleSheet.cssText=l:w.appendChild(document.createTextNode(l));t.appendChild(w)}c||
(c="/versions/pdp11/1.30.0/components.xsl");l=function(d,g){g?Qc(c,null,null,!1,f,function(d,k){if(k)if(Da(a,c,d),f("Processing "+b+"..."),window.ActiveXObject||"ActiveXObject"in window){var l=g.transformNode(k);l?(h.outerHTML=l,--Pc||ua(!0)):e("transformNodeToObject failed")}else document.implementation&&document.implementation.createDocument?(l=new XSLTProcessor,l.importStylesheet(k),(l=l.transformToFragment(g,document))?h.parentNode?(h.parentNode.replaceChild(l,h),--Pc||ua(!0)):e("invalid machine element: "+
a):e("transformToFragment failed")):e("unable to transform XML: unsupported browser");else e(d)}):e(d)};"<"!=b.charAt(0)?Qc(b,a,d,!0,f,l):Rc(b,null,a,d,!1,f,l)}else e("missing machine element: "+a)}catch(O){e(O.message)}return k}window.embedPDP11=function(a,b,c,d){ua(!1);return Tc(a,b,c,d)};window.enableEvents=ua;window.sendEvent=va;})();
