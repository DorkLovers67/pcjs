(function(){var k;
function aa(a){var b=16,c;if(a){b||(b=10);var d=a.charAt(0),f=0<a.indexOf(",");f&&(a=a.replace(/,/g,""));"#"==d?(b=8,d=null):"$"==d&&(b=16,d=null);null==d?a=a.substr(1):("0"==d&&(d=a.charAt(1),"b"==d&&f&&(b=2,d=null),"o"==d?(b=8,d=null):"x"==d&&(b=16,d=null)),null==d?a=a.substr(2):(d=a.charAt(a.length-1).toLowerCase(),"y"==d?(b=2,d=null):"."==d?(b=10,d=null):"h"==d&&(b=16,d=null),null==d&&(a=a.substr(0,a.length-1))));var e,d=a;((f=b)&&10!=f?16==f?d.match(/^[0-9a-f]+$/i):8==f?d.match(/^[0-7]+$/):2==
f&&d.match(/^[01]+$/):d.match(/^[0-9]+$/))&&!isNaN(e=parseInt(a,b))&&(c=e|0)}return c}function n(a,b,c){var d="";b?8<b&&(b=8):b=a&-65536?8:4;if(null==a||isNaN(a))for(;0<b--;)d="?"+d;else for(;0<b--;){var f=a&15,f=f+(0<=f&&9>=f?48:55),d=String.fromCharCode(f)+d;a>>=4}return(c?"0x":"")+d}function ba(a){var b=a,c=a.lastIndexOf("/");0<=c&&(b=a.substr(c+1));c=b.indexOf("&");0<c&&(b=b.substr(0,c));return b}function ca(a){var b="",c=a.lastIndexOf(".");0<=c&&(b=a.substr(c+1).toLowerCase());return b}
function da(){var a=ea();return-1!==a.indexOf("pcjs.org",a.length-8)}var fa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function ga(a){return a.replace(/[&<>"']/g,function(a){return fa[a]})}function ha(a){return String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}var ia=Date.now||function(){return+new Date};
function ja(){function a(a){return(10>a?"0":"")+a}var b=new Date;return b.getFullYear()+"-"+a(b.getMonth()+1)+"-"+a(b.getDate())+" "+a(b.getHours())+":"+a(b.getMinutes())+":"+a(b.getSeconds())}
function p(a,b,c,d){var f=0,e=null,g=null;if("object"==typeof resources&&(e=resources[a]))return d&&d(a,e,f),[e,f];if(c&&"function"==typeof resources)return resources(a,function(b,c){d&&d(a,b,c)}),g;var h=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");c&&(h.onreadystatechange=function(){4===h.readyState&&(e=h.responseText,200==h.status||!h.status&&e.length&&"file:"==(window?window.location.protocol:"file:")||(f=h.status||-1),d&&d(a,e,f))});if(b&&"object"==
typeof b){var l="",m;for(m in b)b.hasOwnProperty(m)&&(l&&(l+="&"),l+=m+"="+encodeURIComponent(b[m]));l=l.replace(/%20/g,"+");h.open("POST",a,!!c);h.setRequestHeader("Content-type","application/x-www-form-urlencoded");h.send(l)}else h.open("GET",a,!!c),"bytes"==b&&h.overrideMimeType("text/plain; charset=x-user-defined"),h.send();c||(e=h.responseText,200!=h.status&&(f=h.status||-1),d&&d(a,e,f),g=[e,f]);return g}function ea(){return"http://"+(window?window.location.host:"www.pcjs.org")}
function r(a){window&&window.alert(a)}function ka(a){var b=!1;window&&(b=window.confirm(a));return b}var la=null;function ma(){if(null==la){var a=!1;if(window)try{window.localStorage.setItem("PCjs.localStorage","PCjs.localStorage"),a="PCjs.localStorage"==window.localStorage.getItem("PCjs.localStorage"),window.localStorage.removeItem("PCjs.localStorage")}catch(b){a=!1}la=a}return la}function na(a){var b;if(window)try{b=window.localStorage.getItem(a)}catch(c){}return b}
function oa(a,b){try{return window.localStorage.setItem(a,b),!0}catch(c){}return!1}function pa(a){if(window){var b=window?window.navigator.userAgent:"";return"iOS"==a&&b.match(/(iPod|iPhone|iPad)/)&&b.match(/AppleWebKit/)||"MSIE"==a&&b.match(/(MSIE|Trident)/)||0<=b.indexOf(a)?!0:!1}return!1}var t={init:[],show:[],exit:[]},qa=!1,ra=!1,sa=!0;function ta(a,b){if(window){var c=window[a];window[a]="function"!==typeof c?b:function(){c&&c();b()}}}function u(a){t.init.push(a)}
function ua(a){if(sa)try{for(var b=0;b<a.length;b++)a[b]()}catch(c){r(""+("An unexpected exception occurred:\n\n"+c.message+"\n\nPlease send this information to support@pcjs.org. Thanks."))}}function va(a){!sa&&a?(sa=!0,qa&&wa("init"),ra&&wa("show")):sa=a}function wa(a){t[a]&&ua(t[a])}ta("onload",function(){qa=!0;ua(t.init)});ta("onpageshow",function(){ra=!0;ua(t.show)});ta(pa("Opera")||pa("iOS")?"onunload":"onbeforeunload",function(){ua(t.exit)});
function v(a,b,c){this.type=a;b||(b={id:"",name:""});this.id=b.id||"";this.name=b.name;this.Nb=b.comment;this.fc=b;b=this.id.indexOf(".");0>b?this.gb=this.id:(this.yb=this.id.substr(0,b),this.gb=this.id.substr(b+1));this[a]=c;this.h={ready:!1,Nc:!1,Oc:!1,N:!1,error:!1};this.ob=null;this.h.error=!1;this.w={};this.K=null;x.push(this)}var xa=void 0,ya={};
if(window){xa||(xa=window.location.search.substr(1));for(var za,Aa=/\+/g,Ba=/([^&=]+)=?([^&]*)/g;za=Ba.exec(xa);)ya[decodeURIComponent(za[1].replace(Aa," "))]=decodeURIComponent(za[2].replace(Aa," "))}function Ca(a){function b(){}if(window){if(!a)throw new TypeError;if(Object.create)return Object.create(a);var c=typeof a;if("object"!==c&&"function"!==c)throw new TypeError;}b.prototype=a;return new b}
function y(a,b){b||(b=v);a.prototype=Ca(b.prototype);a.prototype.constructor=a;a.prototype.parent=b.prototype}if(window){window.PCjs||(window.PCjs={});var Da=window.PCjs.Machines||(window.PCjs.Machines={}),x=window.PCjs.Components||(window.PCjs.Components=[])}else Da={},x=[];function Ea(a,b,c){Da[a]&&b&&(Da[a][b]=c)}function z(a){var b,c=[];a&&(a=0<(b=a.indexOf("."))?a.substr(0,b+1):"");for(b=0;b<x.length;b++){var d=x[b];a&&d.id.indexOf(a)||c.push(d)}return c}
function Fa(a){if(void 0!==a){var b;for(b=0;b<x.length;b++)if(x[b].id===a)return x[b]}return null}function A(a,b){var c;if(void 0!==a){var d;b&&(b=0<(d=b.indexOf("."))?b.substr(0,d+1):"");for(d=0;d<x.length;d++)if(c)c==x[d]&&(c=null);else if(!(a!=x[d].type||b&&x[d].id.indexOf(b)))return x[d]}return null}function B(a){var b=null;if(a=a.getAttribute("data-value"))try{b=eval("("+a+")")}catch(c){r(c.message+" ("+a+")")}return b}
function C(a,b){b=D(b.parentNode,"pdp11-control");for(var c=0;c<b.length;c++)for(var d=b[c].childNodes,f=0;f<d.length;f++){var e=d[f];if(1===e.nodeType){var g=e.getAttribute("class");if(g)for(var h=g.split(" "),l=0;l<h.length;l++)switch(g=h[l],g){case "pdp11-binding":(g=B(e))&&g.binding&&a.X(g.type,g.binding,e,g.value),l=h.length}}}}
function D(a,b,c){c&&(b+="-"+c+"-object");if(a.getElementsByClassName)return a.getElementsByClassName(b);var d;c=[];a=a.getElementsByTagName("*");var f=new RegExp("(^| )"+b+"( |$)");b=0;for(d=a.length;b<d;b++)f.test(a[b].className)&&c.push(a[b]);return c}
v.prototype={constructor:v,parent:null,toString:function(){return this.name?this.name:this.id||this.type},X:function(a,b,c){switch(b){case "clear":return this.w[b]||(this.w[b]=c,c.onclick=function(a){return function(){a.w.print&&(a.w.print.value="")}}(this)),!0;case "print":return this.w[b]||(this.Ab=this.w[b]=c,c.value="",this.V=function(a){return function(b,c){8192<a.value.length&&(a.value=a.value.substr(a.value.length-4096));a.value+=(void 0!==c?c+": ":"")+(b||"")+"\n";a.scrollTop=a.scrollHeight}}(c),
this.M=function(a){this.V(a,this.gb)}),!0;default:return!1}},log:function(){},V:function(){},status:function(a){this.V(this.gb+": "+a)},M:function(a,b,c){c=c||this.type;b||r((c?c+": ":"")+a)},ka:function(){return this.h.N=!0},ja:function(a,b){b&&(this.h.N=!1);return!0}};function E(a){if(!a.h.error&&(a.h.ready=!0,a.h.ready)){var b=a.ob;a.ob=null;b&&b()}}function Ga(a,b){b&&(a.h.ready?b():a.ob=b);return a.h.ready}
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){b=b||0;for(var c=this.length;b<c;b++)if(this[b]===a)return b;return-1});
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return f.apply(this instanceof c&&a?this:a,d.concat(Array.prototype.slice.call(arguments)))}function c(){}if("function"!=typeof this)throw new TypeError("Function.prototype.bind: non-callable object");var d=Array.prototype.slice.call(arguments,1),f=this;c.prototype=this.prototype;b.prototype=new c;return b});var Ha="undefined"!==typeof ArrayBuffer;function Ia(a){v.call(this,"Panel",a,Ia)}y(Ia);k=Ia.prototype;
k.X=function(a,b,c,d){return this.F&&this.F.X(a,b,c,d)||this.a&&this.a.X(a,b,c,d)?!0:this.parent.X.call(this,a,b,c,d)};k.va=function(a,b,c,d){this.F=a;this.D=b;this.a=c;this.K=d};k.ka=function(a,b){b||Ja();return!0};k.ja=function(){return!0};k.Sa=function(){};function Ja(){for(var a=!1,b=D(document,"pdp11","panel"),c=0;c<b.length;c++){var d=b[c],f=B(d),e=Fa(f.id);e||(a=!0,e=new Ia(f));C(e,d);a&&E(e)}}u(Ja);
function Ka(a,b,c){v.call(this,"Bus",a,Ka);this.a=b;this.K=c;this.A=a.busWidth||16;this.s=Math.pow(2,this.A);this.l=this.s-1|0;this.c=(this.A>>1)+2;10>this.c&&(this.c=10);15<this.c&&(this.c=15);this.g=1<<this.c;this.F=this.g>>2;this.i=this.g-1;this.m=this.s/this.g|0;this.H=this.m-1;this.pa=[];this.u=null;this.Ya=this.I;a=new G;La(a,this.K);this.b=Array(this.m);for(b=0;b<this.m;b++)this.b[b]=a;this.Va=Array(4);this.Va[0]=Ma;this.Va[1]=Na;this.Va[2]=Oa;this.Va[3]=Pa;Qa(this,this.s-8192,8192,Ra,this);
Qa(this,57344,8192,Ra,this);E(this)}y(Ka);function Ma(a,b){var c=-1,d=this.controller,f=d.pa[a];f?f[0]?c=f[0](b):f[2]&&(c=b&1?f[2](b&-2)>>8:f[2](b)&255):b&1&&(f=d.pa[a&-2])&&f[2]&&(c=f[2](b&-2)>>8);return 0<=c?c:c=d.Ya(b|4186112,-1,1)}
function Na(a,b,c){var d=!1,f=this.controller,e=f.pa[a];if(e)if(e[1])e[1](b,c),d=!0;else{if(e[3]){a=e[2]?e[2](c):0;if(c&1)e[3](a&255|b<<8,c&-2);else e[3](a&-256|b,c);d=!0}}else c&1&&(e=f.pa[a&-2])&&e[3]&&(c&=-2,a=e[2]?e[2](c):0,e[3](a&255|b<<8,c),d=!0);d||f.Ya(c|4186112,b,1)}function Oa(a,b){var c=-1,d=this.controller;(a=d.pa[a])&&(a[2]?c=a[2](b):a[0]&&(c=a[0](b)|a[0](b+1)<<8));return 0<=c?c:c=d.Ya(b|4186112,-1,0)}
function Pa(a,b,c){var d=!1,f=this.controller;if(a=f.pa[a])a[3]?(a[3](b,c),d=!0):a[1]&&(a[1](b&255,c),a[1](b>>8,c+1),d=!0);d||f.Ya(c|4186112,b,0)}Ka.prototype.reset=function(){this.u&&this.u()};Ka.prototype.I=function(){return 0};Ka.prototype.ka=function(a,b){b||this.reset();return!0};
function Qa(a,b,c,d,f){for(var e=b,g=c,h=e>>>a.c;0<g&&h<a.b.length;){var l=a.b[h],m=h*a.g,q=a.g-(e-m);q>g&&(q=g);if(l&&l.size){if(l.type==d&&l.controller==f){if(e+g<=l.Ua)return l.vb+=l.Ua-e,l.Ua=e,!0;if(e>=l.Ua+l.vb){q=l.size-(e-m);q>g&&(q=g);l.vb=e-l.Ua+q;e=m+a.g;g-=q;h++;continue}}return Sa(1,e,g)}e=new G(e,q,a.g,d,f);La(e,a.K,l);a.b[h++]=e;e=m+a.g;g-=q}return 0>=g?(a.status(Math.floor(c/1024)+"Kb "+Ta[d]+" at "+n(b,8,!0)),!0):Sa(2,b,c)}function Ua(a,b){return a.b[(b&a.l)>>>a.c].$a(b&a.i,b)}
function Va(a,b,c){var d=b&a.i,f=(b&a.l)>>>a.c;d!=a.i?a.b[f].Jc(d,c&65535,b):(a.b[f++].Ta(d,c&255,b),a.b[f&a.H].Ta(0,c>>8&255,b+1))}function Wa(a){for(var b=0,c=[],d=0;d<a.m;d++){var f=a.b[d];if(f.ta||f.cc){c[b++]=d;var e=b++;if(f=f.save()){for(var g=0,h=0,l=[];g<f.length;){for(var m=f[g],q=g+1;q<f.length&&f[q]===m;)q++;l[h++]=q-g;l[h++]=m;g=q}l.length<f.length&&(f=l)}c[e]=f}}return c}
function Xa(a,b,c){for(var d in c)for(var f=c[d],e=f[0]?f[0].bind(b):null,g=f[1]?f[1].bind(b):null,h=f[2]?f[2].bind(b):null,l=f[3]?f[3].bind(b):null,m=a,q=+d,f=f[4],w=+d;w<=q;w+=2){var F=w&8191;void 0!==m.pa[F]?r("I/O address already registered: "+n(w,8,!0)):m.pa[F]=[e,g,h,l,!1,f||"unknown"]}}function Ya(a,b,c){a.u=b;a.Ya=c}function Sa(a,b,c){r("Memory block error ("+a+": "+n(b)+","+n(c)+")");return!1}
function H(a){v.call(this,"Device",a,H);this.c={data:0,Mc:0,Oa:20,Cc:0};this.b={v:0,Hb:-1};this.g={bb:2496,P:0,C:128,cb:0,ab:0,W:0,Tb:0,T:[],Ja:[406,406,406,406],J:[12,12,12,12]};this.i={v:129,Xa:0,L:0,xa:0,qa:0,Ca:0,T:[],J:[40,40,40,40],Ja:[1024,1024,512,512],ac:[157,157,29,29]};this.l={a:[8210,8208,8210,8226],J:[22,22,22,50],Ia:[19,19,19,32],wb:[815,411,815,630],T:[],G:2176,Ra:0,Pa:0,ba:[0,0,0,0,0,0,0,0],aa:0,U:[4544,4544,4544,4544,4544,4544,4544,4544],Qa:[0,0,0,0,0,0,0,0],Na:0,zc:[0,0,0,0,0,0,
0,0],Ub:0,Vb:[0,0,0,0,0,0,0,0],w:[0,0,0,0,0,0,0,0],Ac:[1,2,3,4,5,6,7,8],Wb:[0,0,0,0,0,0,0,0],la:[0,0,0,0,0,0,0,0],ub:[0,0,0,0,0,0,0,0],xc:[0,0,0,0,0,0,0,0],yc:[0,0,0,0,0,0,0,0],vc:[0,0,0,0,0,0,0,0],wc:[0,0,0,0,0,0,0,0],Aa:0,Gb:0}}y(H);
var Za=[4127,448,4191,450,4383,452,2591,454,21983,32768,65534,13791,16384,65534,770,2719,454,2591,65534,257,0,2566,33028,34051,33282,1281,33537,0,2758,32771,770,1025,1793,0,3078,33794,34305,513,0,5574,43690,4480,4097,4162,4227,4292,4357,57665,1281,769,0,3138,34305,1281,0,24707,2691,2627,24769,34561,1793,0,3076,20739,24899,2691,34562,2753,1281,0,2624,33537,0,16385,24641,1537,1793,0,193,8279,21589,516,12549,1538,2629,513,0,38336,65281,32769,0,32258,2561,2689,32258,3008,514,3009,769,0,5574,510,2551,
2,0,9678,208,769,0,5582,226,135,0,2598,5606,236,2,0,95,242,128,5573,57344,2591,6,5599,256,4,5574,510,3045,5599,460,76,2591,78,5571,65510,5579,12,5570,512,4224,4104,3024,8197,33788,4224,4609,8193,769,0,2640,8197,33785,6145,2625,8193,769,0,8194,761,2574,5572,43690,5579,24,5568,2048,5570,512,2628,4360,2632,2632,8708,769,0,3103,65514,34562,0,305,35406,754,258,119,65160,3024,32403,5579,36,5568,3072,35446,1,740,5570,512,4224,4104,3024,8197,33788,5569,3,2574,3039,454,528,5582,24,4224,2632,2632,8200,769,
0,3024,3103,65514,34562,0,264,8197,33779,5003,2574,32337,260,0,258,5579,12,6080,448,6081,450,6084,452,116,2,6084,65400,17860,65024,21956,62976,38848,65401,3200,161,76,0,16944,10797];k=H.prototype;k.va=function(a,b,c,d){this.D=b;this.a=c;this.K=d;var f=this;this.b.Hb=$a(this.a,function(){f.b.wa|=128;f.b.wa&64&&(I(f.a,0,6,64),ab(f.a,f.b.Hb))});Xa(b,this,bb);Ya(b,this.reset.bind(this),this.$b.bind(this));E(this)};k.kc=function(){var a=this.b.wa;this.b.wa&=-129;return a};
k.Ec=function(a){this.b.wa=a;a&64&&ab(this.a,this.b.Hb);this.b.wa=a&-129};k.lc=function(){var a=this.a;return a.I&62337|a.hb<<5|a.ib<<1};k.Fc=function(a){var b=4,c=this.a;c.I=a&=62337;c.hb=a>>5&3;c.ib=a>>1&15;c.pb=a&257?a&1?6:4:0;cb(c);a=c.I;a&1|256&&(b=this.a.La&16?1:2);this.c.Oa=this.c.Oa&-8|b};k.mc=function(){return db(this.a)};k.Gc=function(a){eb(this.a,a&-1809|db(this.a)&1808);this.a.j|=128};
function fb(a){var b=a.g,c,d,f,e=b.W>>13&7;"undefined"===typeof b.T[e]&&(b.T[e]={cache:[],postProcess:a.sc,drive:e,blocksize:256,mapped:0,maxblock:b.Ja[e]*b.J[e],url:"rk"+e+".dsk"});b.C&=-129;switch(b.C>>1&7){case 0:b.bb=2496;b.P=0;b.C=128;b.W=0;break;case 1:if((b.W>>4&511)>=b.Ja[e]){b.P|=32832;b.C|=49152;break}if((b.W&15)>=b.J[e]){b.P|=32800;b.C|=49152;break}c=(b.W>>4&511)*b.J[e]+(b.W&15);d=(b.C&48)<<12|b.ab;f=65536-b.cb&65535;gb(a,b.T[e],c,d,f);return;case 2:if((b.W>>4&511)>=b.Ja[e])b.P|=32832,
b.C|=49152;else if((b.W&15)>=b.J[e])b.P|=32800,b.C|=49152;else{c=(b.W>>4&511)*b.J[e]+(b.W&15);d=(b.C&48)<<12|b.ab;f=65536-b.cb&65535;a.sb(b.T[e],c,d,f);return}}b.bb=e<<13|b.bb&8176|b.W%9&15;I(a.a,20,5,144,function(){b.C=b.C&65534|128;return!!(b.C&64)})}k.sc=function(a,b,c,d,f){var e=this.g;e.ab=d&65535;e.C=e.C&-49|d>>12&48;e.cb=65536-f&65535;switch(a){case 1:e.P|=33024;e.C|=49152;break;case 2:e.P|=33792,e.C|=49152}I(this.a,20,5,144,function(){e.C=e.C&65534|128;return!!(e.C&64)})};
function hb(a){var b=a.i,c,d,f,e=b.v>>8&3;b.v&=-2;"undefined"===typeof b.T[e]&&(b.T[e]={cache:[],postProcess:a.tc,drive:e,blocksize:128,mapped:1,maxblock:b.Ja[e]*b.J[e],url:"rl"+e+".dsk"});switch(b.v>>1&7){case 2:b.xa&8&&(b.v&=63);b.xa=b.ac[e]|b.Ca&64;break;case 3:1==(b.L&3)&&(b.Ca=b.L&4?b.Ca+(b.L&65408)&65408|b.L<<2&64:b.Ca-(b.L&65408)&65408|b.L<<2&64,b.L=b.Ca);break;case 4:b.xa=b.Ca;break;case 5:if(b.L>>6>=b.Ja[e]){b.v|=37888;break}if((b.L&63)>=b.J[e]){b.v|=37888;break}c=(b.L>>6)*b.J[e]+(b.L&63);
d=(b.qa&63)<<16|b.Xa;f=65536-b.xa&65535;gb(a,b.T[e],c,d,f);return;case 6:if(b.L>>6>=b.Ja[e])b.v|=37888;else if((b.L&63)>=b.J[e])b.v|=37888;else{c=(b.L>>6)*b.J[e]+(b.L&63);d=(b.qa&63)<<16|b.Xa;f=65536-b.xa&65535;a.sb(b.T[e],c,d,f);return}}I(a.a,20,5,112,function(){b.v|=129;return!!(b.v&64)})}
k.tc=function(a,b,c,d,f){var e=this.i;e.Xa=d&65535;e.v=e.v&-49|d>>12&48;e.qa=d>>16&63;e.L=~~(c/e.J[b.ia])<<6|c%e.J[b.ia];e.Ca=e.L;e.xa=65536-f&65535;switch(a){case 1:e.v|=33792;break;case 2:e.v|=40960}I(this.a,20,5,112,function(){e.v|=129;return!!(e.v&64)})};function ib(a){a=a.l;a.G=2176;a.aa=0;a.U=[4544,4544,4544,4544,4544,4544,4544,4544];a.Qa=[0,0,0,0,0,0,0,0];a.Na=a.Ra=a.Pa=a.Aa=a.Gb=0}
function jb(a,b){var c=a.l,d,f,e;c.G&=-16513;c.aa&=-2049;c.U[b]&=-1153;I(a.a,-1,0,172);"undefined"===typeof c.T[b]&&(c.T[b]={cache:[],postProcess:a.uc,drive:b,blocksize:256,mapped:0,maxblock:c.wb[0]*c.Ia[0]*c.J[0],url:"rp"+b+".dsk"});switch(c.G&63){case 5:c.ub[b]=c.la[b];c.G|=32896;c.U[b]|=32896;c.Na|=1<<b;break;case 9:ib(a);break;case 19:c.U[b]|=64;break;case 49:if(c.la[b]>=c.wb[0]||c.ba[b]>>8>=c.Ia[0]||(c.ba[b]&255)>=c.J[0]){c.Qa[b]|=1024;c.G|=49152;break}d=(c.la[b]*c.Ia[0]+(c.ba[b]>>8))*c.J[0]+
(c.ba[b]&255);f=(c.Aa&63)<<16|c.Pa;e=65536-c.Ra&65535;gb(a,c.T[b],d,f,e);return;case 57:if(c.la[b]>=c.wb[0]||c.ba[b]>>8>=c.Ia[0]||(c.ba[b]&255)>=c.J[0])c.Qa[b]|=1024,c.G|=49152;else{d=(c.la[b]*c.Ia[0]+(c.ba[b]>>8))*c.J[0]+(c.ba[b]&255);f=(c.Aa&63)<<16|c.Pa;e=65536-c.Ra&65535;a.sb(c.T[b],d,f,e);return}}I(a.a,3,5,172,function(){c.G=c.G&65534|128;c.U[b]|=128;return!!(c.G&64)})}
k.uc=function(a,b,c,d,f){var e=this.l;e.Ra=65536-f&65535;e.Pa=d&65535;e.G=e.G&-769|d>>8&768;e.Aa=d>>16&63;f=~~(c/e.J[0]);d=~~(f/e.Ia[0]);e.ba[b.ia]=f%e.Ia[0]<<8|c%e.J[0];e.ub[b.ia]=e.la[b.ia]=d;e.Na|=1<<b.ia;c>=b.ic-1&&(e.U[b.ia]|=1024);switch(a){case 1:e.aa|=512;e.G|=49152;break;case 2:e.aa|=2048,e.G|=49152}I(this.a,20,5,172,function(){e.U[b.ia]|=128;e.G=e.G&65534|128;return!!(e.G&64)})};
function kb(a,b,c,d,f,e){var g=~~((e+c.ra-1)/c.ra),h=new XMLHttpRequest;2048>g&&d+2048<c.ic&&(g=2048);h.open("GET",c.url,!0);h.setRequestHeader("Range","bytes="+(d*c.ra<<1)+"-"+(((d+g)*c.ra<<1)-1));h.responseType="arraybuffer";h.onreadystatechange=function(){if(4==h.readyState){var g=b.bind(a),m,q,w,F;m=h.response;if(h.status&&206!=h.status||!m)c.Db(1,c,d,f,e);else{m=new Uint8Array(m);q=d;for(F=0;F<m.length;){if("undefined"===typeof c.cache[q])for(c.cache[q]=[],w=0;w<c.ra;w++)c.cache[q][w]=F<m.length?
m[F]&255|m[F+1]<<8&65280:0,F+=2;else F+=c.ra<<1;q++}g(c,d,f,e)}}};h.send(null)}function J(a,b,c,d,f){c&1?f?d=0<=d?d<<8&65280|b&255:b:K(a.a,4):0<=d?f&&(d=b&65280|d&255):d=b;return d}k.sb=function(a,b,c,d){for(var f;0<d;){if("undefined"===typeof a.cache[b]){kb(this,this.sb,a,b,c,d);return}for(f=0;f<a.ra&&0<d;f++){var e=a.hc?lb(this.a,c):c;Va(this.a.D,e,a.cache[b][f]&65535);c+=2;--d}b++}a.Db(0,a,b,c,d)};
function gb(a,b,c,d,f){for(var e,g;0<f;){if("undefined"===typeof b.cache[c])for(b.cache[c]=[],e=0;e<b.ra;e++)b.cache[c][e]=0;for(e=0;e<b.ra&&0<f;e++){g=mb(a.a,b.hc?lb(a.a,d):d);if(0>g){b.Db(2,b,c,d,f);return}b.cache[c][e]=g;d+=2;--f}c++}b.Db(0,b,c,d,f)}k.reset=function(){this.c.Oa=this.c.Oa&-120|20;this.b.wa=0;this.g.C=128;this.i.v=128;ib(this)};
k.$b=function(a,b,c){var d,f,e=this.a;switch(a&-64){case 4194240:switch(a&-2){case 4194300:0>b?d=e.za&65280:(a&1&&(b<<=8),e.za=b|255,d=0);break;case 4194298:if(0>b)d=e.Fb;else{a&1&&(b<<=8);if(d=b&65024){f=d>>9;do d+=34;while(f>>=1)}e.Fb=d;e.j|=2}break;case 4194294:if(70!==e.Ka)return K(e,4);0>b?d=e.o:d=e.o=0;break;case 4194292:if(70!==e.Ka)return K(e,4);d=1;break;case 4194290:if(70!==e.Ka)return K(e,4);d=0;break;case 4194288:if(70!==e.Ka)return K(e,4);d=61183;break;case 4194296:0<=b&&!(a&1)&&(b&=
255);case 4194286:case 4194284:case 4194282:case 4194280:case 4194278:case 4194276:case 4194274:case 4194272:if(70!==e.Ka)return K(e,4);f=a-4194272>>1;0>b?d=e.Bb[f]:(d=J(this,e.Bb[f],a,b,c),0<=d&&(e.Bb[f]=d));break;case 4194254:return a&1?e.B>>14&1?(0<=b&&(e.f[6]=b),d=e.f[6]):(0<=b&&(e.ca[3]=b),d=e.ca[3]):e.B>>14&0?(0<=b&&(e.f[6]=b),d=e.f[6]):(0<=b&&(e.ca[1]=b),d=e.ca[1]),d;case 4194252:case 4194250:case 4194248:return f=a&7,e.B&2048?(0<=b&&(e.f[f]=b),d=e.f[f]):(0<=b&&(e.Ma[f]=b),d=e.Ma[f]),d;case 4194246:return a&
1?(0<=b&&(e.f[7]=b),d=e.f[7]):e.B>>14&0?(0<=b&&(e.f[6]=b),d=e.f[6]):(0<=b&&(e.ca[0]=b),d=e.ca[0]),d;case 4194244:case 4194242:case 4194240:return f=a&7,e.B&2048?(0<=b&&(e.Ma[f]=b),d=e.Ma[f]):(0<=b&&(e.f[f]=b),d=e.f[f]),d;default:return e.o|=16,K(e,4)}break;case 4194176:f=a>>1&31;d=J(this,e.O[3][f],a,b,c);0<=d&&(e.O[3][f]=d,e.O[3][f&15]&=65295);break;case 4194112:switch(a&-2){case 4194174:d=J(this,e.tb,a,b,c);0<=d&&(e.tb=d);break;case 4194172:d=e.ya;d&65280&&(d=(d<<8|d>>8)&65535);break;case 4194168:0>
b?d=this.c.Cc&65535:(d=J(this,this.c.data,a,b,c),0<=d&&(this.c.data=d));break;default:return e.o|=16,K(e,4)}break;case 4194048:f=this.g;switch(a&-2){case 4194048:d=J(this,f.bb,a,b,c);0<=d&&(f.bb=d);break;case 4194050:d=J(this,f.P,a,b,c);0<=d&&(f.P=d);break;case 4194052:d=J(this,f.C,a,b,c);0<=b&&0<=d&&(f.C=d&-36993|f.C&36992,f.C&1&&fb(this));break;case 4194054:d=J(this,f.cb,a,b,c);0<=d&&(f.cb=d);break;case 4194056:d=J(this,f.ab,a,b,c);0<=d&&(f.ab=d);break;case 4194058:d=J(this,f.W,a,b,c);0<=d&&(f.W=
d);break;case 4194060:break;case 4194062:d=J(this,f.Tb,a,b,c);0<=d&&(f.Tb=d);break;default:return e.o|=16,K(e,4)}break;case 4193728:var g=this.l;f=g.aa&7;switch(a&-2){case 4193728:d=J(this,g.G,a,b,c);0<=b&&0<=d&&(g.Aa=g.Aa&60|d>>8&3,g.G=d&17279|g.G&34944|2048,d&1&&g.G&128?jb(this,f):192==(d&192)&&I(e,0,5,172));break;case 4193730:d=J(this,g.Ra,a,b,c);0<=d&&(g.Ra=d);break;case 4193732:d=J(this,g.Pa,a,b,c);0<=d&&(g.Pa=d&65534);break;case 4193734:d=J(this,g.ba[f],a,b,c);0<=d&&(g.ba[f]=d&7967);break;case 4193736:d=
J(this,g.aa,a,b,c);0<=d&&(g.aa=d&63|g.aa&65472,d&128&&ib(this));break;case 4193738:d=g.U[f];break;case 4193740:d=g.Qa[f];break;case 4193742:d=J(this,g.Na,a,b,c);0<=d&&(g.Na=d&255);break;case 4193744:d=g.zc[f];break;case 4193746:d=J(this,g.Ub,a,b,c);0<=d&&(g.Ub=d);break;case 4193748:d=J(this,g.Vb[f],a,b,c);0<=d&&(g.Vb[f]=d&1023);break;case 4193750:d=8210;break;case 4193752:d=g.Ac[f];break;case 4193754:d=J(this,g.Wb[f],a,b,c);0<=d&&(g.Wb[f]=d);break;case 4193756:d=J(this,g.la[f],a,b,c);0<=d&&(g.la[f]=
d&511);break;case 4193758:g.ub[f]=g.la[f];d=g.ub[f];break;case 4193760:d=g.xc[f];break;case 4193762:d=g.yc[f];break;case 4193764:d=g.vc[f];break;case 4193766:d=g.wc[f];break;case 4193768:d=J(this,g.Aa,a,b,c);0<=d&&(g.Aa=d&63,g.G=g.G&-769|(d&3)<<8);break;case 4193770:d=J(this,g.Gb,a,b,c);0<=d&&(g.Gb=d);break;default:return e.o|=16,K(e,4)}break;case 4192512:f=this.i;switch(a&-2){case 4192512:d=J(this,f.v,a,b,c);0<=b&&0<=d&&(f.qa=f.qa&60|d>>4&3,f.v=f.v&-1023|d&1022,f.v&128||hb(this));break;case 4192514:d=
J(this,f.Xa,a,b,c);0<=d&&(f.Xa=d&65534);break;case 4192516:d=J(this,f.L,a,b,c);0<=d&&(f.L=d);break;case 4192518:d=J(this,f.xa,a,b,c);0<=d&&(f.xa=d);break;case 4192520:d=J(this,f.qa,a,b,c);0<=d&&(f.qa=d&63,f.v=f.v&-49|(f.qa&3)<<4);break;default:return e.o|=16,K(e,4)}break;case 4191552:switch(a&-2){case 4191566:0>b?d=e.La:(d=J(this,e.La,a,b,c),0<=d&&(70!==e.Ka&&(d&=-49),e.La=d,e.qb[0]=d&4?15:7,e.qb[1]=d&2?15:7,e.qb[3]=d&1?15:7,e.pb&&(f=2,e.La&16&&(f=1),this.c.Oa=this.c.Oa&-8|f)));break;default:return e.o|=
16,K(e,4)}break;case 4191424:f=a>>1&31;d=J(this,e.O[0][f],a,b,c);0<=d&&(e.O[0][f]=d,e.O[0][f&15]&=65295);break;case 4191360:f=a>>1&31;d=J(this,e.O[1][f],a,b,c);0<=d&&(e.O[1][f]=d,e.O[1][f&15]&=65295);break;case 4190400:case 4190336:if(70!==e.Ka)return K(e,4);f=a>>2&31;d=e.eb[f];a&2&&(d>>=16);d&=65535;0<=b&&(d=J(this,d,a,b,c),0<=d&&(e.eb[f]=a&2?d<<16|e.eb[f]&65535:e.eb[f]&4294901760|d&65534));break;case 4188672:case 4188736:case 4188800:case 4188864:case 4188928:case 4188992:case 4189056:case 4189120:if(0>
b)d=Za[a>>1&255];else return e.o|=16,K(e,4);break;default:return e.o|=16,K(e,4)}c&&0<=d&&(a&1?d>>=8:d&=255);"undefined"===typeof d&&console.log("panic(76)");return d};var nb={},bb=(nb[65382]=[null,null,H.prototype.kc,H.prototype.Ec,"LKS"],nb[65402]=[null,null,H.prototype.lc,H.prototype.Fc,"MMR0"],nb[65534]=[null,null,H.prototype.mc,H.prototype.Gc,"PSW"],nb);u(function(){for(var a=D(document,"pdp11","device"),b=0;b<a.length;b++){var c=a[b],d=B(c),d=new H(d);C(d,c)}});var ob;
if(Ha){var pb=new ArrayBuffer(2);(new DataView(pb)).setUint16(0,256,!0);ob=256===(new Uint16Array(pb))[0]}else ob=!1;var qb=ob;
function G(a,b,c,d,f){this.id=rb+=2;this.a=null;this.Ua=a;this.vb=b;this.size=c||0;this.type=d||sb;this.w=d==tb;this.controller=null;La(this);this.ta=this.cc=!1;if(c)if(f)this.controller=f,this.a=null,ub(this,f.Va);else if(Ha)this.c=new ArrayBuffer(c),this.g=new DataView(this.c,0,c),this.b=new Uint8Array(this.c,0,c),this.m=new Uint16Array(this.c,0,c>>1),this.a=new Int32Array(this.c,0,c>>2),ub(this,qb?vb:wb);else{this.a=Array(c>>2);for(a=0;a<this.a.length;a++)this.a[a]=0;ub(this,xb)}else ub(this)}
var sb=0,tb=2,Ra=4,Ta=["NONE","RAM","ROM","VID","H/W"],rb=0;
G.prototype={constructor:G,parent:null,save:function(){var a,b;if(this.controller)a=null;else if(Ha)for(a=Array(this.size>>2),b=0;b<a.length;b++)a[b]=this.g.getInt32(b<<2,!0);else a=this.a;return a},restore:function(a){if(this.controller)return!a;if(a&&this.size==a.length<<2){var b;if(Ha)for(b=0;b<a.length;b++)this.g.setInt32(b<<2,a[b],!0);else this.a=a;return this.ta=!0}return!1},s:function(){return 255},A:function(){},u:function(a,b){return this.$a(a++,b++)|this.$a(a,b)<<8},F:function(a,b,c){this.Ta(a++,
b&255,c++);this.Ta(a,b>>8,c)},Y:function(a){return this.a[a>>2]>>>((a&3)<<3)&255},ga:function(a){var b=a>>2;a=(a&3)<<3;var c=this.a[b]>>a;return 24>a?c&65535:c&255|(this.a[b+1]&255)<<8},oa:function(a,b){var c=a>>2;a=(a&3)<<3;this.a[c]=this.a[c]&~(255<<a)|b<<a;this.ta=!0},Ha:function(a,b){var c=a>>2;a=(a&3)<<3;24>a?this.a[c]=this.a[c]&~(65535<<a)|b<<a:(this.a[c]=this.a[c]&16777215|b<<24,c++,this.a[c]=this.a[c]&-256|b>>8);this.ta=!0},I:function(a,b){return this.R(a,b)},da:function(a,b){return this.ea(a,
b)},ma:function(a,b,c){this.w||this.Zb(a,b,c)},Ea:function(a,b,c){this.w||this.Fa(a,b,c)},H:function(a){return this.b[a]},S:function(a){return this.b[a]},Z:function(a){return this.g.getUint16(a,!0)},fa:function(a){return a&1?this.b[a]|this.b[a+1]<<8:this.m[a>>1]},ha:function(a,b){this.b[a]=b;this.ta=!0},na:function(a,b){this.b[a]=b;this.ta=!0},Da:function(a,b){this.g.setUint16(a,b,!0);this.ta=!0},Ga:function(a,b){a&1?(this.b[a]=b,this.b[a+1]=b>>8):this.m[a>>1]=b;this.ta=!0}};
function La(a,b,c){a.K=b;a.i=a.l=0;c&&((a.i=c.i)&&yb(a,zb,!1),(a.l=c.l)&&Ab(a,zb,!1))}function Ab(a,b,c){c&&a.l||(a.Ta=!a.w&&b[1]||a.A,a.Jc=!a.w&&b[3]||a.F);if(c||void 0===c)a.Zb=b[1]||a.A,a.Fa=b[3]||a.F}function yb(a,b,c){c&&a.i||(a.$a=b[0]||a.s,a.pc=b[2]||a.u);if(c||void 0===c)a.R=b[0]||a.s,a.ea=b[2]||a.u}function ub(a,b){b||(b=Bb);yb(a,b,void 0);Ab(a,b,void 0)}var Bb=[],xb=[G.prototype.Y,G.prototype.oa,G.prototype.ga,G.prototype.Ha],zb=[G.prototype.I,G.prototype.ma,G.prototype.da,G.prototype.Ea];
if(Ha)var wb=[G.prototype.H,G.prototype.ha,G.prototype.Z,G.prototype.Da],vb=[G.prototype.S,G.prototype.na,G.prototype.fa,G.prototype.Ga];function Cb(a,b){v.call(this,"CPU",a,Cb);var c=a.multiplier||1;this.mb=a.cycles||b;this.ga=c;this.zb=Math.round(this.mb/1E4)/100;this.ma=this.zb*this.ga;this.h.$=!1;this.h.Xb=!1;this.h.Wa=a.autoStart;this.h.Jb=!1;this.h.nb=!1;this.kb=this.na=0;this.lb=a.csStart;this.Ea=a.csInterval;this.Fa=a.csStop;this.R=[];this.Sb=this.Bc.bind(this);E(this)}y(Cb);
var Db=["power","reset"];k=Cb.prototype;k.va=function(a,b,c,d){this.F=a;this.D=b;this.K=d;for(b=0;b<Db.length;b++)(c=this.w[Db[b]])&&this.F.X(null,Db[b],c);this.Da=null;a=Eb(a,"autoStart");null!=a&&(this.h.Wa="true"==a?!0:"false"==a?!1:!!a);E(this)};k.reset=function(){};k.save=function(){return null};k.restore=function(){return!1};k.ka=function(a,b){if(!b){if(a&&this.restore){Fb(this);if(!this.restore(a))return!1;Gb(this)}else this.reset();this.V("No debugger detected")}Hb(this);return!0};
k.ja=function(a){return a?this.save():!0};k.Wa=function(){return this.h.Wa||void 0===this.w.run?(Ib(this),!0):!1};k.Ob=function(){return 0};function Gb(a){void 0===a.lb&&(a.lb=0);void 0===a.Ea&&(a.Ea=-1);void 0===a.Fa&&(a.Fa=-1);a.h.nb=0<=a.lb&&0<a.Ea;a.h.nb&&(a.kb=0,a.na=a.lb-a.ha)}
function Jb(a,b,c,d){if(a.w[b]){void 0===c&&(a.h.error=!0,a.M("Value for "+b+" is invalid"),Kb(a));var f=a.K&&a.K.b||8;if(!a.h.$||a.h.Jb)if(8==f){f="";d?11<d&&(d=11):d=c&-65536?11:6;if(null==c||isNaN(c))for(;0<d--;)f="?"+f;else for(;0<d--;)f=String.fromCharCode((c&7)+48)+f,c>>=3;d=""+f}else d=n(c,d);else d="--------".substr(0,d||4);a.w[b].textContent!=d&&(a.w[b].textContent=d)}}
k.X=function(a,b,c){var d=this;a=!1;switch(b){case "power":case "reset":this.w[b]=c;a=!0;break;case "run":this.w[b]=c;c.onclick=function(){var a;if(a=d.F)if(a=d.F,a.h.N)a=!0;else{var b=null,c,h=z(a.id);for(c=0;c<h.length&&(b=h[c],b===a||b.h.ready);c++);if(c==h.length)for(c=0;c<h.length&&(b=h[c],b===a||b.h.N);c++);c==h.length&&(b=a);r("The "+b.type+" component ("+b.id+") is not "+(b.h.ready?"powered yet":"ready yet"+(b.ob?" (waiting for notification)":""))+".");a=!1}a&&(d.h.$?Kb(d):Ib(d))};a=!0;break;
case "speed":this.w[b]=c;a=!0;break;case "setSpeed":this.w[b]=c,c.onclick=function(){Lb(d,d.ga<<1)},c.textContent=this.ma.toFixed(2)+"Mhz",a=!0}return a};function Mb(a,b,c){a.ha+=b;c&&(a.S=a.a=0)}function Nb(a,b){var c=1;b&&1<a.ga&&a.ea&&(c=a.ea/a.zb);a.Pb=Math.round(1E3/30);a.fb=Math.floor(a.mb/30*c);b||(a.Ga=a.fb);a.Cb=0}function Ob(a){return a.ha+a.Z+a.S-a.a}function Fb(a){a.ea=0;a.Qb=0;a.ha=a.Z=a.S=a.a=0;Gb(a);Lb(a,1)}
function Lb(a,b){if(void 0!==b&&(.8>a.ea/a.ma&&(b=1),a.ga=b,b=a.zb*a.ga,a.ma!=b)){a.ma=b;b=a.ma.toFixed(2)+"Mhz";var c=a.w.setSpeed;c&&(c.textContent=b);a.V("target speed: "+b)}Mb(a,a.Z);a.Z=0;a.Y=ia();a.fa=0;Nb(a)}function $a(a,b){var c=a.R.length;a.R.push([-1,b]);return c}function ab(a,b){var c;0<=b&&b<a.R.length&&0>a.R[b][0]&&(c=a.mb*a.ga/1E3*(1E3/60),a.R[b][0]=c)}
k.Bc=function(){if(this.h.$){this.Cb>=this.mb&&Nb(this,!0);this.Ha=0;this.jb=ia();if(this.fa){var a=this.jb-this.fa;a>this.Pb&&(this.Y+=a,this.Y>this.jb&&(this.Y=this.jb))}try{do{for(var b,c=this.h.nb?1:this.fb,d=this.R.length-1;0<=d;d--){var f=this.R[d];0>f[0]||c>f[0]&&(c=f[0])}b=c;try{this.Yb(b)}catch(m){if("number"!=typeof m)throw m;}for(var e=this.S-this.a,a=e,g=this.R.length-1;0<=g;g--){var h=this.R[g];0>h[0]||(h[0]-=a,0>=h[0]&&(h[0]=-1,h[1]()))}this.Ha+=e;this.Z+=e;Mb(this,0,!0);a=e;if(this.h.nb){var l=
!1;this.kb=this.kb+this.Ob()|0;this.na-=a;0>=this.na&&(this.na+=this.Ea,l=!0);0<=this.Fa&&this.Fa<=Ob(this)&&(this.Ea=this.Fa=-1,Gb(this),Kb(this),l=!0);l&&this.V(Ob(this)+" cycles: checksum="+n(this.kb))}this.Ga-=e;if(0>=this.Ga){this.Ga+=this.fb;15<=++this.Qb&&(this.F&&this.F.Sa(),this.Qb=0);break}}while(this.h.$)}catch(m){Kb(this);Hb(this);this.F&&this.F.stop(ia(),Ob(this));b=m.stack||m.message;this.h.error=!0;this.M(b);return}if(this.h.$){b=setTimeout;c=this.Sb;this.fa=ia();d=this.Pb;this.Ha&&
(d=Math.round(d*this.Ha/this.fb));d-=this.fa-this.jb;if(f=this.fa-this.Y)this.ea=Math.round(this.Z/(10*f))/100,864E5<=f&&(this.ha=0,Lb(this));if(0>d||this.ea<this.ma)-1E3>d&&(this.Y-=d),d=0;this.Cb+=this.Ha;this.fa+=d;b(c,d)}}};function Ib(a){var b;a.h.error?(a.V(a.toString()+" error"),b=!0):b=!1;if(!b)if(a.h.$)a.V(a.toString()+" busy");else{Lb(a);a.h.$=!0;a.h.Xb=!0;a.Da&&a.Da.start();if(b=a.w.run)b.textContent="Halt";a.F&&a.F.start(a.Y,Ob(a));Hb(a,!0);setTimeout(a.Sb,0)}}k.Yb=function(){return 0};
function Kb(a){if(a.h.$){a.S-=a.a;a.a=0;Mb(a,a.Z);a.Z=0;a.h.$=!1;a.Da&&a.Da.stop();var b=a.w.run;b&&(b.textContent="Run");a.F&&a.F.stop(ia(),Ob(a));Hb(a)}a.h.complete=void 0}function Hb(a,b){a.F&&a.F.Sa(b)}
function Pb(a){this.gc=a.resetAddr||0;Cb.call(this,a,6666667);this.Mb=0;this.decode=Qb.bind(this);this.m=65536;this.g=32768;this.i=65535;this.u=32768;this.B=15;this.f=[0,0,0,0,0,0,0,this.gc];this.Ma=[0,0,0,0,0,0];this.ca=[0,0,0,0];this.ib=this.H=0;this.O=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[65535,65535,65535,65535,65535,65535,65535,65535,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];this.eb=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Bb=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.s=this.b=this.l=this.c=this.xb=this.j=0;this.Ka=70;this.oa=-1;Rb(this);this.h.complete=this.h.bc=!1}y(Pb,Cb);k=Pb.prototype;k.reset=function(){this.h.$&&Kb(this);Rb(this);Fb(this);this.h.error=!1;this.parent.reset.call(this)};
function Rb(a){a.za=255;a.o=0;a.Fb=0;a.I=0;a.ya=0;a.tb=0;a.La=0;a.pb=0;a.hb=0;a.qb=[7,7,7,7];a.A=[];a.j|=2;cb(a)}function cb(a){a.pb?(a.Lb=65536,a.da=a.ec):(a.Lb=0,a.da=a.dc)}k.Ob=function(){return 0};k.save=function(){var a=new L(this);a.set(0,[]);a.set(1,[this.ha,this.ga]);a.set(2,Wa(this.D));return a.data()};
k.restore=function(a){var b=a[1];this.ha=b[1];Lb(this,b[3]);a:{b=this.D;a=a[2];var c;for(c=0;c<a.length-1;c+=2){var d=a[c],f=a[c+1];if(f&&f.length<b.F){for(var e=0,g=Array(b.F),h=0;h<f.length-1;)for(var l=f[h++],m=f[h++];l--;)g[e++]=m;f=g}e=b.b[d];if(!e||!e.restore(f)){r("Unable to restore memory block "+d);b=!1;break a}}b=!0}return b};
k.X=function(a,b,c){switch(b){case "R0":case "R1":case "R2":case "R3":case "R4":case "R5":case "R6":case "R7":case "NF":case "ZF":case "VF":case "CF":case "PS":this.w[b]=c;this.Mb++;a=!0;break;default:a=this.parent.X.call(this,a,b,c)}return a};
k.Sa=function(a){if(this.Mb&&(a||!this.h.$||this.h.Jb)){for(a=0;a<this.f.length;a++)Jb(this,"R"+a,this.f[a]);a=db(this);Jb(this,"PS",a);Jb(this,"NF",a&8?1:0,1);Jb(this,"ZF",a&4?1:0,1);Jb(this,"VF",a&2?1:0,1);Jb(this,"CF",a&1?1:0,1)}if(a=this.w.speed)a.textContent=this.h.$&&this.ea?this.ea.toFixed(2)+"Mhz":"Stopped"};function M(a){return a.m&65536?1:0}k.ua=function(){return this.u&32768?8:0};function Sb(a){var b=N(a,a.f[7]);a.f[7]=a.f[7]+2&65535;return b}
function I(a,b,c,d,f){for(var e=a.A.length;0<e--;)if(a.A[e].Dc===d){0<e&&(a.A[e-1].sa+=a.A[e].sa);a.A.splice(e,1);break}if(0<=b){for(e=a.A.length;0<e--;){if(a.A[e].sa>b){a.A[e].sa-=b;break}b-=a.A[e].sa}a.A.splice(e+1,0,{delay:b,priority:c<<5&224,vector:d,callback:f})}a.j|=2}function db(a){return a.B=a.B&63728|a.ua()|(a.i&65535?0:4)|(a.g&32768?2:0)|M(a)}
function eb(a,b){a.u=b<<12;a.i=~b&4;a.g=b<<14;a.m=b<<16;if((b^a.B)&2048)for(var c=a.Ma.length;0<=--c;){var d=a.f[c];a.f[c]=a.Ma[c];a.Ma[c]=d}a.H=b>>14&3;c=a.B>>14&3;a.H!=c&&(a.ca[c]=a.f[6],a.f[6]=a.ca[a.H]);a.j|=2;a.B=b}function O(a,b){a.j&128||(a.u=a.i=b,a.g=0)}function P(a,b,c){a.j&128||(a.u=a.i=a.m=b,a.g=c||0)}function Tb(a,b,c,d){a.j&128||(a.u=a.i=a.m=b,a.g=(c^b)&(d^b))}function Q(a,b){a.j&128||(a.u=a.i=a.m=b,a.g=a.u^a.m>>1)}function Ub(a,b,c,d){a.j&128||(a.u=a.i=a.m=b,a.g=(c^d)&(d^b))}
function K(a,b){var c=!1;0>a.oa?a.oa=db(a):a.H||(b=4,c=!0);a.I&57344||(a.ya=63222,a.tb=b);a.H=0;var d=N(a,b|65536),f=N(a,b+2&65535|65536);eb(a,f&-12289|a.oa>>2&12288);c&&(a.o|=4,a.f[6]=4);Vb(a,a.oa);Vb(a,a.f[7]);a.f[7]=d&65535;a.j&=-113;a.oa=-1;throw b;}function Wb(a){var b=Xb(a),c=Xb(a)&-1793;a.B&49152&&(c=c&-225|a.B&63712);a.f[7]=b&65535;eb(a,c);a.j&=-17}
function lb(a,b){var c=b>>13&31;31>c?a.La&32&&(b=a.eb[c]+(b&8190)&4194302,3932160<=b&&4186112>b&&console.log("panic(898)")):b|=4186112;return b}
function Yb(a,b,c){var d,f,e,g=0;if(c&a.pb){d=b>>13&a.qb[a.H];f=a.O[a.H][d];e=(a.O[a.H][d+16]<<6)+(b&8191)&4194303;a.La&16?3932160<=e&&4186112>e&&(e=lb(a,e&262143)):(e&=262143,253952<=e&&(e|=4186112));3932160>e&&(3915776<=e&&(a.o|=32,K(a,4)),e&1&&!(c&1)&&(a.o|=64,K(a,4)));switch(f&7){case 1:g=4096;case 2:f|=128;c&4&&(g=8192);break;case 4:g=4096;case 5:c&4&&(g=4096);case 6:f|=c&4?192:128;break;default:g=32768}32512!==(f&32520)&&(f&8?f&32512&&(b&8128)<(f>>2&8128)&&(g|=16384):(b&8128)>(f>>2&8128)&&(g|=
16384));a.O[a.H][d]=f;if(4194170!==e||a.H)a.hb=a.H,a.ib=d;g&&(g&57344&&(0<=a.oa&&(g|=128),a.I&57344||(a.I=a.I|g|a.hb<<5|a.ib<<1),K(a,168)),a.I&61440||!(4191360>e||4194239<e)||(a.I|=4096,a.I&512&&(a.j|=32)))}else e=b&65535,57344<=e?e|=4186112:e&1&&!(c&1)&&(a.o|=64,K(a,4));return e}function mb(a,b){a=a.D;var c=b&a.i,d=(b&a.l)>>>a.c;return c!=a.i?a.b[d].pc(c,b):a.b[d++].$a(c,b)|a.b[d&a.H].$a(0,b+1)<<8}function N(a,b){return mb(a,Yb(a,b,2))}
function Xb(a){var b=N(a,a.f[6]|65536);a.f[6]=a.f[6]+2&65535;return b}function Vb(a,b){var c=a.f[6]-2&65535;a.f[6]=c;a.I&57344||(a.ya=a.ya<<8|246);!a.H&&c<=a.za&&4<c&&(c<=a.za-32?(a.o|=4,a.f[6]=4,K(a,4)):(a.o|=8,a.j|=4));c=Yb(a,c|65536,4);Va(a.D,c,b&65535)}
function Zb(a,b,c){var d,f,e=c&8?0:a.Lb,g=b>>3&7;b&=7;c&4?(a.c=g,a.b=b):(a.l=g,a.s=b);switch(g){case 0:return K(a,4),0;case 1:return 6===b&&!a.H&&c&4&&(a.f[6]<=a.za||65534<=a.f[6])&&(a.f[6]<=a.za-32||65534<=a.f[6]?(a.o|=4,a.f[6]=4,K(a,4)):(a.o|=8,a.j|=64)),a.a-=3,7===b?a.f[b]:a.f[b]|e;case 2:f=2;d=a.f[b];7!==b&&(d|=e,6>b&&c&1&&(f=1));a.a-=3;break;case 3:f=2;d=a.f[b];7!==b&&(d|=e);d=N(a,d);d|=e;a.a-=7;break;case 4:f=-2;6>b&&c&1&&(f=-1);d=a.f[b]+f&65535;7!==b&&(d|=e);a.a-=4;break;case 5:f=-2;d=a.f[b]-
2&65535;7!==b&&(d|=e);d=N(a,d)|e;a.a-=8;break;case 6:return d=Sb(a),d=d+a.f[b]&65535|e,a.a-=6,d;case 7:return d=Sb(a),d=d+a.f[b]&65535,d=N(a,d|65536)|e,a.a-=10,d}a.f[b]=a.f[b]+f&65535;!e||a.I&57344||(a.ya=a.ya<<8|f<<3&248|b);6==b&&!a.H&&c&4&&0>=f&&(a.f[6]<=a.za||65534<=a.f[6])&&(a.f[6]<=a.za-32?(a.o|=4,a.f[6]=4,K(a,4)):(a.o|=8,a.j|=64));return d}k.dc=function(a,b){return Zb(this,a,b)};k.ec=function(a,b){return Yb(this,Zb(this,a,b),b)};
function $b(a,b,c){b&56?(b=Zb(a,b,2),c&65536||61440!==(a.B&61440)&&(b&=65535),a.H=a.B>>12&3,c=N(a,b|c&65536),a.H=a.B>>14&3):(a.l=0,c=a.s=b&7,c=6!=c||(a.B>>2&12288)===(a.B&12288)?a.f[c]:a.ca[a.B>>12&3]);return c}function ac(a,b,c,d){a.I&57344||(a.ya=22);b&56?(b=Zb(a,b,4),c&65536||(b&=65535),a.H=a.B>>12&3,b=Yb(a,b|c&65536,4),a.H=a.B>>14&3,Va(a.D,b,d&65535)):(a.c=0,c=a.b=b&7,6!=c||(a.B>>2&12288)===(a.B&12288)?a.f[c]=d:a.ca[a.B>>12&3]=d)}
function R(a,b){b&56?a=mb(a,a.da(b,2)):(a.l=0,a=a.f[a.s=b&7]);return a}function S(a,b){b&56?(b=a.da(b,3),a=Ua(a.D,b)):(a.l=0,a=a.f[a.s=b&7]&255);return a}function T(a,b,c,d){b&56?(b=a.da(b,6),c=d.call(a,c,mb(a,b)),Va(a.D,b,c&65535)):(a.c=0,b=a.b=b&7,a.f[b]=d.call(a,c,a.f[b]))}function U(a,b,c,d){b&56?(b=a.xb=a.da(b,7),c=d.call(a,c,Ua(a.D,b)),b&1&&a.a--,a=a.D,a.b[(b&a.l)>>>a.c].Ta(b&a.i,c&255,b)):(a.c=0,b=a.b=b&7,a.f[b]=a.f[b]&65280|d.call(a,c,a.f[b]))}
function bc(a,b,c){b&56?(b=a.da(b,4),Va(a.D,b,c&65535)):(a.c=0,a.f[a.b=b&7]=c&65535);return c}function cc(a,b,c,d){b&56?(d=a.da(b,5),d&1&&a.a--,a=a.D,a.b[(d&a.l)>>>a.c].Ta(d&a.i,c&255,d)):(a.c=0,b=a.b=b&7,a.f[b]=c?d&1?c<<24>>24&65535:a.f[b]&-256|c&255:a.f[b]&-256);return c}function V(a,b,c){c&&(a.f[7]=a.f[7]+(b<<24>>23)&65535,a.a-=2);a.a-=3}
k.Yb=function(a){this.h.complete=!0;this.h.bc=!1;this.h.Xb=!1;this.S=this.a=a;do{if(this.j&&(this.j&112&&(this.j&32?K(this,168):this.j&64?K(this,4):this.j&16&&K(this,12),this.j&=-113),this.j&7))if(this.j&2){this.j&=-3;a=null;for(var b=this.Fb&224,c=this.A.length;0<=--c;){if(0<this.A[c].sa){this.A[c].sa--;this.j|=2;break}if(this.A[c].Ib){if(!this.A[c].Ib()){this.A.splice(c,1);continue}this.A[c].Ib=null}this.A[c].jc>b&&(b=this.A[c].jc,a=this.A[c],this.A.splice(c,1))}b>(this.B&224)&&(this.j&4&&(this.f[7]=
this.f[7]+2&65535,this.j&=-5),a?K(this,a.Dc):K(this,160))}else this.j&1&&this.j++;this.I&57344||(this.ya=0,this.tb=this.f[7]);this.j=this.j&7|this.B&16;this.decode(Sb(this))}while(0<this.a);return this.h.complete?this.S-this.a:void 0===this.h.complete?0:-1};u(function(){for(var a=D(document,"pdp11","cpu"),b=0;b<a.length;b++){var c=a[b],d=B(c),d=new Pb(d);C(d,c)}});function dc(a,b){var c=b+a;Tb(this,c,a,b);return c&65535}function ec(a,b){var c=b+a;Tb(this,c<<8,a<<8,b<<8);return c&255}
function fc(a,b){a=b<<1;Q(this,a);return a&65535}function gc(a,b){a=b<<1;Q(this,a<<8);return a&255}function hc(a,b){a=b&32768|b>>1|b<<16;Q(this,a);return a&65535}function ic(a,b){a=b&2048|b>>1|b<<8;Q(this,a<<8);return a&255}function jc(a,b){a=b&~a;O(this,a);return a}function kc(a,b){a=b&~a;O(this,a<<8);return a}function lc(a,b){a|=b;O(this,a);return a}function mc(a,b){a|=b;O(this,a<<8);return a}function nc(a,b){a=~b|65536;P(this,a);return a&65535}
function oc(a,b){a=~b|256;P(this,a<<8);return a&255}function pc(a,b){a=b-a;this.j&128||(this.u=this.i=a,this.g=b&(b^a));return a&65535}function qc(a,b){a=b-a;var c=a<<8;b<<=8;this.j&128||(this.u=this.i=c,this.g=b&(b^c));return a&255}function rc(a,b){a=b+a;this.j&128||(this.u=this.i=a,this.g=a&(b^a));return a&65535}function sc(a,b){a=b+a;var c=a<<8;this.j&128||(this.u=this.i=c,this.g=c&(b<<8^c));return a&255}function tc(a,b){a=-b;P(this,a,a&b&32768);return a&65535}
function uc(a,b){a=-b;P(this,a<<8,(a&b&128)<<8);return a&255}function vc(a,b){a=b<<1|this.m>>16&1;Q(this,a);return a&65535}function wc(a,b){a=b<<1|this.m>>16&1;Q(this,a<<8);return a&255}function xc(a,b){a=(this.m&65536|b)>>1|b<<16;Q(this,a);return a&65535}function yc(a,b){a=((this.m&65536)>>8|b)>>1|b<<8;Q(this,a<<8);return a&255}function zc(a,b){var c=b-a;Ub(this,c,a,b);return c&65535}function Ac(a,b){var c=b-a;Ub(this,c<<8,a<<8,b<<8);return c&255}
function Bc(a,b){this.j&128||(this.u=this.i=b&65280,this.g=this.m=0);return(b<<8|b>>8)&65535}function Cc(a,b){a^=b;O(this,a);return a&65535}function Dc(a){var b=R(this,a);a=a>>6&7;var c=this.f[a];c&32768&&(c|=4294901760);this.m=this.g=0;b&=63;if(b&32)b=64-b,16<b&&(b=16),this.m=c<<17-b,c>>=b;else if(b)if(16<b)this.g=c,c=0;else{this.m=c<<=b;var d=c>>15&65535;d&&65535!==d&&(this.g=32768)}this.f[a]=c&65535;this.u=this.i=c;this.a-=(this.l?6:7)+b}
function Ec(a){var b=R(this,a);a=a>>6&7;var c=this.f[a]<<16|this.f[a|1];this.m=this.g=0;b&=63;if(b&32){b=64-b;32<b&&(b=32);var d=c>>b-1;this.m=d<<16;d>>=1;c&2147483648&&(d|=4294967295<<32-b)}else b?(d=c<<b-1,this.m=d>>15,d<<=1,32<b&&(b=32),(c>>=32-b)&&4294967295!==(c|4294967295<<b&4294967295)&&(this.g=32768)):d=c;this.f[a]=d>>16&65535;this.f[a|1]=d&65535;this.u=d>>16;this.i=d>>16|d;this.a-=(this.l?6:7)+b}function W(a){a&1&&(this.m=0);a&2&&(this.g=0);a&4&&(this.i=1);a&8&&(this.u=0);this.a-=5}
function Fc(a){var b=R(this,a);if(b){a=a>>6&7;var c=this.f[a]<<16|this.f[a|1];this.m=this.g=0;b&32768&&(b|=-65536);var d=~~(c/b);-32768<=d&&32767>=d?(this.f[a]=d&65535,this.f[a|1]=c-d*b&65535,this.i=d>>16|d,this.u=d>>16):(this.g=32768,this.i=d>>15|d,this.u=c>>16,-1===b&&65534===this.f[a]&&(this.f[a]=this.f[a|1]=1));this.a-=53}else this.i=this.u=0,this.g=32768,this.m=65536,this.a-=7}var Gc=[0,7,7,10,7,11,9,13];function Hc(a){var b=this.a;a=Zb(this,a,8);this.f[7]=a&65535;this.a=b-Gc[this.l]}
var Ic=[0,14,14,17,14,18,16,20];function Jc(a){var b=this.a,c=Zb(this,a,8);a=a>>6&7;Vb(this,this.f[a]);this.f[a]=this.f[7];this.f[7]=c&65535;this.a=b-Ic[this.l]}var Kc=[3,9,9,13,10,14,12,16,4,9,9,13,10,14,13,17],Lc=[7,13,13,17,14,18,17,21];function Mc(a){var b=R(this,a);a=a>>6&7;b&32768&&(b|=-65536);var c=this.f[a];c&32768&&(c|=-65536);b=~~(b*c);this.f[a]=b>>16&65535;this.f[a|1]=b&65535;this.j&128||(this.u=b>>16,this.i=this.u|b,this.g=0,this.m=-32768>b||32767<b?65536:0);this.a-=23}
function Nc(){this.a-=5}function X(a){a&1&&(this.m=65536);a&2&&(this.g=32768);a&4&&(this.i=0);a&8&&(this.u=32768);this.a-=5}function Oc(a){var b=(a&448)>>6;if(this.f[b]=this.f[b]-1&65535)this.f[7]=this.f[7]-((a&63)<<1)&65535,this.a+=1;this.a-=6}function Pc(a){T(this,a,0,Bc);this.a-=this.c?9:3+(7==this.b?2:0)}function Qc(a){T(this,a,R(this,(a&448)>>6),Cc);this.a-=this.c?9:3+(7==this.b?2:0)}function Y(){K(this,8)}function Qb(a){Rc[a>>12].call(this,a)}
var Rc=[function(a){Sc[a>>8&15].call(this,a)},function(a){var b=R(this,a>>6),c=this.a;O(this,bc(this,a,b));this.a=c-Kc[(this.l?8:0)+this.c]+(7!=this.b||this.c?0:2)},function(a){var b=R(this,a>>6),c=this.l,d=this.s;a=R(this,a);Ub(this,b-a,a,b);this.a-=this.l?4+(d&&6<=this.s?1:0):(c?4:3)+(7==this.s?2:0)},function(a){var b=R(this,a>>6),c=this.l,d=this.s;a=R(this,a);O(this,b&a);this.a-=this.l?4+(d&&6<=this.s?1:0):(c?4:3)+(7==this.s?2:0)},function(a){T(this,a,R(this,a>>6),jc);this.a-=this.c?9+(this.s&&
6<=this.b?1:0):(this.l?5:3)+(7==this.b?2:0)},function(a){T(this,a,R(this,a>>6),lc);this.a-=this.c?9+(this.s&&6<=this.b?1:0):(this.l?5:3)+(7==this.b?2:0)},function(a){T(this,a,R(this,a>>6),dc);this.a-=this.c?9+(this.s&&6<=this.b?1:0):(this.l?5:3)+(7==this.b?2:0)},function(a){Tc[a>>8&15].call(this,a)},function(a){Uc[a>>8&15].call(this,a)},function(a){var b=S(this,a>>6);O(this,cc(this,a,b,1)<<8);this.a-=this.c?9+(this.s&&6<=this.b?1:0):(this.l?5:3)+(7==this.b?2:0)},function(a){var b=S(this,a>>6)<<8,
c=this.l,d=this.s;a=S(this,a)<<8;Ub(this,b-a,a,b);this.a-=this.l?4+(d&&6<=this.s?1:0):(c?4:3)+(7==this.s?2:0)},function(a){var b=S(this,a>>6),c=this.l,d=this.s;a=S(this,a);O(this,(b&a)<<8);this.a-=this.l?4+(d&&6<=this.s?1:0):(c?4:3)+(7==this.s?2:0)},function(a){U(this,a,S(this,a>>6),kc);this.a-=this.c?9+(this.s&&6<=this.b?1:0):(this.l?5:3)+(7==this.b?2:0)},function(a){U(this,a,S(this,a>>6),mc);this.a-=this.c?9+(this.s&&6<=this.b?1:0):(this.l?5:3)+(7==this.b?2:0)},function(a){T(this,a,R(this,a>>6),
zc);this.a-=this.c?9+(this.s&&6<=this.b?1:0):(this.l?5:3)+(7==this.b?2:0)},Y],Sc=[function(a){Vc[a>>4&15].call(this,a)},function(a){V(this,a,!0)},function(a){V(this,a,!!(this.i&65535))},function(a){V(this,a,this.i&65535?0:4)},function(a){V(this,a,!this.ua()==!(this.g&32768))},function(a){V(this,a,!this.ua()!=!(this.g&32768))},function(a){V(this,a,!!(this.i&65535)&&!this.ua()==!(this.g&32768))},function(a){V(this,a,(this.i&65535?0:4)||!this.ua()!=!(this.g&32768))},Jc,Jc,function(a){Wc[a>>6&3].call(this,
a)},function(a){Xc[a>>6&3].call(this,a)},function(a){Yc[a>>6&3].call(this,a)},function(a){Zc[a>>6&3].call(this,a)},Y,Y],Wc=[function(a){P(this,bc(this,a,0));this.a-=this.c?9:3+(7==this.b?2:0)},function(a){T(this,a,0,nc);this.a-=this.c?9:3+(7==this.b?2:0)},function(a){T(this,a,1,rc);this.a-=this.c?9:3+(7==this.b?2:0)},function(a){T(this,a,1,pc);this.a-=this.c?9:3+(7==this.b?2:0)}],Xc=[function(a){T(this,a,0,tc);this.a-=this.c?11:6},function(a){T(this,a,M(this)?1:0,dc);this.a-=this.c?9:3+(7==this.b?
2:0)},function(a){T(this,a,M(this)?1:0,zc);this.a-=this.c?9:3+(7==this.b?2:0)},function(a){a=R(this,a);P(this,a);this.a-=this.l?4:3+(7==this.s?2:0)}],Yc=[function(a){T(this,a,0,xc);this.a-=this.c?9:3+(7==this.b?2:0)},function(a){T(this,a,0,vc);this.a-=this.c?9:3+(7==this.b?2:0)},function(a){T(this,a,0,hc);this.a-=this.c?9:3+(7==this.b?2:0)},function(a){T(this,a,0,fc);this.a-=this.c?9:3+(7==this.b?2:0)}],Zc=[function(a){a=this.f[7]+((a&63)<<1)&65535;var b=N(this,a|65536);this.f[7]=this.f[5]&65535;
this.f[6]=a+2&65535;this.f[5]=b;this.a-=8},function(a){a=$b(this,a,0);Vb(this,a);O(this,a);this.a-=11},function(a){var b=Xb(this),c=this.a;ac(this,a,0,b);O(this,b);this.a=c-Lc[this.c]},function(a){O(this,bc(this,a,this.ua?65535:0));this.a-=this.c?9:3+(7==this.b?2:0)}],Vc=[function(a){$c[a&15].call(this,a)},Y,Y,Y,Hc,Hc,Hc,Hc,function(a){if(a&8)K(this,8);else{var b=Xb(this);a&=7;this.f[7]=this.f[a]&65535;this.f[a]=b;this.a-=9}},function(a){a&8?(this.B&49152||(this.B=this.B&-2017|(a&7)<<5,this.j|=1),
this.a-=5):K(this,8)},function(a){ad[a&15].call(this,a)},function(a){bd[a&15].call(this,a)},Pc,Pc,Pc,Pc],$c=[function(){this.B&49152?(this.o|=128,K(this,4)):(this.S-=this.a,this.a=0);this.a-=7},function(){this.j|=4;this.f[7]=this.f[7]+-2&65535;this.a-=3},function(){Wb(this);this.j|=this.B&16;this.a-=13},function(){K(this,12);this.a-=5},function(){K(this,16);this.a-=25},function(){this.B&49152||(Rb(this),this.D.reset());this.a-=667},function(){Wb(this);this.a-=13},Y,Y,Y,Y,Y,Y,Y,Y,Y],ad=[Nc,function(){this.m=
0;this.a-=5},function(){this.g=0;this.a-=5},W,function(){this.i=1;this.a-=5},W,W,W,function(){this.u=0;this.a-=5},W,W,W,W,W,W,W],bd=[Nc,function(){this.m=65536;this.a-=5},function(){this.g=32768;this.a-=5},X,function(){this.i=0;this.a-=5},X,X,X,function(){this.u=32768;this.a-=5},X,X,X,X,X,X,X],Tc=[Mc,Mc,Fc,Fc,Dc,Dc,Ec,Ec,Qc,Qc,Y,Y,Y,Y,Oc,Oc],Uc=[function(a){V(this,a,!this.ua())},function(a){V(this,a,this.ua())},function(a){V(this,a,!M(this)&&!!(this.i&65535))},function(a){V(this,a,M(this)||(this.i&
65535?0:4))},function(a){V(this,a,!(this.g&32768))},function(a){V(this,a,this.g&32768?2:0)},function(a){V(this,a,!M(this))},function(a){V(this,a,M(this))},function(){K(this,24);this.a-=25},function(){K(this,28);this.a-=5},function(a){cd[a>>6&3].call(this,a)},function(a){dd[a>>6&3].call(this,a)},function(a){ed[a>>6&3].call(this,a)},function(a){fd[a>>6&3].call(this,a)},Y,Y],cd=[function(a){P(this,cc(this,a,0));this.a-=this.c?9:3+(7==this.b?2:0)},function(a){U(this,a,0,oc);this.a-=this.c?9:3+(7==this.b?
2:0)},function(a){U(this,a,1,sc);this.a-=this.c?9:3+(7==this.b?2:0)},function(a){U(this,a,1,qc);this.a-=this.c?9:3+(7==this.b?2:0)}],dd=[function(a){U(this,a,0,uc);this.a-=this.c?11:6},function(a){U(this,a,M(this)?1:0,ec);this.a-=this.c?9:3+(7==this.b?2:0)},function(a){U(this,a,M(this)?1:0,Ac);this.a-=this.c?9:3+(7==this.b?2:0)},function(a){a=S(this,a);P(this,a<<8);this.a-=this.l?4:3+(7==this.s?2:0)}],ed=[function(a){U(this,a,0,yc);this.a-=this.c?9+(this.xb&1):3+(7==this.b?2:0)},function(a){U(this,
a,0,wc);this.a-=this.c?9:3+(7==this.b?2:0)},function(a){U(this,a,0,ic);this.a-=this.c?9+(this.xb&1):3+(7==this.b?2:0)},function(a){U(this,a,0,gc);this.a-=this.c?9:3+(7==this.b?2:0)}],fd=[Y,function(a){a=$b(this,a,65536);Vb(this,a);O(this,a);this.a-=11},function(a){var b=Xb(this),c=this.a;ac(this,a,65536,b);O(this,b);this.a=c-Lc[this.c]},Y];
function gd(a){v.call(this,"ROM",a,gd);this.b=null;this.m=a.addr;this.c=a.size;this.s=a.writable;this.g=a.alias;this.i=a.file;this.u=ba(this.i);if(this.i){a=this.i;var b=ca(this.u);"json"!=b&&"hex"!=b&&(a=ea()+"/api/v1/dump?file="+this.i+"&format=bytes&decimal=true");var c=this;p(a,null,!0,function(a,b,e){hd(c,a,b,e)})}}y(gd);gd.prototype.va=function(a,b,c,d){this.D=b;this.a=c;this.K=d;id(this)};gd.prototype.ka=function(){this.l&&(this.K&&this.K.a(this.id,this.m,this.c,this.l),delete this.l);return!0};
gd.prototype.ja=function(){return!0};
function hd(a,b,c,d){if(d)a.M("Unable to load system ROM (error "+d+": "+b+")");else{Ea(a.yb,b,c);var f;if("["==c.charAt(0)||"{"==c.charAt(0))try{var e,g,h=eval("("+c+")");if(e=h.bytes)a.b=e;else if(e=h.words)for(a.b=Array(2*e.length),g=f=0;f<e.length;f++)a.b[g++]=e[f]&255,a.b[g++]=e[f]>>8&255;else if(e=h.data)for(a.b=Array(4*e.length),g=f=0;f<e.length;f++)a.b[g++]=e[f]&255,a.b[g++]=e[f]>>8&255,a.b[g++]=e[f]>>16&255,a.b[g++]=e[f]>>24&255;else a.b=h;a.l=h.symbols;if(!a.b.length){r("Empty ROM: "+b);
return}if(1==a.b.length){r(a.b[0]);return}}catch(l){a.M("ROM data error: "+l.message);return}else for(b=c.replace(/\n/gm," ").replace(/ +$/,"").split(" "),a.b=Array(b.length),f=0;f<b.length;f++)a.b[f]=aa(b[f]);id(a)}}
function id(a){if(!Ga(a))if(!a.i)E(a);else if(a.b&&a.D){a.c||(a.c=a.b.length);if(a.b.length!=a.c){var b="ROM size ("+n(a.b.length,8,!0)+") does not match specified size ("+n(a.c,8,!0)+")";a.h.error=!0;a.M(b)}else{b=a.m;if(Qa(a.D,b,a.c,a.s?1:tb)){var c;for(c=0;c<a.b.length;c++){var d=a.D,f=b+c;d.b[(f&d.l)>>>d.c].Zb(f&d.i,a.b[c]&255,f)}b=!0}else b=!1;if(b){b=[];"number"==typeof a.g?b.push(a.g):null!=a.g&&a.g.length&&(b=a.g);for(c=0;c<b.length;c++){for(var e=a,d=b[c],f=e.D,g=e.c,h=[],l=e.m>>>f.c;0<g&&
l<f.b.length;)h.push(f.b[l++]),g-=f.g;f=e.D;e=e.c;g=0;for(d>>>=f.c;0<e&&d<f.b.length;){l=h[g++];if(!l)break;f.b[d++]=l;e-=f.g}}delete a.b}}E(a)}}u(function(){for(var a=D(document,"pdp11","rom"),b=0;b<a.length;b++){var c=a[b],d=B(c),d=new gd(d);C(d,c)}});function jd(a){v.call(this,"RAM",a,jd);this.g=a.addr;this.c=a.size;this.b=!1}y(jd);k=jd.prototype;k.va=function(a,b,c,d){this.D=b;this.a=c;this.K=d;E(this)};k.ka=function(a,b){b||this.reset();return!0};k.ja=function(a){return a?this.save():!0};
k.reset=function(){!this.b&&this.c&&Qa(this.D,this.g,this.c,1)&&(this.b=!0);this.b||r("No RAM allocated")};k.save=function(){return null};k.restore=function(){return!0};u(function(){for(var a=D(document,"pdp11","ram"),b=0;b<a.length;b++){var c=a[b],d=B(c),d=new jd(d);C(d,c)}});function kd(a){v.call(this,"Keyboard",a,kd);E(this)}y(kd);kd.prototype.X=function(){return!1};kd.prototype.va=function(a,b,c,d){this.F=a;this.a=c;this.K=d;this.Da=null};
u(function(){for(var a=D(document,"pdp11","keyboard"),b=0;b<a.length;b++){var c=a[b],d=B(c),d=new kd(d);C(d,c)}});function Z(a){this.b={g:[],rb:0,Ba:128,c:127,b:0};v.call(this,"SerialPort",a,Z);var b=a.binding;if("console"!=b){var c;a=ld;b&&(void 0===c&&(c="Panel"),(c=A(c,this.id))&&(b=c.w[b])&&this.X(null,a,b))}this.c=this.i=null;this.exports={connect:this.Rb,receiveData:this.Eb}}y(Z);var ld="buffer";k=Z.prototype;
k.X=function(a,b,c){var d=this;switch(b){case ld:return this.w[b]=c,c.onkeydown=function(a){a=a||window.event;var b=a.keyCode;if(8===b||a.ctrlKey&&65<=b&&90>=b)a.preventDefault&&a.preventDefault(),64<b&&(b-=64),d.Eb(b);return!0},c.onkeypress=function(a){a=a||window.event;d.Eb(a.which||a.keyCode);a.preventDefault&&a.preventDefault();return!0},c.removeAttribute("readonly"),!0}return!1};k.va=function(a,b,c,d){this.F=a;this.D=b;this.a=c;this.K=d;Xa(b,this,md);E(this)};k.oc=function(){return this.b.rb};
k.Ic=function(a){this.b.rb=this.b.rb&128|a&-129};k.nc=function(){return 0};k.Hc=function(){};k.rc=function(){return this.b.Ba};k.Lc=function(a){if(128==(this.b.Ba&192)&&a&64){var b=this;I(this.a,8,4,52,function(){b.b.Ba|=128;return!!(b.b.Ba&64)})}this.b.Ba=this.b.Ba&128|a&-129};k.qc=function(){return 0};k.Kc=function(){};
k.Rb=function(){if(!this.c){var a=Eb(this.F,"connection");if(a){var b=a.split("->");if(2==b.length){var c=ha(b[0]);if(c!=this.gb)return;b=ha(b[1]);if(this.c=Fa(b)){var d=this.c.exports;if(d){var f=d.connect;f&&f.call(this.c);if(this.i=d.receiveData){this.status(this.yb+"."+c+" connected to "+b);return}}}}this.status("Unable to establish connection: "+a)}}};k.ka=function(a,b){if(!b)if(this.Rb(),!a||!this.restore)this.reset();else if(!this.restore(a))return!1;return!0};
k.ja=function(a){return a?this.save():!0};k.reset=function(){this.b.rb=0;this.b.Ba=128};k.save=function(){var a=new L(this);a.set(0,[]);return a.data()};k.restore=function(){return!0};k.Eb=function(a){if("number"==typeof a)this.g.push(a);else if("string"==typeof a)for(var b=0;b<a.length;b++)this.g.push(a.charCodeAt(b));else this.g=this.g.concat(a);return!0};
var nd={},md=(nd[65392]=[null,null,Z.prototype.oc,Z.prototype.Ic,"RCSR"],nd[65394]=[null,null,Z.prototype.nc,Z.prototype.Hc,"RBUF"],nd[65396]=[null,null,Z.prototype.rc,Z.prototype.Lc,"XCSR"],nd[65398]=[null,null,Z.prototype.qc,Z.prototype.Kc,"XBUF"],nd);u(function(){for(var a=D(document,"pdp11","serial"),b=0;b<a.length;b++){var c=a[b],d=B(c),d=new Z(d);C(d,c)}});
function od(a,b,c){v.call(this,"Computer",a,od);this.h.N=!1;pd(this,b);this.F=Eb(this,"autoPower",a);this.g=0;this.Y=a.busWidth||a.buswidth;this.b=qd;this.u=null;this.m=this.R=!1;this.url=Eb(this,"url")||"";(Math.random()+.1).toString(36);this.c=rd(this);if(this.a=A("CPU",this.id)){this.K=A("Debugger",this.id);this.D=new Ka({id:this.yb+".bus",busWidth:this.Y},this.a,this.K);var d,f=z(this.id);if((this.i=A("Panel",this.id))&&this.i.Ab)for(b=0;b<f.length;b++)d=f[b],d.M=this.i.M,d.V=this.i.V,d.Ab=this.i.Ab;
this.V("PDP11js v1.30.0\nCopyright \u00a9 2012-2016 Jeff Parsons <Jeff@pcjs.org>\nLicense: GPL version 3 or later <http://gnu.org/licenses/gpl.html>");this.V("Portions adapted from the PDP-11/70 Emulator v1.3 by Paul Nankervis <paulnank@hotmail.com>");for(b=0;b<f.length;b++)d=f[b],d.va&&d.va(this,this.D,this.a,this.K);b=null;d=a.resume;void 0!==d&&(1<d.length?b=this.s=d:this.b=parseInt(d,10));var e;if(a=Eb(this,"state")||(e=!0,a.state))b=this.H=a,e||(this.m=!0,this.b=qd),this.b&&(this.A=new L(this,
"1.30.0"),sd(this.A)?b=null:delete this.A);!b&&this.b&&(b=td(this))&&(this.m=!0);if(b){var g=this;p(b,null,!0,function(a,b,c){c?(g.s=null,g.m=!1,g.M("Unable to load machine state from server (error "+c+(b?": "+ha(b):"")+")")):(g.u=b,g.R=!0);E(g)})}else E(this);this.w.power||(this.F=!0);!c&&this.F&&ud(this,this.Za)}else r("Unable to find CPU component")}y(od);var qd=0;
function pd(a,b){if(!b){var c;if("object"==typeof resources&&(c=resources.parms))try{b=eval("("+c+")")}catch(d){r(d.message+" ("+c+")")}}a.S=b}function Eb(a,b,c){var d=b.toLowerCase(),d=ya[b]||ya[d];void 0===d&&a.S&&(d=a.S[b]);void 0===d&&c&&(d=c[b]);void 0===d&&"object"==typeof resources&&resources[b]&&(d=b);return d}function ud(a,b,c){for(var d=z(a.id),f=0;f<=d.length;f++){var e=f<d.length?d[f]:a;if(!Ga(e)){Ga(e,function(){ud(a,b,c)});return}}b.call(a,c)}
function vd(a,b){var c=new L(a,"1.30.0","validate");if(sd(c)&&wd(c)){var d=c.get("timestamp"),f=b?b.get("timestamp"):"unknown";d!=f&&(a.M("Machine state may be out-of-date\n("+d+" vs. "+f+")\nCheck your browser's local storage limits"),b||c.clear())}}k=od.prototype;
k.Za=function(a){void 0===a&&(a=this.b||(this.u?1:qd));if(!this.g){this.g++;var b=!1,c=!1;this.I=!1;var d=this.A||new L(this,"1.30.0");if(-1==a)b=!0;else if(a>qd){if(sd(d,this.u)){this.l=new L(this,"1.30.0","failsafe");sd(this.l)&&(xd(this,d),a=2,yd(this.l));this.l.set("timestamp",ja());zd(this.l);var f=this.b&&!this.m;if(1==a||ka("Click OK to restore the previous PDP11js machine state, or CANCEL to reset the machine.")){if(c=wd(d)){var e=d.get("code"),g=d.get("data");e&&("ok"==e?sd(d,g):("error"==
e&&"no machine state"!=g?(this.M("Error: "+g),"unable to verify user"==g&&(oa("user",""),this.c=null)):this.V(e+": "+g),yd(d),sd(d)?(c=wd(d),f=!0):c=!1))}f&&vd(this,c?d:null)}else 2==a&&d.clear()}else vd(this);delete this.u;delete this.A}f=z(this.id);for(e=0;e<f.length;e++)g=f[e],g!==this&&g!=this.a&&(c=Ad(this,g,d,b,c));b=[d,a,c];-1!=a?ud(this,this.Kb,b):this.Kb(b)}};
function Ad(a,b,c,d,f){if(!b.h.N){b.h.N=!0;if(b.ka){var e=null;f&&((e=c.get(b.id))||(e=c.get(b.id.replace(/[a-z0-9]\./i,"."))));"string"===typeof e&&(e=null);!b.ka(e,d)&&e&&(r("Unable to restore state for "+b.type),a.H&&!a.R?(c.clear(),a.b=qd,window&&window.location.reload()):a.I=!0,b.ka(null),f=!1)}if(!d&&b.Nb)for(a=b.Nb.split("|"),c=0;c<a.length;c++)b.status(a[c])}return f}
k.Kb=function(a){var b=a[0],c=0>a[1];a=a[2];this.Z=!0;this.h.N=!0;var d=this.w.power;d&&(d.textContent="Shutdown");this.a&&(Ad(this,this.a,b,c,a),this.a.Wa());this.I&&(xd(this,b),b.clear());!c&&this.l&&(this.l.clear(),delete this.l);this.g=0};
function xd(a,b){if(ka("There may be a problem with your PDP11js machine.\n\nTo help us diagnose it, click OK to send this PDP11js machine state to http://www.pcjs.org.")){var c=a.c||"";b=b.toString();var d={app:"PDP11js",ver:"1.30.0"};d.url=a.url;d.user=c;d.type="bug";d.data=b;p("http://www.pcjs.org/api/v1/report",d,!0)}}
function Bd(a,b,c){var d,f="none";if(a.g)return null;a.g--;var e=new L(a,"1.30.0"),g=new L(a,"1.30.0","validate"),h=ja();g.set("timestamp",h);e.set("timestamp",h);e.set("version","1.30.0");e.set("url",window?window.location.href:null);e.set("browser",window?window.navigator.userAgent:"");a.a&&a.a.ja&&(c&&Kb(a.a),d=a.a.ja(b,c),"object"===typeof d&&e.set(a.a.id,d),c&&(a.a.h.N=!1,!1===d&&(f=null)));for(var h=z(a.id),l=0;l<h.length;l++){var m=h[l];m.h.N&&(m.ja&&(d=m.ja(b,c),"object"===typeof d&&e.set(m.id,
d)),c&&(m.h.N=!1,!1===d&&(f=null)))}f&&(c?(h=d=!1,b?(a.c&&Cd(a,a.c,e.toString()),zd(g)&&zd(e)||(f=null,d=h=!0)):a.b&&(d=!0,h=3==a.b),d&&e.clear(h)):f=e.toString());c&&(a.h.N=!1,b=a.w.power)&&(b.textContent="Power");a.g=0;return f}k.reset=function(){this.D&&this.D.reset&&this.D.reset();for(var a=z(this.id),b=0;b<a.length;b++){var c=a[b];c!==this&&c!==this.D&&c.reset&&c.reset()}};k.start=function(a,b){for(var c=z(this.id),d=0;d<c.length;d++){var f=c[d];"CPU"!=f.type&&f!==this&&f.start&&f.start(a,b)}};
k.stop=function(a,b){for(var c=z(this.id),d=0;d<c.length;d++){var f=c[d];"CPU"!=f.type&&f!==this&&f.stop&&f.stop(a,b)}};
k.X=function(a,b,c){var d=this;switch(b){case "power":return this.w[b]=c,c.onclick=function(){d.g||(d.h.N?Bd(d,!1,!0):ud(d,d.Za))},!0;case "reset":return this.w[b]=c,c.onclick=function(){if(d.h.N&&!d.g)if(d.b&&!d.s){var a=ka("Click OK to save changes to this PDP11js machine.\n\nWARNING: If you CANCEL, all disk changes will be discarded.");Bd(d,a,!0);!a&&d.H?window&&window.location.reload():d.Za(qd)}else d.reset(),d.a&&d.a.Wa()},!0;case "save":if(da())c.parentNode.removeChild(c);else return this.w[b]=
c,c.onclick=function(){var a=rd(d,!0);if(a){var b=!!(d.b&&!d.s||d.H),c=Bd(d,b);b?Cd(d,a,c):d.M("Resume disabled, machine state not saved")}},!0}return!1};
function rd(a,b){var c=a.c;c||((c=na("user"),void 0!==c)?!c&&b&&(b=null,window&&(b=window.prompt("Saving machine states on the pcjs.org server is currently unsupported.\n\nIf you're running your own server, enter your user ID below.","")),c=b)&&((c=Dd(a,c))||a.M("The user ID is invalid.")):b&&a.M("Browser local storage is not available"));return c}
function Dd(a,b){a.c=null;b=p(ea()+"/api/v1/user?req=verify&user="+b);var c=b[1];if(!b[0]&&c)try{b=eval("("+c+")"),b.code&&"ok"==b.code&&(oa("user",b.data),a.c=b.data)}catch(d){r(d.message+" ("+c+")")}return a.c}function td(a){var b=null;a.c&&(b=ea()+"/api/v1/user?req=load&user="+a.c+"&state="+Ed(a,"1.30.0"));return b}
function Cd(a,b,c){if(c){var d={req:"store"};d.user=b;d.state=Ed(a,"1.30.0");d.data=c;b=p(ea()+"/api/v1/user",d);d=b[0];if(b[1]){if(d){var f=d.indexOf("\n");0<f&&(d=d.substr(0,f));d.indexOf("Error: ")||(d=d.substr(7))}d='{"code":'+b[1]+',"data":"'+d+'"}'}b=JSON.parse(d);b&&"ok"==b.code?a.M("Machine state saved to server"):c&&(c=b&&b.data||"unable to save machine state",c="error"==b.code?"Error: "+c:"Error "+b.code+": "+c,a.M(c),oa("user",""),a.c=null)}}
k.Sa=function(a){this.a&&this.a.Sa(a);this.i&&this.i.Sa(a)};u(function(){for(var a=D(document,"pdp11-machine"),b=0;b<a.length;b++)for(var c=a[b],d=B(c),c=D(c,"pdp11","computer"),f=0;f<c.length;f++){var e=c[f],g=B(e),g=new od(g,d,!0);C(g,e);g.F&&ud(g,g.Za)}});t.show.push(function(){for(var a=D(document,"pdp11","computer"),b=0;b<a.length;b++){var c=B(a[b]);(c=A("Computer",c.id))&&c.Z&&!c.h.N&&c.Za(-1)}});
t.exit.push(function(){for(var a=D(document,"pdp11","computer"),b=0;b<a.length;b++){var c=B(a[b]);(c=A("Computer",c.id))&&c.h.N&&Bd(c,!(!c.b||c.s),!0)}});function L(a,b,c){this.id=a.id;this.key=Ed(a,b,c);this.K=a.K;yd(this,a.fc)}function Ed(a,b,c){a=a.id;if(b){var d=b.indexOf(".");0<d&&(a+=".v"+b.substr(0,d))}c&&(a+="."+c);return a}
L.prototype={constructor:L,set:function(a,b){try{this[this.id][a]=b}catch(c){}},get:function(a){return this[this.id][a]||null},value:function(){return this[this.id]},data:function(){return this[this.id]},toString:function(){var a=this[this.id];return"string"==typeof a?a:JSON.stringify(a)},clear:function(a){yd(this);var b=[];try{for(var c=0,d=window.localStorage.length;c<d;c++)b.push(window.localStorage.key(c))}catch(f){}for(c=0;c<b.length;c++)if((d=b[c])&&(a||d.substr(0,this.key.length)==this.key)){try{window.localStorage.removeItem(d)}catch(f){}b.splice(c,
1);c=0}}};function yd(a,b){a[a.id]={};b&&a.set("parms",b);a.a=!1}function zd(a){var b=!0;if(ma()){var c=JSON.stringify(a[a.id]);oa(a.key,c)||(r("Unable to store "+c.length+" bytes in browser local storage"),b=!1)}return b}function wd(a){var b=!0;try{a[a.id]=JSON.parse(a[a.id])}catch(c){r(c.message||c),b=!1}return b}function sd(a,b){return b?(a[a.id]=b,a.a=!0):a.a?!0:ma()&&(b=na(a.key))?(a[a.id]=b,a.a=!0):!1}var Fd=0;
function Gd(a,b,c,d,f,e){f("Loading "+a+"...");p(a,null,!0,function(g,h,l){l?(h||(h="unable to load "+a+" ("+l+")"),e(h,null)):Hd(h,a,b,c,d,f,e)})}
function Hd(a,b,c,d,f,e,g){function h(a,e){if(e)g(e,null);else{c&&(Ea(c,b,a),(e=b)&&0>e.indexOf("/")&&"/"==window.location.pathname.slice(-1)&&(e=window.location.pathname+e),d?"}"==d.slice(-1)?(d=d.slice(0,-1),1<d.length&&(d+=",")):d='{state:"'+d+'",':d="{",d+='url:"'+e+'"}',"object"==typeof resources&&(e=null),a=a.replace(/(<machine[^>]*\sid=)(['"]).*?\2/,"$1$2"+c+"$2"+(d?" parms='"+d+"'":"")+(e?' url="'+e+'"':"")));f||(a=a.replace(/(<xsl:variable name="APPNAME">).*?(<\/xsl:variable>)/,"$1PDP11js$2"),
a=a.replace(/(<xsl:variable name="APPCLASS">).*?(<\/xsl:variable>)/,"$1pdp11$2"));e=null;if("<"==a.charAt(0))try{f||(a=a.replace(/<!DOCTYPE(.|[\r\n])*]>\s*/g,"")),window.ActiveXObject||"ActiveXObject"in window?(e=new window.ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.loadXML(a)):e=(new window.DOMParser).parseFromString(a,"text/xml")}catch(q){e=null,a=q.message}else a="unrecognized XML: "+(255<a.length?a.substr(0,255)+"...":a);g(a,e)}}a?f?Id(a,e,h):h(a,null):g("no data"+(b?" for file: "+b:""),null)}
function Id(a,b,c){var d;if(d=/<([a-z]+)\s+ref="(.*?)"(.*?)\/>/g.exec(a)){var f=d[2];b("Loading "+f+"...");p(f,null,!0,function(e,g,h){if(h||!g)c(a,"unable to resolve XML reference: "+d[0]+" ("+h+")");else{if(e=d[3])if(h=g.match(new RegExp("<"+d[1]+"[^>]*>"))){for(var l=h[0],m,q=/( [a-z]+=)(['"])(.*?)\2/g;m=q.exec(e);)l=0>l.indexOf(m[1])?l.replace(">",m[0]+">"):l.replace(new RegExp(m[1]+"(['\"])(.*?)\\1"),m[0]);h[0]!=l&&(g=g.replace(h[0],l))}else{c(a,"missing <"+d[1]+"> in "+f);return}g=g.replace(/<\?xml[^>]*>[\r\n]*/,
"");a=a.replace(d[0],g);Id(a,b,c)}})}else c(a,null)}
function Jd(a,b,c,d){function f(a){if(void 0===h){var b=g&&D(g,"machine-warning");h=b&&b[0]||g}h&&(h.innerHTML=ga(a))}function e(a){f("Error: "+a);l&&(--Fd||va(!0));l=!1}var g,h,l=!0;Fd++;Da[a]={};try{if(g=document.getElementById(a)){var m;if("object"==typeof resources&&(m=resources.css)){var q=document.head||document.getElementsByTagName("head")[0],w=document.createElement("style");w.type="text/css";w.styleSheet?w.styleSheet.cssText=m:w.appendChild(document.createTextNode(m));q.appendChild(w)}c||
(c="/versions/pdp11/1.30.0/components.xsl");m=function(d,h){h?Gd(c,null,null,!1,f,function(d,l){l?(Ea(a,c,d),f("Processing "+b+"..."),window.ActiveXObject||"ActiveXObject"in window?(l=h.transformNode(l))?(g.outerHTML=l,--Fd||va(!0)):e("transformNodeToObject failed"):document.implementation&&document.implementation.createDocument?(d=new XSLTProcessor,d.importStylesheet(l),(l=d.transformToFragment(h,document))?g.parentNode?(g.parentNode.replaceChild(l,g),--Fd||va(!0)):e("invalid machine element: "+
a):e("transformToFragment failed")):e("unable to transform XML: unsupported browser")):e(d)}):e(d)};"<"!=b.charAt(0)?Gd(b,a,d,!0,f,m):Hd(b,null,a,d,!1,f,m)}else e("missing machine element: "+a)}catch(F){e(F.message)}return l}window.embedPDP11=function(a,b,c,d){va(!1);return Jd(a,b,c,d)};window.enableEvents=va;window.sendEvent=wa;})();
