(function(){/*
 http://pcjs.org/modules/shared/lib/dumpapi.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/reportapi.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/userapi.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/keys.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/strlib.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/weblib.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/messages.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/device.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/rom.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/ram.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/computer.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/state.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/embed.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/defines.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/usrlib.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/component.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/defines.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/panel.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/bus.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/memory.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/cpu.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/cpustate.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/cpuops.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/serial.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/macro10.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/shared/lib/debugger.js (C) Jeff Parsons 2012-2017
 http://pcjs.org/modules/pdp10/lib/debugger.js (C) Jeff Parsons 2012-2017
*/
var l,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this;function ea(){ea=function(){};ba.Symbol||(ba.Symbol=fa)}var ga=0;function fa(a){return"jscomp_symbol_"+(a||"")+ga++}
function ia(){ea();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ja(this)}});ia=function(){}}function ja(a){var b=0;return ka(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function ka(a){ia();a={next:a};a[ba.Symbol.iterator]=function(){return this};return a}
function m(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}function pa(a,b){if(b){var c=ba;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}
pa("Math.trunc",function(a){return a?a:function(a){a=Number(a);if(isNaN(a)||Infinity===a||-Infinity===a||!a)return a;var b=Math.floor(Math.abs(a));return 0>a?-b:b}});pa("Math.log2",function(a){return a?a:function(a){return Math.log(a)/Math.LN2}});
var qa={ec:0,xb:1,gc:2,hc:3,ic:4,jc:5,kc:6,lc:7,lb:8,mc:9,yb:10,nc:11,oc:12,zb:13,pc:14,qc:15,rc:16,sc:17,tc:18,uc:19,vc:20,wc:21,xc:22,yc:23,zc:24,Ac:25,Bc:26," ":32,"!":33,'"':34,"#":35,$:36,"%":37,"&":38,"'":39,"(":40,")":41,"*":42,"+":43,",":44,"-":45,".":46,"/":47,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,":":58,";":59,"<":60,"=":61,">":62,"?":63,"@":64,kb:65,dc:66,fc:67,Cc:68,E:69,Dc:70,Ec:71,Fc:72,Gc:73,Hc:74,Ic:75,Jc:76,Kc:77,Lc:78,Mc:79,Nc:80,Q:81,Oc:82,Pc:83,Qc:84,Rc:85,Sc:86,Tc:87,
Uc:88,Vc:89,Bb:90,"[":91,"\\":92,"]":93,"^":94,_:95,"`":96,Wc:97,Xc:98,Yc:99,d:100,e:101,Zc:102,$c:103,ad:104,bd:105,cd:106,k:107,dd:108,ed:109,n:110,fd:111,p:112,q:113,r:114,gd:115,t:116,jd:117,kd:118,ld:119,x:120,y:121,z:122,"{":123,"|":124,"}":125,"~":126,Ab:127};
function ra(a,b){var c;if(a){b||(b=10);var d=a.charAt(0),e=0<a.indexOf(",");e&&(a=a.replace(/,/g,""));"#"==d?(b=8,d=null):"$"==d&&(b=16,d=null);null==d?a=a.substr(1):("0"==d&&(d=a.charAt(1),"b"==d&&e&&(b=2,d=null),"o"==d?(b=8,d=null):"x"==d&&(b=16,d=null)),null==d?a=a.substr(2):(d=a.charAt(a.length-1).toLowerCase(),"y"==d?(b=2,d=null):"."==d?(b=10,d=null):"h"==d&&(b=16,d=null),null==d&&(a=a.substr(0,a.length-1))));var f,d=a;((e=b)&&10!=e?16==e?d.match(/^-?[0-9a-f]+$/i):8==e?d.match(/^-?[0-7]+$/):
2==e&&d.match(/^-?[01]+$/):d.match(/^-?[0-9]+$/))&&!isNaN(f=parseInt(a,b))&&(c=f)}return c}function sa(a,b,c,d){var e="";isNaN(a)?a=null:null!=a&&(0>a&&-1<a&&(a=-1),0>a&&(a+=Math.pow(b,c)),a>=Math.pow(b,c)&&(c=Math.ceil(Math.log(a)/Math.log(b))));if(null==a)for(;0<c--;)e="?"+e;else for(;0<c--;){var f=a%b,f=f+(0<=f&&9>=f?48:55),e=String.fromCharCode(f)+e;a=Math.trunc(a/b)}return(void 0===d?"":d)+e}function ta(a,b,c){b?12<b&&(b=12):b=a&-16777216?12:a&-65536?8:6;return sa(a,8,b,c?"0o":"")}
function q(a,b,c){b?9<b&&(b=9):b=a&-65536?8:4;return sa(a,16,b,c?"0x":"")}function ua(a){var b=a,c=a.lastIndexOf("/");0<=c&&(b=a.substr(c+1));c=b.indexOf("&");0<c&&(b=b.substr(0,c));return b}function va(a){var b="",c=a.lastIndexOf(".");0<=c&&(b=a.substr(c+1).toLowerCase());return b}function wa(a,b){return-1!==a.indexOf(b,a.length-b.length)}function xa(a){return a.replace(/[&<>"']/g,function(a){return Aa[a]})}function Ba(a,b){return(a+"                                        ").slice(0,b)}
function Ca(a){return String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}var Aa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};function Da(a,b,c){var d=0,e=a.length,f=0;for(c||(c=function(a,b){return a>b?1:a<b?-1:0});d<e;){var g=d+e>>1,h;h=c(b,a[g]);0<h?d=g+1:(e=g,f=!h)}return f?d:~d}function Ea(){function a(a){return(10>a?"0":"")+a}var b=new Date;return b.getFullYear()+"-"+a(b.getMonth()+1)+"-"+a(b.getDate())+" "+a(b.getHours())+":"+a(b.getMinutes())+":"+a(b.getSeconds())}
function Fa(a,b,c,d){c=void 0===c?!1:c;var e=0,f=null,g=null;if("object"==typeof resources&&(f=resources[a]))return d&&d(a,f,e),[f,e];if(c&&"function"==typeof resources)return resources(a,function(b,c){d&&d(a,b,c)}),g;var h=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");c&&(h.onreadystatechange=function(){4===h.readyState&&(f=h.responseText,200==h.status||!h.status&&f.length&&"file:"==(window?window.location.protocol:"file:")||(e=h.status||-1),d&&d(a,
f,e))});if(b&&"object"==typeof b){var k="",n;for(n in b)b.hasOwnProperty(n)&&(k&&(k+="&"),k+=n+"="+encodeURIComponent(b[n]));k=k.replace(/%20/g,"+");h.open("POST",a,c);h.setRequestHeader("Content-type","application/x-www-form-urlencoded");h.send(k)}else h.open("GET",a,c),"bytes"==b&&h.overrideMimeType("text/plain; charset=x-user-defined"),h.send();c||(f=h.responseText,200!=h.status&&(e=h.status||-1),d&&d(a,f,e),g=[f,e]);return g}
function Ga(a,b){var c,d={Y:null,U:null,sa:null,ra:null};if("["==b.charAt(0)||"{"==b.charAt(0))try{var e,f,g;if("<"==b.substr(0,1))throw Error(b);g=0>b.indexOf("0x")&&0>b.indexOf("0o")&&'["'!=b.substr(0,2)?JSON.parse(b.replace(/([a-z]+):/gm,'"$1":').replace(/\/\/[^\n]*/gm,"")):eval("("+b+")");d.sa=g.load;d.ra=g.exec;if(e=g.bytes)d.Y=e;else if(e=g.words)for(d.Y=Array(2*e.length),f=c=0;c<e.length;c++)d.Y[f++]=e[c]&255,d.Y[f++]=e[c]>>8&255;else if(e=g.longs)for(d.Y=Array(4*e.length),f=c=0;c<e.length;c++)d.Y[f++]=
e[c]&255,d.Y[f++]=e[c]>>8&255,d.Y[f++]=e[c]>>16&255,d.Y[f++]=e[c]>>24&255;else(e=g.data)?d.Ea=e:d.Y=g;d.Y&&(d.Y.length?1==d.Y.length&&(r(d.Y[0]),d=null):(r("Empty resource: "+a),d=null));d.U=g.symbols}catch(h){r("Resource data error ("+a+"): "+h.message),d=null}else{e=[];b=b.replace(/\n/gm," ").replace(/ +$/,"").split(" ");for(c=0;c<b.length;c++){f=parseInt(b[c],16);if(isNaN(f)){r("Resource data error ("+a+"): invalid hex byte ("+b[c]+")");break}e.push(f&255)}c==b.length&&(d.Y=e)}return d}
function Ma(){return"http://"+(window?window.location.host:"www.pcjs.org")}function Na(){if(null==Oa){var a=!1;if(window)try{window.localStorage.setItem("PCjs.localStorage","PCjs.localStorage"),a="PCjs.localStorage"==window.localStorage.getItem("PCjs.localStorage"),window.localStorage.removeItem("PCjs.localStorage")}catch(b){a=!1}Oa=a}return Oa}function Pa(a){var b;if(window)try{b=window.localStorage.getItem(a)}catch(c){}return b}
function Qa(a,b){try{return window.localStorage.setItem(a,b),!0}catch(c){}return!1}function Ra(a){if(window){var b=window?window.navigator.userAgent:"";return"iOS"==a&&!!b.match(/(iPod|iPhone|iPad)/)&&!!b.match(/AppleWebKit/)||"MSIE"==a&&!!b.match(/(MSIE|Trident)/)||0<=b.indexOf(a)}return!1}
function Sa(a){if(!Ta){var b,c={};if(window){b||(b=window.location.search.substr(1));for(var d,e=/\+/g,f=/([^&=]+)=?([^&]*)/g;d=f.exec(b);)c[decodeURIComponent(d[1].replace(e," "))]=decodeURIComponent(d[2].replace(e," "))}Ta=c}return Ta[a]}function Ua(a,b,c){function d(){--a;0<=a&&(b()||(a=0));0<a?setTimeout(d,0):c()}d()}
function Va(a,b){function c(){b(100===d)&&(e=setTimeout(c,d),d=100)}var d=0,e=null,f=!1;a.onmousedown=function(){f||e||(d=500,c())};a.ontouchstart=function(){e||(d=500,c())};a.onmouseup=a.onmouseout=function(){e&&(clearTimeout(e),e=null)};a.ontouchend=a.ontouchcancel=function(){e&&(clearTimeout(e),e=null);f=!0}}function Wa(a,b){if(window){var c=window[a];window[a]="function"!==typeof c?b:function(){c&&c();b()}}}function Xa(a){Ya.init.push(a)}
function db(a){if(eb)try{for(var b=0;b<a.length;b++)a[b]()}catch(c){r(""+("An unexpected exception occurred:\n\n"+c.message+"\n\nPlease send this information to support@pcjs.org. Thanks."))}}function fb(a){!eb&&a?(eb=!0,gb&&hb("init"),ib&&hb("show")):eb=a}function hb(a){Ya[a]&&db(Ya[a])}var Ta=null,Ya={init:[],show:[],exit:[]},gb=!1,ib=!1,eb=!0,Oa=null;Wa("onload",function(){gb=!0;db(Ya.init)});Wa("onpageshow",function(){ib=!0;db(Ya.show)});Wa(Ra("Opera")||Ra("iOS")?"onunload":"onbeforeunload",function(){db(Ya.exit)});
function u(a,b,c){this.type=a;b||(b={id:"",name:""});this.id=b.id||"";this.name=b.name;this.jb=b.comment;this.Db=b;this.exports={};this.J=this.bindings={};a=this.id.indexOf(".");0>a?this.Pa=this.id:(this.Qa=this.id.substr(0,a),this.Pa=this.id.substr(a+1));this.A={ready:!1,Ia:!1,cb:!1,V:!1,error:!1};this.Ta=null;this.A.error=!1;this.X=c||0;this.D=this.v=this.H=this.G=this.ta=null;jb.push(this)}function kb(a,b,c){lb[a]&&b&&(lb[a][b]=c)}function mb(){return Date.now()||+new Date}
function r(a){window&&window.alert(a)}function nb(a){var b=!1;window&&(b=window.confirm(a));return b}function ob(a){var b,c=[];a&&(a=0<(b=a.indexOf("."))?a.substr(0,b+1):"");for(b=0;b<jb.length;b++){var d=jb[b];a&&d.id.indexOf(a)||c.push(d)}return c}function pb(a){if(void 0!==a){var b;for(b=0;b<jb.length;b++)if(jb[b].id===a)return jb[b]}return null}
function qb(a,b){var c;if(void 0!==a){var d;b&&(b=0<(d=b.indexOf("."))?b.substr(0,d+1):"");for(d=0;d<jb.length;d++)if(c)c==jb[d]&&(c=null);else if(!(a!=jb[d].type||b&&jb[d].id.indexOf(b)))return jb[d]}return null}function v(a){var b=null;if(a=a.getAttribute("data-value"))try{b=eval("("+a+")")}catch(c){r(c.message+" ("+a+")")}return b}
function rb(a,b){var c=w;b=x(b.parentNode,c+"-control");for(var d=0;d<b.length;d++)for(var e=b[d].childNodes,f=0;f<e.length;f++){var g=e[f];if(1===g.nodeType){var h=g.getAttribute("class");if(h)for(var k=h.split(" "),n=0;n<k.length;n++)switch(h=k[n],h){case c+"-binding":(h=v(g))&&h.binding&&a.ja(h.type,h.binding,g,h.value),n=k.length}}}}
function x(a,b,c){c&&(b+="-"+c+"-object");if(a.getElementsByClassName)return a.getElementsByClassName(b);var d;c=[];a=a.getElementsByTagName("*");var e=new RegExp("(^| )"+b+"( |$)");b=0;for(d=a.length;b<d;b++)e.test(a[b].className)&&c.push(a[b]);return c}
function sb(a){for(var b=!0,c=tb[a];c&&c.length;){var d=c.splice(0,1)[0],e=d[0],f=null;0<=ub.indexOf(e)&&(f=function(){return function(){sb(a)}}());var g=Eb[e];if(g)if(!f)b=g(d[1],d[2],d[3]);else{if(!g(f,d[1],d[2],d[3]))break}else{var b=!1,h=qb(d[1],a);if(h)if(g=Fb[e])b=g(h,d[2],d[3]);else{var k=h.exports;if(k&&(g=k[e]))if(b=!0,!f)b=g.call(h,d[2],d[3]);else if(!g.call(h,f,d[2],d[3]))break}}if(!b){r("Script error: "+e+(g?" failed":" unrecognized"));break}}c&&!c.length&&delete tb[a];return b}l=u.prototype;
l.toString=function(){return this.name?this.name:this.id||this.type};
l.ja=function(a,b,c){switch(b){case "clear":return this.J[b]||(this.J[b]=c,c.onclick=function(a){return function(){a.J.print&&(a.J.print.value="")}}(this)),!0;case "print":return this.J[b]||(this.ta=this.J[b]=c,c.value="",this.j=function(a){return function(b,c){8192<a.value.length&&(a.value=a.value.substr(a.value.length-4096));a.value+=(void 0!==c?c+": ":"")+(b||"")+"\n";a.scrollTop=a.scrollHeight}}(c),this.da=function(a){this.j(a,this.Pa)}),!0;default:return!1}};l.log=function(){};l.j=function(){};
l.status=function(a){this.j(this.Pa+": "+a)};l.da=function(a,b,c){c=c||this.type;b||r((c?c+": ":"")+a)};function Gb(a,b){a.A.error=!0;a.da(b)}function Hb(a){return a.A.error?(a.j(a.toString()+" error"),!0):!1}function Ib(a,b){b&&(a.A.ready?b():a.Ta=b);return a.A.ready}function Jb(a){if(!a.A.error&&(a.A.ready=!0,a.A.ready)){var b=a.Ta;a.Ta=null;b&&b()}}function Kb(a,b){a.A.Ia&&(b?a.A.cb=!0:void 0===b&&a.j(a.toString()+" busy"));return a.A.Ia}
function Lb(a,b){if(a.A.cb)return a.A.Ia=!1,a.A.cb=!1;if(a.A.error)return a.j(a.toString()+" error"),!1;a.A.Ia=b;return a.A.Ia}l.ua=function(){return this.A.V=!0};l.ia=function(a,b){b&&(this.A.V=!1);return!0};function Mb(a,b){if(a.D){a===a.D?b|=0:b=b||a.X;var c=a.D.X&b;return!!b&&c===b||!!(c&a.D.sb)}return!1}function Nb(a,b,c,d){a.D&&(!0===c||Mb(a,c|0))&&a.D.message(b,d)}
window&&(window.PCjs||(window.PCjs={}),window.PCjs.Machines||(window.PCjs.Machines={}),window.PCjs.Components||(window.PCjs.Components=[]),window.PCjs.Commands||(window.PCjs.Commands={}));
var lb=window?window.PCjs.Machines:{},jb=window?window.PCjs.Components:[],tb=window?window.PCjs.Commands:{},ub=["hold","sleep","wait"],Eb={alert:function(a){r(a);return!0},sleep:function(a,b){setTimeout(a,+b);return!1}},Fb={select:function(a,b,c){var d=!1;if(a=a.bindings[b])for(b=0;b<a.options.length;b++)if(a.options[b].textContent==c){a.selectedIndex!=b&&(a.selectedIndex=b);d=!0;break}return d}};
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){b=b||0;for(var c=this.length;b<c;b++)if(this[b]===a)return b;return-1});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});
Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return e.apply(this instanceof c&&a?this:a,d.concat(Array.prototype.slice.call(arguments)))}function c(){}if("function"!=typeof this)throw new TypeError("Function.prototype.bind: non-callable object");var d=Array.prototype.slice.call(arguments,1),e=this;c.prototype=this.prototype;b.prototype=new c;return b});
var w="pdp10",Ob="PDPjs",Pb=Math.pow(2,18)-1,Qb=Math.pow(2,18),Rb=Math.pow(2,17)-1,y=Math.pow(2,18)-1,z=Math.pow(2,18),A=Math.pow(2,35)-1,B=Math.pow(2,35),D=Math.pow(2,36)-1,E=Math.pow(2,36),F=Math.pow(2,32),Sb=Math.pow(2,34),Tb=Math.pow(2,36),Ub=Math.pow(2,21),Vb=Math.pow(2,26),Wb=Math.pow(2,23),Xb=Math.pow(2,30),w="pdp10",Ob="PDPjs",Yb={cpu:1,trap:2,fault:4,"int":8,bus:16,memory:32,mmu:64,rom:128,device:256,panel:512,keyboard:1024,key:2048,paper:4096,read:16384,write:32768,serial:1048576,timer:2097152,
speaker:16777216,computer:33554432,log:268435456,warn:536870912,buffer:1073741824,halt:-2147483648};
function Zb(a,b){u.call(this,"Panel",a,512);this.K=this.M=0;this.T=b;this.i=this.I=this.u=this.w=0;this.N=this.O=-1;this.P=this.R=this.F=!1;this.S=$b;this.B={};this.b={START:[1,1,!0,!1,this.Pb],STEP:[1,1,!1,!1,this.Qb],ENABLE:[1,1,!1,!1,this.Kb],CONT:[1,1,!0,!1,this.Ib],DEP:[0,0,!0,!1,this.Jb],EXAM:[1,1,!0,!1,this.Lb],LOAD:[1,1,!0,!1,this.Nb],TEST:[0,0,!0,!1,this.Mb]};for(a=0;22>a;a++)this.b["S"+a]=[0,0,!1,!1,this.Ob,a];this.D=this.v=this.H=this.G=null;this.exports={hold:this.Gb,toggle:this.Zb,reset:this.Vb,
set:this.Yb};Jb(this)}m(Zb,u);l=Zb.prototype;l.reset=function(a){this.stop();a&&ac(this,this.w=0)};
l.ja=function(a,b,c,d){if(this.G&&this.G.ja(a,b,c,d)||this.v&&this.v.ja(a,b,c,d)||this.D&&this.D.ja(a,b,c,d))return!0;switch(b){case "PC":return this.J[b]=c,this.M++,!0;default:return"led"==a||"rled"==a?(this.J[b]=c,this.B[b]=d?1:0,this.M++,!0):"switch"==a?(void 0===this.b[b]&&(this.b[b]=[d?1:0,d?1:0]),this.J[b]=c,a=c.parentElement||c,a=a.parentElement||a,a.onmousedown=function(a,b){return function(){bc(a,b)}}(this,b),a.onmouseup=a.onmouseout=function(a,b){return function(){cc(a,b)}}(this,b),a.ontouchstart=
function(a,b){return function(c){bc(a,b);c.preventDefault()}}(this,b),a.ontouchend=function(a,b){return function(){cc(a,b)}}(this,b),!0):u.prototype.ja.call(this,a,b,c,d)}};l.Ca=function(a,b,c,d){this.G=a;this.H=b;this.v=c;this.D=d;dc(this);ec(this)};l.ua=function(a,b){if(!b)if(this.T&&fc(),!a)this.reset(!0);else if(!this.restore(a))return!1;return!0};l.ia=function(a){return a?this.save():!0};l.save=function(){var a=new G(this);a.set(0,[this.i,this.w,this.u]);return a.data()};
l.restore=function(a){if(a=a[0])gc(this,this.i=a[0]),ac(this,this.w=a[1]),hc(this,a[2]);return!0};l.Vb=function(){for(var a in this.b){var b=this.b[a];b[1]=b[0]}ec(this);return!0};function ic(a,b,c){if(a=a.J[b])a.style.backgroundColor=c?"#ff0000":"#000000"}function dc(a,b){for(var c in a.B)ic(a,c,null!=b?b:a.B[c])}function jc(a,b,c){if(a=a.J[b])a.style.marginTop=c?"0px":"20px",a.style.backgroundColor=c?"#00ff00":"#228B22"}function ec(a){for(var b in a.b)jc(a,b,a.b[b][1])}
l.Gb=function(a,b,c){if(bc(this,b)){if(c){var d=this;setTimeout(function(){cc(d,b);a&&a()},+c);return!1}cc(this,b)}return!0};l.Yb=function(a,b){if("SR"==a)return hc(this,ra(b,8));var c=this.b[a];return c?(c[1]=+b?1:0,jc(this,a,c[1]),!0):!1};l.Zb=function(a){return bc(this,a)?(cc(this,a),!0):!1};function bc(a,b){var c=a.b[b];return c?(jc(a,b,c[1]=1-c[1]),c[3]=!0,c[4]&&c[4].call(a,c[1],c[5]),b!=kc&&(a.P=b==lc,a.R=b==mc),!0):!1}
function cc(a,b){var c=a.b[b];c&&(c[2]&&c[3]&&(jc(a,b,c[1]=c[0]),c[4]&&c[4].call(a,c[1],c[5])),c[3]=!1)}l.Pb=function(a){a||this.v.A.L||(H(this.v,this.i),this.b[nc]&&this.b[nc][1]&&oc(this.v))};l.Qb=function(){};l.Kb=function(a){a||this.v.W()};
l.Ib=function(a){if(!a&&!this.v.A.L)if(this.b[nc]&&this.b[nc][1])oc(this.v);else{if((a=this.D)&&!Kb(a,!0))Lb(a,!0),pc(a,0,null),Lb(a,!1);else try{var b=this.v.Ma(1);0<b&&(qc(this.v,b),rc(this.v,b,!0),sc(this.v,b))}catch(c){"number"!=typeof c&&Gb(this.v,c.stack||c.message)}this.stop();this.G&&I(this.G)}};l.Jb=function(a){a&&!this.v.A.L&&(this.P&&tc(this),a=ac(this,this.w=this.u),this.S==$b?uc(this.H,this.i,a):this.v.g(this.i,a))};
l.Lb=function(a){if(!a&&!this.v.A.L){var b;this.R&&tc(this);this.S==$b?b=zc(this.H,this.i):b=this.v.f(this.i);ac(this,this.w=b)}};l.Nb=function(a){a||this.v.A.L||gc(this,this.u)};l.Mb=function(a){a?(this.F=!0,dc(this,!0)):(this.F=!1,dc(this),hc(this,0))};l.Ob=function(a,b){this.u=a?this.u|1<<b:this.u&~(1<<b)};function tc(a){var b=1,c=a.H.u;a.b[kc]&&a.b[kc][1]||(b=-b);gc(a,a.i&~c|a.i+b&c)}
function gc(a,b){a.i=b&a.H.u;if(a.N!==a.i){a.N=a.i;b=a.N;for(var c=0;22>c;c++){var d=a,e="A"+c,f=b&1<<c;d.B[e]=f;d.F||ic(d,e,f)}}}function ac(a,b){a.I=b%E;if(a.O!==a.I){a.O=a.I;b=a.O;for(var c=0;16>c;c++){var d=a,e="D"+c,f=b&1<<c;d.B[e]=f;d.F||ic(d,e,f)}}return a.I}function hc(a,b){a.u=b|0;for(b=0;22>b;b++)a.b["S"+b][1]=a.u&1<<b?1:0;ec(a);return!0}l.stop=function(){gc(this,this.v.i)};
function fc(){for(var a=x(document,w,"panel"),b=0;b<a.length;b++){var c=a[b],d=v(c),e=pb(d.id);e||(e=new Zb(d,!0));rb(e,c)}}var $b=7,lc="DEP",nc="ENABLE",mc="EXAM",kc="STEP";Xa(fc);function Ac(a,b,c){u.call(this,"Bus",a,16);this.v=b;this.D=c;this.F=+a.busWidth||18;this.I=1<<this.F;this.u=this.I-1;this.i=Math.log2(16384);this.B=this.I/16384|0;this.w=0;this.b=[];a=new Bc(this);Cc(a,this.D);this.b=Array(this.B);for(b=0;b<this.B;b++)this.b[b]=a;Jb(this)}m(Ac,u);l=Ac.prototype;l.reset=function(){};
l.ua=function(a,b){if(!b)if(!a)this.reset();else if(!this.restore(a))return!1;return!0};l.ia=function(a){return a?this.save():!0};l.save=function(){var a=new G(this);a.set(0,Dc(this));return a.data()};l.restore=function(a){a:{a=a[0];var b;for(b=0;b<a.length-1;b+=2){var c=a[b],d=a[b+1];if(d&&4096>d.length){for(var e=0,f=Array(4096),g=0;g<d.length-1;)for(var h=d[g++],k=d[g++];h--;)f[e++]=k;d=f}e=this.b[c];if(!e||!e.restore(d)){r("Unable to restore memory block "+c);a=!1;break a}}a=!0}return a};
function Ec(a,b,c,d){for(var e=b,f=c,g=e>>>a.i;0<f&&g<a.b.length;){var h=a.b[g],k=16384*g,n=16384-(e-k);n>f&&(n=f);if(h&&h.size){if(h.type==d){if(e+f<=h.C)return h.Ka+=h.C-e,h.C=e,!0;if(e>=h.C+h.Ka){n=h.size-(e-k);n>f&&(n=f);h.Ka=e-h.C+n;e=k+16384;f-=n;g++;continue}}return Fc(Gc,e,f)}e=new Bc(a,e,n,16384,d);Cc(e,a.D,h);a.b[g++]=e;e=k+16384;f-=n}return 0>=f?(a.status("Added "+(c>>10)+"Kb "+Hc[d]+" at "+ta(b)),!0):Fc(Ic,b,c)}
function zc(a,b){var c=a.b[(b&a.u)>>>a.i];a.w++;b=c.D(b&16383,b);a.w--;return b}function uc(a,b,c){var d=a.b[(b&a.u)>>>a.i];a.w++;d.w(c,b&16383,b);a.w--}function Dc(a){for(var b=0,c=[],d=0;d<a.B;d++){var e=a.b[d];if(e.fb||e.Eb){c[b++]=d;var f=b++;if(e=e.save()){for(var g=0,h=0,k=[];g<e.length;){for(var n=e[g],p=g+1;p<e.length&&e[p]===n;)p++;k[h++]=p-g;k[h++]=n;g=p}k.length<e.length&&(e=k)}c[f]=e}}return c}
l.Fb=function(a){this.w||(this.D&&Mb(this.D,4)&&Nb(this.D,"memory fault on "+J(this.D,a),!0,!0),this.v.W())};function Fc(a,b,c){r("Memory block error ("+a+": "+q(b)+","+q(c)+")");return!1}var Gc=1,Ic=2;function Jc(a){u.call(this,"Device",a,256)}m(Jc,u);l=Jc.prototype;l.Ca=function(a,b,c,d){this.H=b;this.G=a;this.v=c;this.D=d;Jb(this)};l.ua=function(a,b){if(!b)if(!a)this.reset();else if(!this.restore(a))return!1;return!0};l.ia=function(a){return a?this.save():!0};l.reset=function(){};l.save=function(){return(new G(this)).data()};
l.restore=function(){return!0};Xa(function(){for(var a=x(document,w,"device"),b=0;b<a.length;b++){var c,d=a[b];c=v(d);switch(c.type){case "default":c=new Jc(c),rb(c,d)}}});function Bc(a,b,c,d,e){this.H=a;this.id=Kc+=2;this.C=b;this.Ka=c;this.size=d||0;this.type=e||Lc;this.G=e==Mc;this.b=null;this.f=this.D=this.ib;this.g=this.w=this.La;this.i=this.v=0;Cc(this);this.fb=this.Eb=!1;if(this.size){a=this.u=Array(this.size);for(b=0;b<a.length;b++)a[b]=0;Nc(this,Oc)}else Nc(this)}l=Bc.prototype;l.save=function(){return this.u};
l.restore=function(a){return a&&this.size==a.length?(this.u=a,this.fb=!0):!1};function Nc(a,b){b||(b=Pc);Qc(a,b,void 0);Rc(a,b,void 0)}function Qc(a,b,c){c&&a.i||(a.f=b[0]||a.ib);if(c||void 0===c)a.D=b[0]||a.ib}function Rc(a,b,c){c&&a.v||(a.g=!a.G&&b[1]||a.La);if(c||void 0===c)a.w=b[1]||a.La}l.Fa=function(a,b){b?this.v++||Rc(this,Sc,!1):this.i++||Qc(this,Sc,!1)};function Tc(a,b){b?--a.v||(a.g=a.G?a.La:a.w):--a.i||(a.f=a.D)}
function Cc(a,b,c){a.b=b;a.i=a.v=0;c&&((a.i=c.i)&&Qc(a,Sc,!1),(a.v=c.v)&&Rc(a,Sc,!1))}l.ib=function(a,b){this.b&&Mb(this.b,32)&&Nb(this.b,"attempt to read invalid address "+J(this.b,b),!0);this.H.Fb(b);return-1};l.La=function(a,b,c){this.b&&Mb(this.b,32)&&Nb(this.b,"attempt to write "+J(this.b,a)+" to invalid addresses "+J(this.b,c),!0)};l.Tb=function(a){return this.u[a]};l.bc=function(a,b){this.u[b]!=a&&(this.u[b]=a,this.fb=!0)};
l.Rb=function(a,b){if(this.b&&null!=this.C){var c=this.b;Uc(c,this.C+a,2,c.M)&&c.W(!1)}return this.D(a,b)};l.ac=function(a,b,c){if(this.b&&null!=this.C){var d=this.b;Uc(d,this.C+b,2,d.I)&&d.W(!1)}this.G?this.La(a,0,c):this.w(a,b,c)};var Lc=0,Mc=2,Hc=["NONE","RAM","ROM"],Kc=0,Pc=[],Oc=[Bc.prototype.Tb,Bc.prototype.bc],Sc=[Bc.prototype.Rb,Bc.prototype.ac];
function Vc(a,b){u.call(this,"CPU",a,1);b=+a.cycles||b;var c=+a.multiplier||1;this.Xa=0;this.$a=b;this.ea=c;this.Ya=Math.round(this.$a/1E4)/100;this.ba=this.Ya*this.ea;this.Za=this.Ba=this.fa=this.Ra=0;this.A.L=this.A.Wa=!1;this.A.Z=a.autoStart;"string"==typeof this.A.Z&&(this.A.Z="true"==this.A.Z);this.A.Ga=!1;this.za=this.la=0;this.Aa=+a.csStart;this.ka=+a.csInterval;this.ma=+a.csStop;this.O=[];this.rb=this.Wb.bind(this);this.T=this.N=this.R=this.S=this.M=this.ya=this.P=this.na=this.ab=this.aa=
0;this.Na=null;Jb(this)}m(Vc,u);l=Vc.prototype;l.Ca=function(a,b,c,d){this.G=a;this.H=b;this.D=d;this.Na=a.u;for(a=0;a<Wc.length;a++)(b=this.J[Wc[a]])&&this.G.ja(null,Wc[a],b);Jb(this)};l.reset=function(){};l.save=function(){return null};l.restore=function(){return!1};
l.ua=function(a,b){var c=Xc(this.G,"autoStart");null!=c?this.A.Z="true"==c?!0:"false"==c?!1:!!c:null==this.A.Z&&(this.A.Z=!this.D&&void 0===this.J.run);if(!b){if(a){Yc(this);if(!this.restore(a))return!1;Zc(this)}else this.reset();this.D?(a=this.D,b=this.A.Z,a.ya=!0,a.j("Type ? for help with PDPjs Debugger commands"),$c(a),b||ad(a),a.va&&(b=a.va,a.va=null,bd(a,b))):this.status("No debugger detected");this.A.Z||this.j("CPU will not be auto-started "+(this.Na?"(click Run to start)":"(type 'go' to start)"))}return!0};
l.ia=function(a){return a?this.save():!0};l.Z=function(){return this.A.L?!0:this.A.Z?(oc(this),!0):!1};l.vb=function(){return 0};function Zc(a){void 0===a.Aa&&(a.Aa=0);void 0===a.ka&&(a.ka=-1);void 0===a.ma&&(a.ma=-1);a.A.Ga=0<=a.Aa&&0<a.ka;a.A.Ga&&(a.za=0,a.la=a.Aa-a.T)}function sc(a,b){if(a.A.Ga){var c=!1;a.za=a.za+a.vb()|0;a.la-=b;0>=a.la&&(a.la+=a.ka,c=!0);0<=a.ma&&a.ma<=cd(a)&&(a.ka=a.ma=-1,Zc(a),a.W(),c=!0);c&&a.j(cd(a)+" cycles: checksum="+q(a.za))}}
l.ja=function(a,b,c){var d=this;switch(b){case "power":case "reset":return this.J[b]=c,!0;case "run":return this.J[b]=c,c.onclick=function(){var a;if(a=d.G)if(a=d.G,a.A.V)a=!0;else{var b=null,c,h=ob(a.id);for(c=0;c<h.length&&(b=h[c],b===a||b.A.ready);c++);if(c==h.length)for(c=0;c<h.length&&(b=h[c],b===a||b.A.V);c++);c==h.length&&(b=a);r("The "+b.type+" component ("+b.id+") is not "+(b.A.ready?"powered yet":"ready yet"+(b.Ta?" (waiting for notification)":""))+".");a=!1}a&&(d.A.L?d.W():oc(d))},!0;case "speed":return this.J[b]=
c,!0;case "setSpeed":return this.J[b]=c,c.onclick=function(){dd(d,d.ea<<1,!0)},c.textContent=this.ba.toFixed(2)+"Mhz",!0}return!1};function rc(a,b,c){a.T+=b;c&&(a.R=a.S=0)}function ed(a,b){var c=1;b&&1<a.ea&&a.aa&&(c=a.aa/a.Ya);a.Za=Math.round(1E3/fd);a.Ba=Math.floor(a.$a/fd*c);b||(a.fa=a.Ba);a.Ra=0}function cd(a){return a.T+a.N+a.R-a.S}function Yc(a){a.aa=0;a.ab=0;a.T=a.N=a.R=a.S=0;Zc(a);dd(a,1)}
function dd(a,b,c){var d=!1;if(void 0!==b){.8>a.aa/a.ba?b=1:d=!0;a.ea=b;b=a.Ya*a.ea;if(a.ba!=b){a.ba=b;b=a.ba.toFixed(2)+"Mhz";var e=a.J.setSpeed;e&&(e.textContent=b);a.j("target speed: "+b)}c&&a.G&&gd(a.G)}rc(a,a.N);a.N=0;a.M=mb();a.P=0;ed(a);return d}function hd(a,b){for(var c=a.O.length-1;0<=c;c--){var d=a.O[c];0>d[0]||b>d[0]&&(b=d[0])}return b}function id(a){for(var b=[],c=0;c<a.O.length;c++)b.push(a.O[c][0]);return b}
function qc(a,b){for(var c=a.O.length-1;0<=c;c--){var d=a.O[c];0>d[0]||(d[0]-=b,0>=d[0]&&(d[0]=-1,d[1]()))}}function jd(a,b){var c=a.R-=a.S;a.S=0;b&&(a.R=0);return c}
l.Wb=function(){if(this.A.L){this.Ra>=this.$a&&ed(this,!0);this.na=0;this.ya=mb();if(this.P){var a=this.ya-this.P;a>this.Za&&(this.M+=a,this.M>this.ya&&(this.M=this.ya))}try{do{var b=hd(this,this.A.Ga?1:this.Ba);try{this.Ma(b)}catch(e){if("number"!=typeof e)throw e;}b=jd(this,!0);this.na+=b;this.N+=b;sc(this,b);qc(this,b);this.fa-=b;if(0>=this.fa){this.fa+=this.Ba;++this.ab>=kd&&(this.G&&I(this.G,void 0),this.ab=0);break}}while(this.A.L)}catch(e){this.W();this.G&&this.G.stop(mb(),cd(this));Gb(this,
e.stack||e.message);return}if(this.A.L){a=setTimeout;b=this.rb;this.P=mb();var c=this.Za;this.na&&(c=Math.round(c*this.na/this.Ba));var c=c-(this.P-this.ya),d=this.P-this.M;d&&(this.aa=Math.round(this.N/(10*d))/100,864E5<=d&&(this.T=0,dd(this)));if(0>c||this.aa<this.ba)-1E3>c&&(this.M-=c),c=0;this.Ra+=this.na;this.P+=c;a(b,c)}}};
function oc(a,b){if(!Hb(a))if(a.A.L)a.j(a.toString()+" busy");else{dd(a);a.A.L=!0;a.A.Wa=!0;var c=a.J.run;c&&(c.textContent="Halt");a.G&&(b&&gd(a.G,!0),a.G.start(a.M,cd(a)));a.D||a.status("Started");setTimeout(a.rb,0)}}l.Ma=function(){return 0};l.W=function(a){var b=!1;if(this.A.L){jd(this);rc(this,this.N);this.N=0;this.A.L=!1;if(b=this.J.run)b.textContent="Run";this.G&&this.G.stop(mb(),cd(this));b=!0;this.D||this.status("Stopped")}this.A.complete=a;return b};var fd=30,kd=15,Wc=["power","reset"];
function ld(a){var b=+a.model||1001;Vc.call(this,a,1E6);this.qb=b;this.Oa=+a.addrReset||0;this.Cb=md.bind(this);this.w=L.bind(this);this.wa=null;this.nb=[];this.A.complete=!1}m(ld,Vc);l=ld.prototype;l.reset=function(){this.status("Model "+this.qb);this.A.L&&this.W();this.b=this.K=this.Ha=0;this.i=this.xa=this.Oa;this.I=this.qa=-1;this.F=this.u=0;this.bb=[0,0];this.oa=[0,0];this.ga=[0,0];this.pa=[0,0];this.va=this.i;this.B=0;this.f=this.Sb;this.g=this.cc;this.wa=null;Yc(this);this.A.error=!1;Vc.prototype.reset.call(this)};
l.vb=function(){return 0};l.save=function(){var a=new G(this);a.set(0,[this.b,this.K,this.Ha,this.i,this.qa,this.I,this.u,this.B,this.xa,this.va,this.Oa]);a.set(1,[]);a.set(2,[this.T,this.ea,this.A.Z]);a.set(3,nd(this));a.set(4,id(this));return a.data()};
l.restore=function(a){var b;b=a[0];ia();ea();ia();var c=b[Symbol.iterator];b=c?c.call(b):ja(b);this.b=b.next().value;this.K=b.next().value;this.Ha=b.next().value;this.i=b.next().value;this.qa=b.next().value;this.I=b.next().value;this.u=b.next().value;this.B=b.next().value;this.xa=b.next().value;this.va=b.next().value;this.Oa=b.next().value;b=a[2];this.T=b[0];dd(this,b[1]);this.A.Z=b[2];b=a[3];for(c=b.length-1;0<=c;c--){var d;a:{for(d=0;d<this.nb.length;d++){var e=this.nb[d];if(e.$b===b[c]){d=e;break a}}d=
null}d&&(d.next=this.wa,this.wa=d)}a=a[4];for(b=0;b<this.O.length&&b<a.length;b++)this.O[b][0]=a[b];return!0};function od(a,b){var c=a.i;a.i=(c+b)%Qb;return c}function H(a,b){a.i=b%Qb}function nd(a){var b=[];for(a=a.wa;a;)b.push(a.$b),a=a.next;return b}l.Sb=function(a){var b=this.H;a=this.va=a;return b.b[(a&b.u)>>>b.i].f(a&16383,a)};l.cc=function(a,b){var c=this.H;a=this.va=a;c.b[(a&c.u)>>>c.i].g(b,a&16383,a);return b};
l.Ma=function(a){this.A.complete=!0;var b=this.D?pd(this.D)?1:this.A.Wa?-1:0:0,c=a?this.A.Wa?0:1:-1;this.A.Wa=!1;this.R=this.S=a;this.B=this.B&-5|(b?4:0);do{if(this.B){if(this.B&4){if(qd(this.D,this.i,c)){this.W();break}++b||(this.B&=-5);c||c++}if(a=this.B&11)this.B&2?this.wa||(this.B&=-3):this.B&1&&this.B++,a=!1;if(a){if(this.B&4&&qd(this.D,this.i,c)){this.W();break}if(0>c)break}}this.B&=15;this.K&4194304?this.K=this.f(this.b):0<=this.qa?(this.K=this.Ha=this.f(this.qa),this.qa=-1):(this.K=this.Ha=
this.f(this.xa=this.i),this.i=(this.i+1)%Qb);this.K&=8388607;this.b=this.K&262143;if(a=this.K>>18&15)this.b=this.b+this.f(a)&Pb;a=this.K&4194304?-1:this.Ha/Wb|0;0<=a&&this.Cb(a)}while(0<this.S);return this.A.complete?this.R-this.S:!1===this.A.complete?-1:0};Xa(function(){for(var a=x(document,w,"cpu"),b=0;b<a.length;b++){var c=a[b],d=v(c),d=new ld(d);rb(d,c)}});function md(a){rd[a>>4].call(this,a,a&15)}function M(a){this.w(a)}
function sd(){var a=0,b=this.f(this.b),c=b/Xb&63,d=b>>24&63,c=c-d;0>c&&(a++,c=36-d,0>c&&(c=64-d));b=c*Xb+(d<<24)+(b&16777215);a&&(b=(b+a)%E);this.g(this.b,b)}function td(a,b){a=this.f(this.b);if(0>this.I)this.I=a,this.K=this.b|4194304;else{var c=this.I/Xb&63,d=this.I>>24&63;a=32>=c+d?(a>>c&(1<<d)-1)>>>0:Math.trunc(a/Math.pow(2,c))%Math.pow(2,d);this.g(b,a);this.I=-1}}
function ud(a,b){a=this.f(this.b);if(0>this.I)this.I=a,this.K=this.b|4194304;else{var c=this.I/Xb&63,d=this.I>>24&63;b=this.f(b)%Math.pow(2,d)*Math.pow(2,c)%E;a=a-a%Math.pow(2,c+d)+b+a%Math.pow(2,c);this.g(this.b,a);this.I=-1}}function vd(a,b){this.g(b,this.f(this.b))}function wd(a,b){this.g(b,this.b)}function Nd(a,b){this.g(this.b,this.f(b))}function Od(a,b){this.g(b,0)}function Pd(a,b){this.g(b,D-this.f(b))}function Qd(a,b){this.g(b,D)}
function Rd(a,b){var c=this.f(this.b),d=this.f(b);this.g(b,Sd(a,d,c)+(c-(c&y)))}function Td(a,b){var c=this.f(b);this.g(b,Sd(a,c,0))}function Ud(a,b){b=this.f(b);var c=this.f(this.b);this.g(this.b,Sd(a,c,b)+(b-(b&y)))}function Vd(a,b){var c=this.f(this.b),d=c;if(a&=384)switch(d-=d&y,a){case 256:d+=y;break;case 384:d+=c>A?y:0}c=d;this.g(this.b,c);b&&this.g(b,c)}function Wd(a,b){var c=(this.f(this.b)&y)*z,d=this.f(b);this.g(b,Sd(a,d,c)+c)}
function Xd(a,b){var c=this.b*z,d=this.f(b);this.g(b,Sd(a,d,c)+c)}function Yd(a,b){b=(this.f(b)&y)*z;var c=this.f(this.b);this.g(this.b,Sd(a,c,b)+b)}function Zd(a,b){var c=this.f(this.b),d=(c&y)*z,c=Sd(a,c,d)+d;this.g(this.b,c);b&&this.g(b,c)}function $d(a,b){var c=this.f(this.b)&y,d=this.f(b);this.g(b,ae(a,d,c)+c)}function be(a,b){var c=this.f(b);this.g(b,ae(a,c,this.b)+this.b)}function ce(a,b){b=this.f(b)&y;var c=this.f(this.b);this.g(this.b,ae(a,c,b)+b)}
function de(a,b){var c=this.f(this.b),d=c;if(a&=384)switch(d&=y,a){case 256:d+=y*z;break;case 384:d+=c>Rb?y*z:0}c=d;this.g(this.b,c);b&&this.g(b,c)}function ee(a,b){var c=this.f(this.b)/z|0,d=this.f(b);this.g(b,ae(a,d,c)+c)}function fe(a,b){var c=this.f(b);this.g(b,ae(a,c,0))}function ge(a,b){b=this.f(b)/z|0;var c=this.f(this.b);this.g(this.b,ae(a,c,b)+b)}function he(a,b){var c=this.f(this.b),d=c/z|0,c=ae(a,c,d)+d;this.g(this.b,c);b&&this.g(b,c)}function N(a){ie[a&7].call(this,a,a>>3&127)}
function je(){}function ke(){}function L(a){this.j("undefined opcode: "+ta(a));od(this,-1);this.W()}function le(a){a>A&&(a!=B?a=Tb-a:this.u|=163840);return a}function O(a,b){var c=(a+b)%E;me.call(this,a,b,c);return c}
function ne(a,b,c){var d=!1,e=!1,f=b-b%B;a=a%B+b*B%E;b=this.F=f+Math.trunc(b/2);c>A&&(c=E-c,d=!d);b>A&&(a?(b=D-b,a=E-a):b&&(b=E-b),e=!0,d=!d);if(b>=c)return this.u|=131104,-1;f=this.bb;f[0]=0;f[1]=0;f=this.oa;f[0]=1;f[1]=0;f=this.ga;f[0]=c;f[1]=0;c=this.pa;c[0]=a;for(c[1]=b;0<oe(this.pa,this.ga);)pe(this.ga,this.ga),pe(this.oa,this.oa);do{if(0<=oe(this.pa,this.ga)&&(b=this.pa,a=this.ga,b[0]-=a[0],b[1]-=a[1],0>b[0]&&(b[0]+=E,b[1]--),pe(this.bb,this.oa),qe(this.pa)))break;re(this.ga);re(this.oa)}while(!qe(this.oa));
a=this.bb[0];this.F=this.pa[0];d&&a&&(a=E-a);e&&this.F&&(this.F=E-this.F);return a}
function se(a,b,c){var d=a,e=b;b=!1;var f;d>A&&(d=E-d,b=!b);e>A&&(e=E-e,b=!b);if(d<z&&e<z)a=d*e,f=0;else{a=d&y;d=Math.trunc(d/z);f=e&y;var e=Math.trunc(e/z),g=a*f,h=d*f+Math.trunc(g/z);f=Math.trunc(h/z);h=(h&y)+a*e;a=h*z+(g&y);f+=Math.trunc(h/z)+d*e}b&&(a?(f=D-f,a=E-a):f&&(f=E-f));if(c)return(f||a>A)&&(f!=D||a<=A)&&(this.u|=131072),a;c=a;b=f;a=b-b%B;b=2*b%E+Math.trunc(c/B);c=a+c%B;d=b-b%B;a!=d&&(b=a+(b-d),this.u|=131072);this.F=c;return b}
function te(a){a?a==B?this.u|=163840:a=Tb-a:this.u|=98304;return a}function P(a,b){var c=a-b;0>c&&(c+=E);me.call(this,c,b,a);return c}function me(a,b,c){a=Math.trunc(a/Sb);b=Math.trunc(b/Sb);c=Math.trunc(c/Sb);var d=a^(a^b)&(b^c);this.u=this.u|(d&2?65536:0)|(d&1?32768:0)|((a^c)&(b^c)&2?131072:0)}function Q(a,b){return((a/F|0)&(b/F|0))*F+((a&b)>>>0)}function R(a,b){return Q(a,(~(b/F|0)&15)*F+(~b>>>0))}function S(a,b){return(a<B?a:a-E)-(b<B?b:b-B)}
function ue(a,b){return(~((a/F|0)^(b/F|0))&15)*F+(~(a^b)>>>0)}function T(a,b){return(a/F|0|b/F|0)*F+((a|b)>>>0)}function U(a){return a<B?a:a-E}function V(a,b){return((a/F|0)^(b/F|0))*F+((a^b)>>>0)}function W(a){return(a/z|0)+(a&y)*z}function ae(a,b,c){switch(a&384){case 0:b-=b&y;break;case 128:b=0;break;case 256:b=y*z;break;case 384:b=c>Rb?y*z:0}return b}function Sd(a,b,c){switch(a&384){case 0:b&=y;break;case 128:b=0;break;case 256:b=y;break;case 384:b=c>A?y:0}return b}
function pe(a,b){a[0]+=b[0];a[1]+=b[1];a[0]>=E&&(a[0]%=E,a[1]++)}function oe(a,b){var c=a[1]-b[1];c||(c=a[0]-b[0]);return c}function re(a){a[1]%2&&(a[0]+=E);a[0]=Math.trunc(a[0]/2);a[1]=Math.trunc(a[1]/2)}function qe(a){return!a[0]&&!a[1]}
var rd=[M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},sd,function(a,b){0>this.I&&sd.call(this);td.call(this,0,b)},td,function(a,b){0>this.I&&sd.call(this);ud.call(this,0,b)},ud,function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},
function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},
function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},vd,wd,Nd,function(a,b){b&&this.g(b,this.f(this.b))},function(a,b){a=this.f(this.b);a=(a/z|0)+(a&y)*z;this.g(b,a)},function(a,b){this.g(b,this.b*z)},function(a,b){a=this.f(b);a=(a/z|0)+(a&y)*z;this.g(this.b,a)},function(a,b){a=this.f(this.b);a=(a/z|0)+(a&y)*z;this.g(this.b,a);b&&this.g(b,a)},function(a,b){this.g(b,te.call(this,this.f(this.b)))},function(a,b){this.g(b,te.call(this,this.b))},function(a,b){this.g(this.b,
te.call(this,this.f(b)))},function(a,b){a=te.call(this,this.f(this.b));this.g(this.b,a);b&&this.g(b,a)},function(a,b){this.g(b,le.call(this,this.f(this.b)))},function(a,b){this.g(b,this.b)},function(a,b){this.g(this.b,le.call(this,this.f(b)))},function(a,b){a=le.call(this,this.f(this.b));this.g(this.b,a);b&&this.g(b,a)},function(a,b){this.g(b,se.call(this,this.f(b),this.f(this.b),!0))},function(a,b){this.g(b,se.call(this,this.f(b),this.b,!0))},function(a,b){this.g(this.b,se.call(this,this.f(b),this.f(this.b),
!0))},function(a,b){this.g(this.b,this.g(b,se.call(this,this.f(b),this.f(this.b),!0)))},function(a,b){this.g(b,se.call(this,this.f(b),this.f(this.b)));this.g(b+1&15,this.F)},function(a,b){this.g(b,se.call(this,this.f(b),this.b));this.g(b+1&15,this.F)},function(a,b){this.g(this.b,se.call(this,this.f(b),this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,se.call(this,this.f(b),this.f(this.b))));this.g(b+1&15,this.F)},function(a,b){a=ne.call(this,this.f(b),0,this.f(this.b));0>a||(this.g(b,a),this.g(b+
1&15,this.F))},function(a,b){a=ne.call(this,this.f(b),0,this.b);0>a||(this.g(b,a),this.g(b+1&15,this.F))},function(a,b){a=ne.call(this,this.f(b),0,this.f(this.b));0>a||this.g(this.b,a)},function(a,b){a=ne.call(this,this.f(b),0,this.f(this.b));0>a||this.g(this.b,a)},function(a,b){a=this.f(b);var c=this.f(b+1&15),c=ne.call(this,c,a,this.f(this.b));0>c||(this.g(b,c),this.g(b+1&15,this.F))},function(a,b){a=this.f(b);var c=this.f(b+1&15),c=ne.call(this,c,a,this.b);0>c||(this.g(b,c),this.g(b+1&15,this.F))},
function(a,b){a=this.f(b);b=this.f(b+1&15);b=ne.call(this,b,a,this.f(this.b));0>b||this.g(this.b,b)},function(a,b){a=this.f(b);var c=this.f(b+1&15),c=ne.call(this,c,a,this.f(this.b));0>c||(this.g(b,this.g(this.b,c)),this.g(b+1&15,this.F))},function(a,b){var c=(this.b<<14>>14)%256;if(c){a=this.f(b);var d=a>A?-(E-a):a;0<c?(35<=c?(d=0>d?B:0,c=A):(d=d*Math.pow(2,c)%B,c=B-Math.pow(2,35-c)),a<=A?a+c>A&&(this.u|=131072):a-c<=A&&(this.u|=131072)):d=-35>=c?0>d?-1:0:Math.trunc(d/Math.pow(2,-c));a=0>d?d+E:d;
this.g(b,a)}},function(a,b){if(a=(this.b<<14>>14)%36){var c=this.f(b);0>a&&(a=36+a);c=c*Math.pow(2,a)%E+Math.trunc(c/Math.pow(2,36-a));this.g(b,c)}},function(a,b){if(a=(this.b<<14>>14)%256){var c=this.f(b),c=0<a?36<=a?0:c*Math.pow(2,a)%E:-36>=a?0:Math.trunc(c/Math.pow(2,-a));this.g(b,c)}},function(a,b){a=0;var c=this.f(b);if(c){for(;c<B;)a++,c*=2;H(this,this.b)}this.g(b+1&15,a)},function(a,b){if(a=(this.b<<14>>14)%256){var c,d=this.f(b),e=this.f(b+1&15);if(0<a){var f=d;if(36<=a){if(0<d&&d<B||d>A&&
d<D)this.u|=131072;if(71<=a){if(0<e&&e<B||e>A&&e<D)this.u|=131072;d=0}else d=e*Math.pow(2,a-35)%B,c=B-Math.pow(2,70-a),f<=A?e+c>A&&(this.u|=131072):e-c<=A&&(this.u|=131072);e=0;f>A&&(d+=B,e+=B)}else d=d*Math.pow(2,a)%B+Math.trunc(e%B/Math.pow(2,35-a)),e=e*Math.pow(2,a)%B,c=B-Math.pow(2,35-a),f<=A?f+c>A&&(this.u|=131072):(f-c<=A&&(this.u|=131072),d+=B,e+=B)}else-36>=a?(e=-72>=a?d>A?D:0:Math.trunc(d%B/Math.pow(2,-a-35)),d<=A?d=0:(d=D,e+=B)):(c=d>A?E-Math.pow(2,36+a):0,e=Math.trunc(e%B/Math.pow(2,-a))+
d%B*Math.pow(2,35+a)%B,d=Math.trunc(d/Math.pow(2,-a))+c,d>A&&(e+=B));this.g(b,d);this.g(b+1&15,e)}},function(a,b){if(a=(this.b<<14>>14)%72){var c=this.f(b),d=this.f(b+1&15),e=c;0>a&&(a=72+a);36>a?(c=c*Math.pow(2,a)%E+Math.trunc(d/Math.pow(2,36-a)),d=d*Math.pow(2,a)%E+Math.trunc(e/Math.pow(2,36-a))):(c=d*Math.pow(2,a-36)%E+Math.trunc(c/Math.pow(2,72-a)),d=e*Math.pow(2,a-36)%E+Math.trunc(d/Math.pow(2,72-a)));this.g(b,c);this.g(b+1&15,d)}},function(a,b){if(a=(this.b<<14>>14)%256){var c=this.f(b),d=this.f(b+
1&15);0<a?36<=a?(c=72<=a?0:d*Math.pow(2,a-36)%E,d=0):(c=c*Math.pow(2,a)%E+Math.trunc(d/Math.pow(2,36-a)),d=d*Math.pow(2,a)%E):-36>=a?(d=-72>=a?0:Math.trunc(c/Math.pow(2,-a-36)),c=0):(d=Math.trunc(d/Math.pow(2,-a))+c*Math.pow(2,36+a)%E,c=Math.trunc(c/Math.pow(2,-a)));this.g(b,c);this.g(b+1&15,d)}},L,function(a,b){a=this.f(b);this.g(b,this.f(this.b));this.g(this.b,a)},function(a,b){a=!1;for(var c=this.f(b),d=c/z|0,c=c&y;!a;)this.g(c,this.f(d)),c==this.b&&(a=!0),d=d+1&y,c=c+1&y,this.A.L||(this.g(b,d*
z+c),a||od(this,-1),a=!0)},function(a,b){a=(this.f(b)+262145)%D;this.g(b,a);a<B&&H(this,this.b)},function(a,b){a=(this.f(b)+262145)%D;this.g(b,a);a>=B&&H(this,this.b)},function(a){this.w(a)},function(a,b){a=b<<14;this.u&a&&(this.u&=~a,H(this,this.b))},function(){this.qa=this.b},L,function(a){this.w(a)},function(a,b){a=this.f(b);a+=262145;this.g(a&y,this.f(this.b));a>=E&&(a-=E);a/z|0||(this.u|=262144);this.g(b,a)},function(a,b){a=this.f(b);var c=this.f(a&y);this.g(this.b,c);this.b==b&&(a=c);a-=262145;
0>a&&(a+=E);(a/z|0)==y&&(this.u|=262144);this.g(b,a)},function(a){this.w(a)},function(){this.g(this.b,(this.u&y)*z+this.i);H(this,this.b+1)},function(a,b){this.g(b,(this.u&y)*z+this.i);H(this,this.b)},function(a){this.w(a)},function(a){this.w(a)},function(a,b){this.g(b,O.call(this,this.f(b),this.f(this.b)))},function(a,b){this.g(b,O.call(this,this.f(b),this.b))},function(a,b){this.g(this.b,O.call(this,this.f(b),this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,O.call(this,this.f(b),this.f(this.b))))},
function(a,b){this.g(b,P.call(this,this.f(b),this.f(this.b)))},function(a,b){this.g(b,P.call(this,this.f(b),this.b))},function(a,b){this.g(this.b,P.call(this,this.f(b),this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,P.call(this,this.f(b),this.f(this.b))))},je,function(a,b){0>S(this.f(b),this.b)&&H(this,this.i+1)},function(a,b){S(this.f(b),this.b)||H(this,this.i+1)},function(a,b){0>=S(this.f(b),this.b)&&H(this,this.i+1)},function(){H(this,this.i+1)},function(a,b){0<=S(this.f(b),this.b)&&H(this,
this.i+1)},function(a,b){S(this.f(b),this.b)&&H(this,this.i+1)},function(a,b){0<S(this.f(b),this.b)&&H(this,this.i+1)},ke,function(a,b){0>S(this.f(b),this.f(this.b))&&H(this,this.i+1)},function(a,b){S(this.f(b),this.f(this.b))||H(this,this.i+1)},function(a,b){0>=S(this.f(b),this.f(this.b))&&H(this,this.i+1)},function(){H(this,this.i+1)},function(a,b){0<=S(this.f(b),this.f(this.b))&&H(this,this.i+1)},function(a,b){S(this.f(b),this.f(this.b))&&H(this,this.i+1)},function(a,b){0<S(this.f(b),this.f(this.b))&&
H(this,this.i+1)},je,function(a,b){0>U(this.f(b))&&H(this,this.b)},function(a,b){U(this.f(b))||H(this,this.b)},function(a,b){0>=U(this.f(b))&&H(this,this.b)},function(){H(this,this.b)},function(a,b){0<=U(this.f(b))&&H(this,this.b)},function(a,b){U(this.f(b))&&H(this,this.b)},function(a,b){0<U(this.f(b))&&H(this,this.b)},function(a,b){b&&this.g(b,this.f(this.b))},function(a,b){a=this.f(this.b);0>U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.f(this.b);U(a)||H(this,this.i+1);b&&this.g(b,
a)},function(a,b){a=this.f(this.b);0>=U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){H(this,this.i+1);b&&this.g(b,this.f(this.b))},function(a,b){a=this.f(this.b);0<=U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.f(this.b);U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.f(this.b);0<U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){this.g(b,O.call(this,this.f(b),1))},function(a,b){a=this.g(b,O.call(this,this.f(b),1));0>U(a)&&H(this,this.b)},function(a,b){a=this.g(b,
O.call(this,this.f(b),1));U(a)||H(this,this.b)},function(a,b){a=this.g(b,O.call(this,this.f(b),1));0>=U(a)&&H(this,this.b)},function(a,b){this.g(b,O.call(this,this.f(b),1));H(this,this.b)},function(a,b){a=this.g(b,O.call(this,this.f(b),1));0<=U(a)&&H(this,this.b)},function(a,b){a=this.g(b,O.call(this,this.f(b),1));U(a)&&H(this,this.b)},function(a,b){a=this.g(b,O.call(this,this.f(b),1));0<U(a)&&H(this,this.b)},function(a,b){a=this.g(this.b,O.call(this,this.f(this.b),1));b&&this.g(b,a)},function(a,
b){a=this.g(this.b,O.call(this,this.f(this.b),1));0>U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.g(this.b,O.call(this,this.f(this.b),1));U(a)||H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.g(this.b,O.call(this,this.f(this.b),1));0>=U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.g(this.b,O.call(this,this.f(this.b),1));H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.g(this.b,O.call(this,this.f(this.b),1));0<=U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,
b){a=this.g(this.b,O.call(this,this.f(this.b),1));U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.g(this.b,O.call(this,this.f(this.b),1));0<U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){this.g(b,P.call(this,this.f(b),1))},function(a,b){a=this.g(b,P.call(this,this.f(b),1));0>U(a)&&H(this,this.b)},function(a,b){a=this.g(b,P.call(this,this.f(b),1));U(a)||H(this,this.b)},function(a,b){a=this.g(b,P.call(this,this.f(b),1));0>=U(a)&&H(this,this.b)},function(a,b){this.g(b,P.call(this,this.f(b),
1));H(this,this.b)},function(a,b){a=this.g(b,P.call(this,this.f(b),1));0<=U(a)&&H(this,this.b)},function(a,b){a=this.g(b,P.call(this,this.f(b),1));U(a)&&H(this,this.b)},function(a,b){a=this.g(b,P.call(this,this.f(b),1));0<U(a)&&H(this,this.b)},function(a,b){a=this.g(this.b,P.call(this,this.f(this.b),1));b&&this.g(b,a)},function(a,b){a=this.g(this.b,P.call(this,this.f(this.b),1));0>U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.g(this.b,P.call(this,this.f(this.b),1));U(a)||H(this,this.i+
1);b&&this.g(b,a)},function(a,b){a=this.g(this.b,P.call(this,this.f(this.b),1));0>=U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.g(this.b,P.call(this,this.f(this.b),1));H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.g(this.b,P.call(this,this.f(this.b),1));0<=U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.g(this.b,P.call(this,this.f(this.b),1));U(a)&&H(this,this.i+1);b&&this.g(b,a)},function(a,b){a=this.g(this.b,P.call(this,this.f(this.b),1));0<U(a)&&H(this,this.i+
1);b&&this.g(b,a)},Od,Od,function(){this.g(this.b,0)},function(a,b){this.g(this.b,this.g(b,0))},function(a,b){this.g(b,Q(this.f(b),this.f(this.b)))},function(a,b){this.g(b,Q(this.f(b),this.b))},function(a,b){this.g(this.b,Q(this.f(b),this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,Q(this.f(b),this.f(this.b))))},function(a,b){this.g(b,Q(D-this.f(b),this.f(this.b)))},function(a,b){this.g(b,Q(D-this.f(b),this.b))},function(a,b){this.g(this.b,Q(D-this.f(b),this.f(this.b)))},function(a,b){this.g(this.b,
this.g(b,Q(D-this.f(b),this.f(this.b))))},vd,wd,ke,vd,function(a,b){this.g(b,Q(this.f(b),D-this.f(this.b)))},function(a,b){this.g(b,Q(this.f(b),D-this.b))},function(a,b){this.g(this.b,Q(this.f(b),D-this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,Q(this.f(b),D-this.f(this.b))))},je,je,Nd,Nd,function(a,b){this.g(b,V(this.f(b),this.f(this.b)))},function(a,b){this.g(b,V(this.f(b),this.b))},function(a,b){this.g(this.b,V(this.f(b),this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,V(this.f(b),
this.f(this.b))))},function(a,b){this.g(b,T(this.f(b),this.f(this.b)))},function(a,b){this.g(b,T(this.f(b),this.b))},function(a,b){this.g(this.b,T(this.f(b),this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,T(this.f(b),this.f(this.b))))},function(a,b){this.g(b,Q(D-this.f(b),D-this.f(this.b)))},function(a,b){this.g(b,Q(D-this.f(b),D-this.b))},function(a,b){this.g(this.b,Q(D-this.f(b),D-this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,Q(D-this.f(b),D-this.f(this.b))))},function(a,b){this.g(b,
ue(this.f(b),this.f(this.b)))},function(a,b){this.g(b,ue(this.f(b),this.b))},function(a,b){this.g(this.b,ue(this.f(b),this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,ue(this.f(b),this.f(this.b))))},Pd,Pd,function(a,b){this.g(this.b,D-this.f(b))},function(a,b){this.g(this.b,this.g(b,D-this.f(b)))},function(a,b){this.g(b,T(D-this.f(b),this.f(this.b)))},function(a,b){this.g(b,T(D-this.f(b),this.b))},function(a,b){this.g(this.b,T(D-this.f(b),this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,
T(D-this.f(b),this.f(this.b))))},function(a,b){this.g(b,D-this.f(this.b))},function(a,b){this.g(b,D-this.b)},function(){this.g(this.b,D-this.f(this.b))},function(a,b){this.g(this.b,this.g(b,D-this.f(this.b)))},function(a,b){this.g(b,T(this.f(b),D-this.f(this.b)))},function(a,b){this.g(b,T(this.f(b),D-this.b))},function(a,b){this.g(this.b,T(this.f(b),D-this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,T(this.f(b),D-this.f(this.b))))},function(a,b){this.g(b,T(D-this.f(b),D-this.f(this.b)))},function(a,
b){this.g(b,T(D-this.f(b),D-this.b))},function(a,b){this.g(this.b,T(D-this.f(b),D-this.f(this.b)))},function(a,b){this.g(this.b,this.g(b,T(D-this.f(b),D-this.f(this.b))))},Qd,Qd,function(){this.g(this.b,D)},function(a,b){this.g(this.b,this.g(b,D))},Rd,Td,Ud,Vd,Wd,Xd,Yd,Zd,Rd,Td,Ud,Vd,Wd,Xd,Yd,Zd,Rd,Td,Ud,Vd,Wd,Xd,Yd,Zd,Rd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,be,ce,de,ee,fe,ge,he,$d,be,ce,de,ee,fe,ge,he,$d,be,ce,de,ee,fe,ge,he,$d,be,ce,de,ee,fe,ge,he,je,je,function(a,b){Q(this.f(b),this.b)||H(this,this.i+1)},function(a,
b){Q(this.f(b),this.b*z)||H(this,this.i+1)},function(){H(this,this.i+1)},function(){H(this,this.i+1)},function(a,b){Q(this.f(b),this.b)&&H(this,this.i+1)},function(a,b){Q(this.f(b),this.b*z)&&H(this,this.i+1)},ke,ke,function(a,b){Q(this.f(b),this.f(this.b))||H(this,this.i+1)},function(a,b){Q(this.f(b),W(this.f(this.b)))||H(this,this.i+1)},function(){H(this,this.i+1)},function(){H(this,this.i+1)},function(a,b){Q(this.f(b),this.f(this.b))&&H(this,this.i+1)},function(a,b){Q(this.f(b),W(this.f(this.b)))&&
H(this,this.i+1)},function(a,b){this.g(b,R(this.f(b),this.b))},function(a,b){this.g(b,R(this.f(b),this.b*z))},function(a,b){a=this.f(b);Q(a,this.b)||H(this,this.i+1);this.g(b,R(a,this.b))},function(a,b){a=this.f(b);var c=this.b*z;Q(a,c)||H(this,this.i+1);this.g(b,R(a,c))},function(a,b){H(this,this.i+1);this.g(b,R(this.f(b),this.b))},function(a,b){H(this,this.i+1);this.g(b,R(this.f(b),this.b*z))},function(a,b){a=this.f(b);Q(a,this.b)&&H(this,this.i+1);this.g(b,R(a,this.b))},function(a,b){a=this.f(b);
var c=this.b*z;Q(a,c)&&H(this,this.i+1);this.g(b,R(a,c))},function(a,b){this.g(b,R(this.f(b),this.f(this.b)))},function(a,b){this.g(b,R(this.f(b),W(this.f(this.b))))},function(a,b){a=this.f(b);var c=this.f(this.b);Q(a,c)||H(this,this.i+1);this.g(b,R(a,c))},function(a,b){a=this.f(b);var c=W(this.f(this.b));Q(a,c)||H(this,this.i+1);this.g(b,R(a,c))},function(a,b){H(this,this.i+1);this.g(b,R(this.f(b),this.f(this.b)))},function(a,b){H(this,this.i+1);this.g(b,R(this.f(b),W(this.f(this.b))))},function(a,
b){a=this.f(b);var c=this.f(this.b);Q(a,c)&&H(this,this.i+1);this.g(b,R(a,c))},function(a,b){a=this.f(b);var c=W(this.f(this.b));Q(a,c)&&H(this,this.i+1);this.g(b,R(a,c))},function(a,b){this.g(b,V(this.f(b),this.b))},function(a,b){this.g(b,V(this.f(b),this.b*z))},function(a,b){a=this.f(b);Q(a,this.b)||H(this,this.i+1);this.g(b,V(a,this.b))},function(a,b){a=this.f(b);var c=this.b*z;Q(a,c)||H(this,this.i+1);this.g(b,V(a,c))},function(a,b){H(this,this.i+1);this.g(b,V(this.f(b),this.b))},function(a,b){H(this,
this.i+1);this.g(b,V(this.f(b),this.b*z))},function(a,b){a=this.f(b);Q(a,this.b)&&H(this,this.i+1);this.g(b,V(a,this.b))},function(a,b){a=this.f(b);var c=this.b*z;Q(a,c)&&H(this,this.i+1);this.g(b,V(a,c))},function(a,b){this.g(b,V(this.f(b),this.f(this.b)))},function(a,b){this.g(b,V(this.f(b),W(this.f(this.b))))},function(a,b){a=this.f(b);var c=this.f(this.b);Q(a,c)||H(this,this.i+1);this.g(b,V(a,c))},function(a,b){a=this.f(b);var c=W(this.f(this.b));Q(a,c)||H(this,this.i+1);this.g(b,V(a,c))},function(a,
b){H(this,this.i+1);this.g(b,V(this.f(b),this.f(this.b)))},function(a,b){H(this,this.i+1);this.g(b,V(this.f(b),W(this.f(this.b))))},function(a,b){a=this.f(b);var c=this.f(this.b);Q(a,c)&&H(this,this.i+1);this.g(b,V(a,c))},function(a,b){a=this.f(b);var c=W(this.f(this.b));Q(a,c)&&H(this,this.i+1);this.g(b,V(a,c))},function(a,b){this.g(b,T(this.f(b),this.b))},function(a,b){this.g(b,T(this.f(b),this.b*z))},function(a,b){a=this.f(b);Q(a,this.b)||H(this,this.i+1);this.g(b,T(a,this.b))},function(a,b){a=
this.f(b);Q(a,this.b*z)||H(this,this.i+1);this.g(b,T(a,this.b*z))},function(a,b){H(this,this.i+1);this.g(b,T(this.f(b),this.b))},function(a,b){H(this,this.i+1);this.g(b,T(this.f(b),this.b*z))},function(a,b){a=this.f(b);Q(a,this.b)&&H(this,this.i+1);this.g(b,T(a,this.b))},function(a,b){a=this.f(b);var c=this.b*z;Q(a,c)&&H(this,this.i+1);this.g(b,T(a,c))},function(a,b){this.g(b,T(this.f(b),this.f(this.b)))},function(a,b){this.g(b,T(this.f(b),W(this.f(this.b))))},function(a,b){a=this.f(b);var c=this.f(this.b);
Q(a,c)||H(this,this.i+1);this.g(b,T(a,c))},function(a,b){a=this.f(b);var c=W(this.f(this.b));Q(a,c)||H(this,this.i+1);this.g(b,T(a,c))},function(a,b){H(this,this.i+1);this.g(b,T(this.f(b),this.f(this.b)))},function(a,b){H(this,this.i+1);this.g(b,T(this.f(b),W(this.f(this.b))))},function(a,b){a=this.f(b);var c=this.f(this.b);Q(a,c)&&H(this,this.i+1);this.g(b,T(a,c))},function(a,b){a=this.f(b);var c=W(this.f(this.b));Q(a,c)&&H(this,this.i+1);this.g(b,T(a,c))},N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,
N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N,N],ie=[function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a){this.w(a)},function(a,b){switch(b){case 0:a=this.f(this.b);a&8&&(this.u&=-131073);a&131072&&(this.u&=-262145);break;default:this.w(a)}},function(a,b){switch(b){case 0:a=0;this.u&131072&&(a|=8);this.u&262144&&(a|=65536);this.g(this.b,a);break;default:this.w(a)}},function(a){this.w(a)},function(a){this.w(a)}];
function ve(a){u.call(this,"ROM",a,128);this.U=this.b=null;this.B=+a.addr;this.u=+a.size;this.i=a.alias;"string"==typeof this.i&&(this.i=eval(this.i));this.w=a.file;this.F=ua(this.w);if(this.w){a=this.w;var b=va(this.F);"json"!=b&&"hex"!=b&&(a=Ma()+"/api/v1/dump?file="+this.w+"&format=bytes&decimal=true");var c=this;Fa(a,null,!0,function(a,b,f){f?(c.da("Unable to load ROM resource (error "+f+": "+a+")"),c.w=null):(kb(c.Qa,a,b),(a=Ga(a,b))?(c.b=a.Y,c.U=a.U):c.w=null);we(c)})}}m(ve,u);
ve.prototype.Ca=function(a,b,c,d){this.H=b;this.v=c;this.D=d;we(this)};ve.prototype.ua=function(){this.U&&(this.D&&xe(this.D,this.id,this.B,this.u,this.U),delete this.U);return!0};ve.prototype.ia=function(){return!0};
function we(a){if(!Ib(a)){if(a.w){if(!a.b||!a.H)return;a.u||(a.u=a.b.length);if(a.b.length!=a.u)Gb(a,"ROM size ("+q(a.b.length,8,!0)+") does not match specified size ("+q(a.u,8,!0)+")");else{var b;b=a.B;if(Ec(a.H,b,a.u,Mc)){var c;for(c=0;c<a.b.length;c++)uc(a.H,b+c,a.b[c]);b=!0}else b=!1;if(b){b=[];"number"==typeof a.i?b.push(a.i):null!=a.i&&a.i.length&&(b=a.i);for(c=0;c<b.length;c++){for(var d=a,e=b[c],f=d.H,g=d.u,h=[],k=d.B>>>f.i;0<g&&k<f.b.length;)h.push(f.b[k++]),g-=16384;f=d.H;d=d.u;g=0;for(e>>>=
f.i;0<d&&e<f.b.length;){k=h[g++];if(!k)break;f.b[e++]=k;d-=16384}}delete a.b}}}Jb(a)}}Xa(function(){for(var a=x(document,w,"rom"),b=0;b<a.length;b++){var c=a[b],d=v(c),d=new ve(d);rb(d,c)}});
function ye(a){u.call(this,"RAM",a);this.U=this.Ea=null;this.i=+a.addr;this.u=+a.size;this.sa=a.load;this.ra=a.exec;null!=this.sa&&(this.sa=+this.sa);null!=this.ra&&(this.ra=+this.ra);this.w=this.F=!1;this.b=a.file;this.B=ua(this.b);if(this.b){a=this.b;var b=va(this.B);"json"!=b&&"hex"!=b&&(a=Ma()+"/api/v1/dump?file="+this.b+"&format=bytes&decimal=true");var c=this;Fa(a,null,!0,function(a,b,f){f?(c.da("Unable to load RAM resource (error "+f+": "+a+")"),c.b=null):(kb(c.Qa,a,b),(a=Ga(a,b))?(c.Ea=a.Ea,
c.U=a.U,null==c.sa&&(c.sa=a.sa),null==c.ra&&(c.ra=a.ra)):c.b=null);ze(c)})}}m(ye,u);ye.prototype.Ca=function(a,b,c,d){this.H=b;this.v=c;this.D=d;ze(this)};ye.prototype.ua=function(a,b){this.U&&(this.D&&xe(this.D,this.id,this.i,this.u,this.U),delete this.U);b||this.reset();return!0};ye.prototype.ia=function(){return!0};
function ze(a){if(a.H&&(!a.w&&a.u&&(Ec(a.H,a.i,a.u,1)?a.w=!0:a.u=0),!Ib(a))){if(!a.w)r("No RAM allocated");else if(a.b){if(!a.Ea)return;Ae(a,a.Ea,a.sa,a.ra,a.i)?a.status('Loaded image "'+a.B+'"'):a.da('Error loading image "'+a.B+'"')}a.F=!0;Jb(a)}}
ye.prototype.reset=function(){if(this.w&&!this.F){for(var a=this.H,b=this.i,c=this.u,d=b&16383,b=b>>>a.i;0<c&&b<a.b.length;){var e=a.b[b],f=c,g=0,g=void 0===g?0:g,d=d||0;void 0===f&&(f=e.size);0>g&&g>=-B&&(g+=E);for(var g=Math.trunc(Math.abs(g))%E,h=d;f--&&h<e.size;h++)e.w(g,d,e.C+d);c-=16384;b++;d=0}this.Ea&&Ae(this,this.Ea,this.sa,this.ra,this.i,!this.D)}this.F=!1};
function Ae(a,b,c,d,e,f){var g=!1;null==c&&(c=e);if(null!=c){for(g=0;g<b.length;g++)uc(a.H,c+g,b[g]);g=!0}g&&(null==d&&(a.v.W(),f=!1),null!=d&&(a=a.v,a.Oa=d,H(a,d),f?a.A.V?a.A.L||oc(a):a.A.Z=!0:a.D&&a.A.V?a.W()||a.G.A.reset||($c(a.D),I(a.G,-1)):!1===f&&a.W(),!a.A.L&&a.Na&&a.Na.stop()));return g}Xa(function(){for(var a=x(document,w,"ram"),b=0;b<a.length;b++){var c=a[b],d=v(c),d=new ye(d);rb(d,c)}});
function Be(a){u.call(this,"SerialPort",a,1048576);this.w=a.upperCase;"string"==typeof this.w&&(this.w="true"==this.w);this.u=!0;this.i=[];var b=a.binding;if("console"!=b){var c;a=Ce;b&&(void 0===c&&(c="Panel"),(c=qb(c,this.id))&&(b=c.J[b])&&this.ja(null,a,b))}this.b=this.B=null;this.exports={connect:this.wb,receiveData:this.Ua,receiveStatus:this.Ub,setConnection:this.Xb}}m(Be,u);l=Be.prototype;
l.ja=function(a,b,c){var d=this;switch(b){case Ce:return this.J[b]=c,c.onkeydown=function(a){a=a||window.event;var b=0,c=a.keyCode;8==c?b=a.altKey?qa.lb:qa.Ab:46==c?b=qa.lb:a.ctrlKey&&c>=qa.kb&&c<=qa.Bb&&(b=c-(qa.kb-qa.xb));b&&(a.preventDefault&&a.preventDefault(),d.Ua(b));return!0},c.onkeypress=function(a){a=a||window.event;if(!a.metaKey){var b=a.which||a.keyCode;a.altKey&&b==qa.zb&&(b=qa.yb);d.Ua(b);a.preventDefault&&a.preventDefault()}return!0},c.onpaste=function(a){a.stopPropagation&&a.stopPropagation();
a.preventDefault&&a.preventDefault();(a=a.clipboardData||window.clipboardData)&&d.Ua(a.getData("Text"))},c.removeAttribute("readonly"),!0}return!1};l.Ca=function(a,b,c,d){this.G=a;this.H=b;this.v=c;this.D=d;Jb(this)};
l.wb=function(a){if(!this.b){var b=Xc(this.G,"connection");if(b){var c=b.split("->");if(2==c.length){var d=Ca(c[0]);if(d!=this.Pa)return;c=Ca(c[1]);if(this.b=pb(c)){var e=this.b.exports;if(e){var f=e.connect;f&&f.call(this.b,this.u);if(this.B=e.receiveData){this.u=a;this.status("Connected "+this.Qa+"."+d+" to "+c);return}}}}this.status("Unable to establish connection: "+b)}}};l.ua=function(a,b){if(!b)if(this.wb(this.u),!a)this.reset();else if(!this.restore(a))return!1;return!0};
l.ia=function(a){return a?this.save():!0};l.reset=function(){};l.save=function(){var a=new G(this);a.set(0,[]);return a.data()};l.restore=function(){return!0};l.Ua=function(a){if("number"==typeof a)this.i.push(a);else if("string"==typeof a)for(var b=0,c,d=0;d<a.length;d++){c=b;b=a.charCodeAt(d);if(10==b){if(13==c)continue;b=13}this.i.push(b)}else this.i=this.i.concat(a);return!0};l.Ub=function(){};l.Xb=function(a,b){return this.b?!1:(this.b=a,this.B=b,!0)};var Ce="buffer";
Xa(function(){for(var a=x(document,w,"serial"),b=0;b<a.length;b++){var c=a[b],d=v(c),d=new Be(d);rb(d,c)}});
function De(a,b,c){this.done=c;this.j=b&&b.j||console.log;var d=this;Fa(a,null,!0,function(a,b,c){if(!c){c=b;if(wa(a,".html")){c="";for(var e,f=/<pre>([\s\S]*?)<\/pre>/gi;e=f.exec(b);)e=e[1],0<=e.indexOf("&")&&(e=e.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")),c+=e;(e=c.match(/&[a-z]+;/i))&&d.j("warning: unrecognized HTML entity: "+e[0])}c=c.split(/\r?\n/);for(b=0;b<c.length;b++){f=d;e=b+1;var g=c[b],p=g.match(/([A-Z$%.][0-9A-Z$%.]*[:=]|)\s*([^\s;]+|)\s*([^;]+|)\s*(;?.*)/i);
!p||p[4]&&";"!=p[4].slice(0,1)?(f.j("warning: "+("failed to parse line "+e+": "+g)),f=!1):f=!0;if(!f)break}c=0}d.done(d,a,c)})}function Ee(a){u.call(this,"Debugger",a);this.ca=+a.base||16;this.la=!1;this.B=0;this.P=!1;this.w=-1;this.u=[];this.T={}}m(Ee,u);Ee.prototype.gb=function(){return-1};Ee.prototype.hb=function(){};
function Fe(a,b,c,d){if(c)if(b){0>a.w&&a.u.length&&(a.w=0);if(0>a.w||b!=a.u[a.w])a.u.splice(0,0,b),a.w=0;a.w--}else a.P?b="end":b=a.u[a.w+1];a=[];if(b){b=b.replace(/""/g,"'");c=0;var e=null;d=d||";";for(var f=0;f<=b.length;f++){var g=b.charAt(f);if('"'==g||"'"==g)e?g==e&&(e=null):e=g;else if(g==d&&!e||!g)a.push(Ca(b.substring(c,f))),c=f+1}}return a}
function Ge(a,b,c){for(c=c||-1;c--&&b.length;){var d=b.pop();if(2>a.length)return!1;var e=a.pop(),f=a.pop();switch(d){case "*":d=f*e;break;case "/":if(!e)return!1;d=f/e;break;case "%":if(!e)return!1;d=f%e;break;case "+":d=f+e;break;case "-":d=f-e;break;case "<<":d=f<<e;break;case ">>":d=f>>e;break;case ">>>":d=f>>>e;break;case "<":d=f<e?1:0;break;case "<=":d=f<=e?1:0;break;case ">":d=f>e?1:0;break;case ">=":d=f>=e?1:0;break;case "==":d=f==e?1:0;break;case "!=":d=f!=e?1:0;break;case "&":d=f&e;break;
case "^":d=f^e;break;case "|":d=f|e;break;case "&&":d=f&&e?1:0;break;case "||":d=f||e?1:0;break;default:return!1}a.push(d|0)}return!0}
function He(a,b,c){var d;if(b){b=Ie(a,b);for(var e=0,f=!1,g=b,h=[],k=[],n=b.split(/(\|\||&&|\||^|&|!=|==|>=|>>>|>>|>|<=|<<|<|-|\+|%|\/|\*)/);e<n.length;){var p=n[e++],t=p.length,p=Ca(p);if(!p){f=!0;break}p=Je(a,p,null,!1===c);if(void 0===p){f=!0;c=!1;break}h.push(p);if(e==n.length)break;var p=n[e++],C=p.length;k.length&&Ke[p]<Ke[k[k.length-1]]&&Ge(h,k,1);k.push(p);b=b.substr(t+C)}Ge(h,k)&&1==h.length||(f=!0);f?c&&a.j("error parsing '"+g+"' at character "+(g.length-b.length)):(d=h.pop(),c&&Le(a,null,
d))}return d}function Ie(a,b){for(var c,d=a.la?"(":"{",e=a.la?")":"}",f=new RegExp(a.la?"\\((.*?)\\)":"\\{(.*?)\\}");(c=b.match(f))&&!(0<=c[1].indexOf(d));){var g=He(a,c[1]);b=b.replace(d+c[1]+e,null!=g?J(a,g):"undefined")}for(;(c=b.match(/\[(.*?)]/))&&!(0<=c[1].indexOf("["));)b=b.replace("["+c[1]+"]","unimplemented");for(a=b;b=a.match(/\$([a-z]+)/i);){c=null;switch(b[1].toLowerCase()){case "ops":c=0}if(null==c)break;a=a.replace(b[0],c.toString())}return a}
function Je(a,b,c,d){var e;null!=b?(e=a.gb(b),0<=e?e=a.hb(e):(e=a.T[b],null==e&&(e=ra(b,a.ca))),null!=e||d||a.j("invalid "+(c?c:"value")+": "+b)):d||a.j("missing "+(c||"value"));return e}
function Le(a,b,c){var d,e=!1;if(void 0!==c){e=!0;d=c;var f=4,g="";if(!f||4<f)f=4;for(var h=0;h<f;h++){g&&(g=","+g);var k=d&255,n=void 0,p=8,t="";p?32<p&&(p=32):p=32;for(var C=null==k||isNaN(k),ca=n=n||p;0<p--;)ca||(t=","+t,ca=n),t=(C?"?":k&1?"1":"0")+t,k>>=1,ca--;g=t+g;d>>=8}d=q(c,0,!0)+" "+c+". "+ta(c,0,!0)+" "+("0b"+g);32<=c&&127>c&&(d+=" '"+String.fromCharCode(c)+"'")}a.j((null!=b?b+": ":"")+d);return e}
function Me(a,b){if(b)return Le(a,b,a.T[b]);var c=0;for(b in a.T)Le(a,b,a.T[b]),c++;return 0<c}function J(a,b,c){c=void 0===c?0:c;switch(a.ca){case 8:b=ta(b,0<c?(c+2)/3|0:0);break;case 10:(a=0<c?Math.ceil(.3*c):0)?11<a&&(a=11):a=b&-65536?10:5;b=sa(b,10,a);break;default:b=q(b,0<c?c+3>>2:0)}0>c?c=b.replace(/^0+([0-9A-F]+)$/i,"$1"):c=b;return c}var Ke={"||":0,"&&":1,"|":2,"^":3,"&":4,"!=":5,"==":5,">=":6,">":6,"<=":6,"<":6,">>>":7,">>":7,"<<":7,"-":8,"+":8,"%":9,"/":9,"*":9};
function Ne(a){Ee.call(this,a);this.ya=!1;this.la=!0;this.wa=18;this.xa=X();this.K=X(0);this.ga=X(0);this.ba=X(0);this.F=[];this.b=this.M=this.I=[];Oe(this);this.R=this.ka=0;this.i=[];this.pa=void 0;Pe(this);this.D=this;this.ma={};this.X=this.sb=0;this.S=null;this.O=[];Qe(this,a.messages);this.va=a.commands;this.N=0;this.Ba=this.qa=null;this.B=this.Aa=this.za=this.fa=this.oa=0;this.na=this.ea=this.aa=null;var b=this;window?void 0===window[w]&&(window[w]=function(a){return bd(b,a)}):void 0===global[w]&&
(global[w]=function(a){return bd(b,a)})}m(Ne,Ee);function Re(a){a=a&&a.C;null==a&&(a=-1);return a}function X(a,b,c){return{C:void 0===a?null:a,Sa:void 0===b?!1:b,ha:!1,ca:c}}function Se(a,b,c,d){a.C=b;a.Sa=c||!1;a.ha=!1;a.ca=d}function Te(a){return[a.C,a.Sa,a.ha,a.ca,a.Va]}function Ue(a,b){var c=X(b[0],b[1],b[2]);c.ha=b[3];b[4]&&(c.ob=Fe(a,c.Va=b[4]));return c}l=Ne.prototype;
l.Ca=function(a,b,c,d){this.H=b;this.G=a;this.v=c;this.ea=a.u;this.wa=b.F;(a=Xc(a,"messages"))&&Qe(this,a);Ve(this,function(a){a:{var b=d.H.b,c=a[0],e=a=0,k=b.length;if(c){a=Re(We(d,c,d.ga));if(-1===a){d.j("invalid address: "+c);break a}e=a>>>d.H.i;k=1}d.j("blockid   physical   blockaddr  used    size    type");d.j("--------  ---------  ---------  ------  ------  ----");for(var c=-1,n=0;k--;){var p=b[e];p.type==c?n++||d.j("..."):(c=p.type,n=Hc[c],p&&d.j(q(p.id,8)+"  %"+q(e<<d.H.i,8)+"  %"+q(p.C,8)+
"  "+q(p.Ka,4,!0)+"  "+q(p.size,4,!0)+"  "+n),c!=Lc&&(c=-1),n=0);a+=16384;e++}}});Jb(this)};
l.ja=function(a,b,c){var d=this;switch(b){case "debugInput":return this.aa=this.J[b]=c,c.onkeydown=function(a){var b;if(13==a.keyCode)b=c.value,c.value="",bd(d,b,!0);else if(27==a.keyCode)c.value=b="";else if(38==a.keyCode?(b=null,d.w<d.u.length-1&&(b=d.u[++d.w])):40==a.keyCode&&(0<d.w?b=d.u[--d.w]:(b="",d.w=-1)),null!=b){var e=b.length;c.value=b;c.setSelectionRange(e,e)}null!=b&&a.preventDefault&&a.preventDefault()},!0;case "debugEnter":return this.J[b]=c,Va(c,function(){if(d.aa){var a=d.aa.value;
d.aa.value="";bd(d,a,!0);return!0}return!1}),!0;case "step":return this.J[b]=c,Va(c,function(a){var b=!1;Kb(d,!0)||(Lb(d,!0),b=pc(d,a?1:0,null),Lb(d,!1));return b}),!0}return!1};function ad(a){if(a.aa){var b=0,c=0;window&&(b=window.scrollX,c=window.scrollY);a.aa.focus();window&&window.scrollTo(b,c)}}l.Da=function(a,b){var c=-1,d=Re(a);-1!==d&&(c=zc(this.H,d),b&&null!=a.C&&(a.C+=b||1));return c};l.mb=function(a,b,c){var d=Re(a);-1!==d&&(uc(this.H,d,b),c&&null!=a.C&&(a.C+=c||1),I(this.G,-1))};
function We(a,b,c){var d,e;c||(c=X());var f=c.C;if(void 0!==b){b=Ie(a,b);"%"==b.charAt(0)&&(d=!0,b=b.substr(1));var g,f=b,h;if(f.match(/^[a-z_][a-z0-9_]*$/i))for(var f=f.toUpperCase(),k=0;k<a.F.length;k++){var n=a.F[k].U[f];if(null!=n){h=n.o;break}}null!=h&&(g=X(h));if(g)return g;0<=b.indexOf("0x")?e=16:0<=b.indexOf("0o")?e=8:0<=b.indexOf(".")&&(e=10);f=He(a,b,void 0)}null!=f&&(f=Xe(f,a.wa),Se(c,f,d,e));return c}function Ye(a,b,c){c&&(c=c.match(/(['"])(.*?)\1/))&&(b.ob=Fe(a,b.Va=c[2]))}
function Xe(a,b){0>a&&a>=-B&&(a+=E);return Math.trunc(Math.abs(a))%Math.pow(2,void 0===b?36:b)}function Z(a,b){return J(a,b.C)}function Ze(a){return ta(a/Qb,6)+" "+ta(a%Qb,6)}
function Qe(a,b){a.D=a;a.X=a.sb=536870916;a.S=null;a.O=[];b=Fe(a,b.replace("keys","key").replace("kbd","keyboard"),!1,"|");if(b.length)for(var c in Yb){var d;a:if(d=void 0,Array.prototype.indexOf)d=b.indexOf(c,d);else{d=d||0;0>d&&(d+=b.length);0>d&&(d=0);for(var e=b.length;d<e;d++)if(d in b&&b[d]===c)break a;d=-1}0<=d&&(a.X|=Yb[c],a.j(c+" messages enabled"))}}function Ve(a,b){for(var c in Yb)if(16==Yb[c]){a.ma[c]=b;break}}l.gb=function(a){return $e.indexOf(a.toUpperCase())};
l.hb=function(a){var b,c=this.v;switch(a){case af:b=c.i;break;case bf:b=c.K;break;case cf:b=c.b;break;case df:b=c.u&65536?1:0;break;case ef:b=c.u&32768?1:0;break;case ff:b=c.u&131072?1:0;break;case gf:b=c.u&32?1:0;break;case hf:b=c.u&262144?1:0}return b};
l.message=function(a,b){b&&(a+=" @"+Z(this,X(this.v.xa)));if(!this.S||a!=this.S)if(this.S=a,this.X&1073741824)this.O.push(a);else{var c;if(this.X&-2147483648&&this.v&&(c=this.v.A.L)||Kb(this,!0))this.W(),c&&(a+=" (cpu halted)");this.j(a);this.v&&(a=this.v,jd(a),a.fa=0,a.G&&I(a.G,void 0))}};
function Pe(a){var b;if(!pd(a))a.i&&a.i.length&&a.j("instruction history buffer freed"),a.R=0,a.i=[];else if(!a.i||!a.i.length){a.i=Array(jf);for(b=0;b<a.i.length;b++)a.i[b]=X();a.R=0;a.j("instruction history buffer allocated")}}function kf(a,b,c){if(!lf(a,c))return!1;oc(a.v,b);return!0}
function pc(a,b,c,d){if(!lf(a))return!1;var e="";null===c&&(e=(c=!a.qa||"tr"==a.qa)?"tr":"t");a.B=0;b||pd(a)&&qd(a,a.v.i,0);try{b=hd(a.v,b);var f=a.v.Ma(b);0<f&&(qc(a.v,f),a.B+=f,rc(a.v,f,!0),sc(a.v,f),a.fa++)}catch(g){"number"!=typeof g&&(a.B=0,Gb(a.v,g.stack||g.message))}!1!==d&&(a.ea&&a.ea.stop(),I(a.G,-1));$c(a,c||!1,e);return 0<a.B}l.W=function(a){this.v&&this.v.W(a)};function $c(a,b,c){b=void 0===b?!0:b;a.ya&&(c&&a.j(mf+c),Se(a.K,a.v.i),b&&1!=a.N?nf(a):of(a))}
function lf(a,b){var c;(c=!a.v||!Ib(a.v))||(c=a.v,c.A.V?c=!0:(c.j(c.toString()+" not powered"),c=!1),c=!c);return c||a.v.A.L?(b||a.j("cpu busy or unavailable, command ignored"),!1):!Hb(a.v)}l.ua=function(a,b){return!b&&(this.reset(!0),a)?this.restore(a):!0};l.ia=function(a,b){b&&this.j(a?"suspending":"shutting down");return a?this.save():!0};l.reset=function(a){Pe(this);this.fa=0;this.S=null;this.B=0;Se(this.K,this.v.i);this.A.L=!1;pf(this);a||$c(this)};
l.save=function(){var a=new G(this);a.set(0,Te(this.K));a.set(1,Te(this.ga));a.set(2,Te(this.ba));a.set(3,[this.u,this.P,this.X]);a.set(4,this.F);return a.data()};l.restore=function(a){var b=0;void 0!==a[3]&&(this.K=Ue(this,a[b++]),this.ga=Ue(this,a[b++]),this.ba=Ue(this,a[b++]),this.u=a[b][0],"string"==typeof this.u&&(this.u=[this.u]),this.P=a[b][1],this.X|=a[b][2]);a[4]&&(this.F=a[4]);return!0};l.start=function(a,b){this.N||this.j("running");this.A.L=!0;this.za=a;this.Aa=b};
l.stop=function(a,b){if(this.A.L){this.A.L=!1;this.B=b-this.Aa;if(!this.N){b="stopped";if(this.B){a-=this.za;var c=0<a?Math.round(1E3*this.B/a):0;b+=" (";pd(this)&&(b+=this.fa+" instructions, ",this.fa=0);b+=this.B+" cycles, "+a+" ms, "+c+" hz)"}else Mb(this,-2147483648)&&(b+=" (use the 't' command to execute blocked faults)");this.j(b)}$c(this,!0);ad(this);pf(this,this.v.i);this.S=null}};function pd(a){return 1<a.b.length||!!a.ka}
function qd(a,b,c){var d=-1;c||(d=a.v.f(b),2756==d>>23&&a.v.xa==b&&(b=od(a.v,1)));if(0<c&&(a.ka&&!--a.ka||Uc(a,b,1,a.b)))return!0;0<=c&&a.i.length&&(a.fa++,0>d&&(d=a.v.f(b)),0<=d&&(Se(a.i[a.R],b),++a.R==a.i.length&&(a.R=0)));return!1}
function qf(a,b,c,d){var e=X(b.C),f=a.Da(b,1),g,h,k,n=0,p=f/Ub|0,t;for(t in rf)if(g=rf[t][p&t]){h=+t;p>>=6;switch(h){case 32512:k=sf;n=p&3;break;case 32256:k=Wf;n=p&7;break;case 29248:k=Yf,n=(p&48)>>2|(p&6)>>1}break}k=k&&k[n]||"";"S"==k&&g>Zf&&(k="B");k=$f[g||0]+k;if(g){if(28700==h)n=f/Vb&127,h=J(a,n,-1);else if(n=f>>23&15,h=J(a,n,-1),g==ag&&(g=bg[n]))k=$f[g],h="";k=Ba(k,8)+(h?h+",":"");f&4194304&&(k+="@");k+=J(a,f&262143,-1);(f=f>>18&15)&&(k+="("+J(a,f,-1)+")")}else k=Ba(k,8)+Ze(f);f=k;g="";h=Z(a,
e)+":";if(-1!==e.C&&-1!==b.C){do if(k=a.Da(e,1),g+=" "+Ze(k),null==e.C)break;while(e.C!=b.C)}h+=Ba(g,16)+f;c&&(h=Ba(h,48)+";"+(c||""),h=a.v.A.Ga?h+("cycles="+cd(a.v).toString()+" cs="+q(a.v.za)):h+(null!=d?"="+d.toString():""));return h}
function cg(a,b,c,d){var e=-1,f,g,h=b.toUpperCase(),k;for(k in bg)if(g=bg[k],h==$f[g]){h=$f[ag];c=J(a,+k)+","+c;break}for(var n in rf){f=+n;var p=rf[n];switch(f){case 32512:k=sf;break;case 32256:k=Wf;break;case 29248:k=Yf;break;default:k=[""]}for(var t in p){g=p[t];for(var C=0;C<k.length;C++){var ca=k[C];"S"==ca&&g>Zf&&(ca="B");if(h==$f[g]+ca){e=29248!=f?C:(C&3)<<1|(C&12)<<2;e=(t|e<<6)*Ub;break}}if(0<=e)break}if(0<=e)break}if(0<=e)if(c)for(b=c.split(","),c=0;c<b.length;c++){if(h=b[c].trim()){if(1<
c){a.j("too many operands: "+h);e=-1;break}n=h.match(/(@?)([^(]*)\(?([^)]*)\)?/);if(!n){a.j("unknown operand: "+h);e=-1;break}h=n[2];c&&(h=h.replace(/(^|[^0-9])\./g,"$1"+Z(a,d)));t=He(a,h);if(void 0==t){e=-1;break}if(!c&&1<b.length)if(28700==f){if(0>t||127<t){a.j("device code out of range: "+h);e=-1;break}e+=t*Vb}else{if(0>t||15<t){a.j("accumulator address out of range: "+h);e=-1;break}e+=t<<23}else{if(0>t||262143<t){a.j("memory address out of range: "+h);e=-1;break}e+=t;if(h=n[3]){t=He(a,h);if(void 0==
t){e=-1;break}if(0>t||15<t){a.j("memory index out of range: "+h);e=-1;break}e+=t<<18}n[1]&&(e+=4194304)}}}else a.j("missing operand(s)"),e=-1;else a.j("unknown instruction: "+b);return e}function Oe(a){var b,c;a.b=["bp"];if(a.M)for(b=1;b<a.M.length;b++){c=a.M[b];c=Re(c);var d=a.H;Tc(d.b[c>>>d.i],!1)}a.M=["br"];if(a.I)for(b=1;b<a.I.length;b++)c=a.I[b],c=Re(c),d=a.H,Tc(d.b[c>>>d.i],!0);a.I=["bw"];a.oa=0;a.ka=0}
l.Fa=function(a,b,c){var d=!0;c||dg(this,a,b,!1,!0);if(a!=this.b){var e=Re(b);if(-1===e)this.j("invalid address: "+Z(this,b)),d=!1;else{var f=this.H;f.b[e>>>f.i].Fa(e&16383,a==this.I)}}d&&(a.push(b),c?b.ha=!0:(eg(this,a,a.length-1,"set"),Pe(this)));return d};function dg(a,b,c,d,e){var f=!1;c=Re(c);for(var g=1;g<b.length;g++){var h=b[g];if(c==Re(h)&&(!d||h.ha)){f=!0;h.ha||e||eg(a,b,g,"cleared");b.splice(g,1);b!=a.b&&(d=a.H,Tc(d.b[c>>>d.i],b==a.I));h.ha||Pe(a);break}}return f}
function fg(a,b){for(var c=1;c<b.length;c++)eg(a,b,c);return b.length-1}function eg(a,b,c,d){c=b[c];a.j(b[0]+" "+Z(a,c)+(d?" "+d:c.Va?' "'+c.Va+'"':""))}function pf(a,b){if(void 0!==b)Uc(a,b,1,a.b,!0),a.N=0;else for(b=1;b<a.b.length;b++){var c=a.b[b];if(c.ha){if(!dg(a,a.b,c,!0))break;b=0}}}
function Uc(a,b,c,d,e){var f=!1;if(!a.oa++)for(var g=1;!f&&g<d.length;g++){var h=d[g];if(!e||h.ha)for(var k=Re(h)&(d==a.b?65535:-1),n=0;n<c;n++)if(b+n==k){var p,f=!0;h.ha&&(dg(a,d,h,!0),e=!0);if(p=h.ob){for(var f=!1,t=0;t<p.length;t++)if(!gg(a,p[t],!0)){if(p[t].indexOf("if")){f=!0;break}for(var C=t+1;C<p.length&&p[C].indexOf("else");C++)t++;if(C==p.length){f=!0;break}}a.v.A.L||(f=!0)}if(f){e||eg(a,d,g,"hit");break}}}a.oa--;return f}
function hg(a,b){b=void 0===b?!0:b;for(var c="",d=0;16>d;d++){!d||d&3||(c+="\n");var e=a,f=ta(d,2);Se(e.xa,d);f+="="+J(e,e.Da(e.xa),36)+" ";c+=f}if(b){b="";for(d=0;d<$e.length;d++)(e=$e[d]||"")&&(e+="="+J(a,a.hb(d),d>=df?1:d==bf?23:18)+" "),b+=e;c+="\n"+b}return c}l.tb=function(a,b){return a[0]>b[0]?1:a[0]<b[0]?-1:0};
function xe(a,b,c,d,e){var f=[],g;for(g in e){var h=e[g];"number"==typeof h&&(e[g]=h={o:h});var k=h.o,n=h.a;if(void 0!==k){var p=f,k=[k>>>0,g],t=Da(p,k,a.tb);0>t&&p.splice(-(t+1),0,k)}n&&(h.a=n.replace(/''/g,'"'))}a.F.push({hd:b,C:c,Hb:d,U:e,pb:f})}function ig(a,b,c){var d=[],e=Re(b)>>>0;for(b=0;b<a.F.length;b++){var f=a.F[b],g=f.C>>>0,h=f.Hb;if(e>=g&&e<g+h){e=Da(f.pb,[e-g],a.tb);0<=e?jg(a,b,e,d):c&&(e=~e,jg(a,b,e-1,d),jg(a,b,e,d));break}}return d}
function jg(a,b,c,d){var e={},f=a.F[b].pb,g=0,h=null;0<=c&&c<f.length&&(g=f[c][0],h=f[c][1]);h&&(e=a.F[b].U[h],h="."==h.charAt(0)?null:e.l||h);d.push(h);d.push(g);d.push(e.a);d.push(e.c)}
function kg(a,b){var c=We(a,b[1],a.ba);if(c){var d=b[2];void 0==d?(a.j("begin assemble at "+Z(a,c)),a.P=!0,I(a.G)):0<=d.indexOf(":")?a.na?a.j("assembly already in progress"):a.na=new De(d,a,function(b,c,d){d?a.j("error assembling "+c+": ("+d+")"):a.j("loadAssembly()");a.na=null}):(b.shift(),b.shift(),b.shift(),b=cg(a,d,b.join(""),c),0<=b&&(a.mb(c,b),a.j(qf(a,c))))}}
function lg(a,b){var c=b.match(/^\s*([A-Z_]?[A-Z0-9_]*)\s*(=?)\s*(.*)$/i);if(c){if(!c[1])return Me(a)||a.j("no variables"),!0;if(!c[2])return Me(a,c[1]);if(!c[3])return delete a.T[c[1]],!0;b=He(a,c[3]);return void 0!==b?(a.T[c[1]]=b,!0):!1}a.j("invalid assignment:"+b);return!1}
function mg(a,b,c){var d=null;if(b=We(a,b)){var e=ig(a,b,!0);if(e.length){var f,g;e[0]&&(g="",(f=b.C-e[1])&&(g=" + "+q(f,4,!0)),f=e[0]+" ("+J(a,e[1])+")"+g,c&&a.j(f),d=f);4<e.length&&e[4]&&(g="",(f=e[5]-b.C)&&(g=" - "+q(f,4,!0)),f=e[4]+" ("+J(a,e[5])+")"+g,c&&a.j(f),d||(d=f))}else c&&a.j("no symbols")}return d}
function nf(a,b){var c;if(b&&"?"==b[1])a.j("register commands:"),a.j("\tr\tdump registers"),a.j("\trm\tdump misc registers"),a.j("\trx [#]\tset flag or register x to [#]");else{var d=a.v,e=void 0;null==c&&(c=!0);if(b&&1<b.length){var f=b[1];if("m"==f)e=!0;else{var g=f.indexOf("=");if(0<g)b=f.substr(g+1),f=f.substr(0,g);else if(2<b.length)b=b[2];else{a.j("missing value for "+b[1]);return}g=He(a,b);if(void 0===g)return;b=a.gb(f);if(0>b){a.j("unknown register: "+f);return}var f=0,h=a.v;switch(b){case af:H(h,
g);Se(a.K,h.i);break;case df:f=65536;break;case ef:f=32768;break;case ff:f=131072;break;case gf:f=32;break;case hf:f=262144}f&&(h.u=g?h.u|f:h.u&~f);I(a.G);a.j("updated registers:")}}a.j(hg(a,e));c&&(Se(a.K,d.i),of(a,Z(a,a.K)))}}function ng(a,b){b=Ca(b);var c=b.match(/^(['"])(.*?)\1$/);c?1<c[2].length?a.j(c[2]):Le(a,null,c[2].charCodeAt(0)):He(a,b,!0)}
function og(a,b,c){if("?"==c)a.j("trace commands:"),a.j("\tt  [#]\ttrace # instructions"),a.j("\ttr [#]\ttrace # instructions with register updates"),a.j("\ttc [#]\ttrace # cycles"),a.j("note: bn [#] breaks after # instructions without updates");else{var d="t"!=b;c=Je(a,c,null,!0)||1;var e=0;"tc"==b&&(e=c,c=1);a.qa=b;Ua(c,function(){return Lb(a,!0)&&pc(a,e,d,!1)},function(){a.ea&&a.ea.stop();I(a.G,-1);Lb(a,!1)})}}
function of(a,b,c,d){if(b=We(a,b,a.K)){void 0===d&&(d=1);var e=256;if(void 0!==c)if("l"==c.charAt(0))c=Je(a,c.substr(1)),null!=c&&(d=c);else{d=We(a,c);if(!d||d.C<b.C)return;e=d.C-b.C;if(256<e){a.j("range too large");return}d=-1}for(c=0;0<e&&d--;){var f=Kb(a,!1)||a.N?a.B:null,g=null!=f?"cycles":null,h=ig(a,b),k=b.C;if(h[0]&&d&&(!c&&d||0>h[0].indexOf("+"))){var n=h[0]+":";h[2]&&(n+=" "+h[2]);a.j(n)}h[3]&&(g=h[3],f=null);h=a.ba;n=b;h.C=n.C;h.Sa=n.Sa;h.ha=n.ha;h.ca=n.ca;a.j(qf(a,b,g,f));e-=b.C-k;c++}}}
function gg(a,b,c){var d=!0;try{b.length&&"end"!=b?c||a.j(mf+b):(a.P&&(a.j("ended assemble at "+Z(a,a.ba)),a.P=!1),b="");var e=b.charAt(0);if('"'==e||"'"==e)return!0;a.S=null;if(Ib(a)&&0<b.length){a.P&&(b="a "+Z(a,a.ba)+" "+b);var f=!1,g=b.replace(/ +/g," ").split(" ");g[0]=g[0].toLowerCase();if(g&&g.length)for(var h=g[0],k=h.charAt(0),n=1;n<h.length;n++){var p=h.charAt(n);if("?"==k||"r"==k||"a">p||"z"<p){g[0]=h.substr(n);g.unshift(h.substr(0,n));break}}switch(g[0].charAt(0)){case "a":kg(a,g);break;
case "b":a:{var t=g[0],C=g[1],ca=b;if("?"==C)a.j("breakpoint commands:"),a.j("\tbp #\tset exec breakpoint"),a.j("\tbr #\tset read breakpoint"),a.j("\tbw #\tset write breakpoint"),a.j("\tbc #\tclear breakpoint (* to clear all)"),a.j("\tbl\tlist all breakpoints"),a.j("\tbn [#]\tbreak after # instruction(s)");else{var Ha=t.charAt(1);if("l"==Ha){var xd;xd=0+fg(a,a.b);xd+=fg(a,a.M);(xd+=fg(a,a.I))||a.j("no breakpoints")}else if("n"==Ha){var tf=+C||0;C&&(a.ka=tf);a.j("break after "+tf+" instruction(s)")}else if(void 0===
C)a.j("missing breakpoint address");else{var Y=X();if("*"!=C&&(Y=We(a,C,a.K),!Y))break a;"c"==Ha?null==Y.C?(Oe(a),a.j("all breakpoints cleared")):dg(a,a.b,Y)||dg(a,a.M,Y)||dg(a,a.I,Y)||a.j("breakpoint missing: "+Z(a,Y)):null!=Y.C&&(Ye(a,Y,ca),"p"==Ha?a.Fa(a.b,Y):"r"==Ha?a.Fa(a.M,Y):"w"==Ha?a.Fa(a.I,Y):a.j("unknown breakpoint command: "+Ha))}}}break;case "c":a.ta&&(a.ta.value="");break;case "d":a:{var Za,$a=g[0],la=g[1],ya=g[2],Qg=g[3];if("?"==la){var ab="";for(Za in Yb)a.ma[Za]&&(ab&&(ab+=","),ab+=
Za);ab+=",state,symbols";a.j("dump memory commands:");a.j("\tdw [a] [n]    dump n words at address a");a.j("\tds [a] [n]    dump n words at address a as JSON");a.j("\tdh [p] [n]    dump n instructions from history position p");ab.length&&a.j("dump extension commands:\n\t"+ab)}else if("state"==la){var yd=pg(a.G,!0);"console"==ya?console.log(yd):(a.ta&&(a.ta.value=""),yd&&a.j(yd))}else if("symbols"==la)for(var zd=0;zd<a.F.length;zd++){var Ad=a.F[zd],bb;for(bb in Ad.U)if("."!=bb.charAt(0)){var uf=Ad.U[bb].o;
if(void 0!==uf){var vf=Ad.U[bb].l;vf&&(bb=vf);a.j(J(a,uf)+" "+bb)}}}else{if("d"==$a){for(Za in Yb)if(g[1]==Za){var wf=a.ma[Za];wf?(g.shift(),g.shift(),wf(g)):a.j("no dump registered for "+la);break a}la||($a=a.Ba||"dw")}else a.Ba=$a;if("dh"==$a){var xf=la,yf=ya,zf="",Af=0,ha=a.R,ma=a.i;if(ma.length){var da=+xf||a.pa,vb=+yf||10;isNaN(da)?da=vb:zf="more ";da>ma.length&&(a.j("note: only "+ma.length+" available"),da=ma.length);ha-=da;0>ha&&(null==ma[ma.length-1].C?(da=ha+da,ha=0):ha+=ma.length);var Bd=
[];"call"==yf&&(vb=1E5,Bd=["CALL"]);for(void 0!==xf&&a.j(da+" instructions earlier:");0<vb&&ha!=a.R;){var Bf=ma[ha++];if(null==Bf.C)break;var wb=X(Bf.C),Rg=da--,Cf=qf(a,wb,"history",Rg);(!Bd.length||0<=Cf.indexOf(Bd[0]))&&a.j(Cf);wb.eb&&(ha+=wb.eb,vb-=wb.eb,da-=wb.eb);ha>=ma.length&&(ha=0);a.pa=da;Af++;vb--}}Af||(a.j("no "+zf+"history available"),a.pa=void 0)}else{var cb=We(a,la,a.ga);if(cb){var Ia=0,Df="ds"==$a;if(ya){if("l"==ya.charAt(0))ya=ya.substr(1)||Qg,Ia=Je(a,ya);else{var Ef=We(a,ya);Ef&&
(Ia=Ef.C-cb.C)}0>Ia&&(Ia=0);65536<Ia&&(Ia=65536)}var Sg=a.ca;cb.ca&&(a.ca=cb.ca);for(var Ff="db"==$a?1:2,Cd=Ia||32,Dd=1==Ff?2:4,Tg=(Cd+Dd-1)/Dd|0||1,Ja="";Tg--&&0<Cd;){for(var Ka="",Gf="",la=Z(a,cb),Hf=Dd;0<Hf--&&0<Cd--;){var vc=a.Da(cb,1);Df?(Ka&&(Ka+=","),Ka+=vc):(Ka+=Ze(vc),Ka+="  ");for(var If=0;1==Ff&&6>If;If++)Gf+=String.fromCharCode((vc%64|0)+32),vc/=64}Ja&&(Ja+="\n");Ja=Df?Ja+(Ka+","):Ja+(la+": "+Ka+(0>Hf?" "+Gf:""))}Ja&&a.j(Ja);a.ca=Sg}}}}break;case "e":if("else"==g[0])break;var Jf,Kf,Lf=
g[0],Ed=g[1];"e"==Lf||"ew"==Lf?(Jf=a.Da,Kf=a.mb):Ed=null;if(null==Ed)a.j("edit memory commands:"),a.j("\tew [a] [...]  edit words at address a");else{var wc=We(a,Ed,a.ga);if(wc)for(var Fd=2;Fd<g.length;Fd++){var xb=He(a,g[Fd]);if(void 0===xb)break;xb=Xe(xb);a.j("changing "+Z(a,wc)+" from "+Ze(Jf.call(a,wc))+" to "+Ze(xb));Kf.call(a,wc,xb,1)}}break;case "g":a:{var Mf=g[1],Ug=b;if(void 0!==Mf){var Gd=We(a,Mf);if(!Gd)break a;Ye(a,Gd,Ug);a.Fa(a.b,Gd,!0)}kf(a,!0,c)}break;case "h":a.A.L?(c||a.j("halting"),
a.W()):Kb(a,!0)||c||a.j("already halted");break;case "i":if("if"==g[0]){var Hd;var yb=b.substr(2),yb=Ca(yb);He(a,yb)?(c||a.j("true: "+yb),Hd=!0):(c||a.j("false: "+yb),Hd=!1);Hd||(d=!1);break}f=!0;break;case "k":var Vg=g[0];if("?"==g[1])a.j("stack trace commands:"),a.j("\tk\tshow frame addresses"),a.j("\tks\tshow symbol information");else{var Id=0,Jd=X(),zb=X();for(a.j("stack trace for "+Z(a,zb));10>Id;){for(var La=null,Wg=256;65536>zb.C>>>0;){Jd.C=a.Da(zb,2);if(null==zb.C||!Wg--)break;if(!(Jd.C&1)){for(var Xg=
a,xc=Jd,Nf=null,Ab=xc.C,Of=Ab,Kd=1;6>=Kd&&Ab;Kd++){if(2<Kd){xc.C=Ab;var yc=qf(Xg,xc);if(0<=yc.indexOf("JSR")){var Pf=yc.indexOf(" ");if(Ab+(yc.indexOf(" ",Pf+1)-Pf-1)/2==Of){Nf=yc;break}}}Ab-=2}xc.C=Of;if(La=Nf)break}}if(!La||null==La)break;var Qf=null;if("ks"==Vg){var Rf=La.match(/[0-9A-F]+$/);Rf&&(Qf=mg(a,Rf[0]))}La=Ba(La,50)+"  ;"+(Qf||"stack="+Z(a,zb));a.j(La);Id++}Id||a.j("no return addresses found")}break;case "l":if("ln"==g[0]){mg(a,g[1],!0);break}f=!0;break;case "m":a:{var na,oa=null,K=g[1];
"?"==K&&(K=void 0);if(void 0!==K){var za=0;if("all"==K)za=1879046143,K=null;else if("on"==K)oa=!0,K=null;else if("off"==K)oa=!1,K=null;else{"keys"==K&&(K="key");"kbd"==K&&(K="keyboard");for(na in Yb)if(K==na){za=Yb[na];oa=!!(a.X&za);break}if(!za){a.j("unknown message category: "+K);break a}}if(za)if("on"==g[2])a.X|=za,oa=!0;else if("off"==g[2]&&(a.X&=~za,oa=!1,1073741824==za)){for(var Sf=1E3<=a.O.length?a.O.length-1E3:0;Sf<a.O.length;)a.j(a.O[Sf++]);a.O=[]}}var Yg=0,Bb="";for(na in Yb)if(!K||K==na){var Zg=
!!(a.X&Yb[na]);if(null===oa||oa==Zg)Bb&&(Bb+=","),++Yg%10||(Bb+="\n\t"),"key"==na&&(na="keys"),Bb+=na}void 0===K&&a.j("message commands:\n\tm [category] [on|off]\tturn categories on/off");a.j((null!==oa?oa?"messages on:  ":"messages off: ":"message categories:\n\t")+(Bb||"none"));Pe(a)}break;case "p":if("print"==g[0]){ng(a,b.substr(5));break}var Tf=g[0],Uf="p"==Tf?0:"pr"==Tf?1:-1;if("?"==g[1]||0>Uf)a.j("step commands:"),a.j("\tp\tstep over instruction"),a.j("\tpr\tstep over instruction with register update");
else if(a.N)a.j("step in progress");else{var Vf=X(a.v.i);a.Da(Vf);a.N?(a.Fa(a.b,Vf,!0),kf(a)||(a.G&&gd(a.G),a.N=0)):og(a,Uf?"tr":"t")}break;case "r":if("reset"==b){a.G&&a.G.reset();break}nf(a,g);break;case "s":a:switch(g[1]){case "base":if(g[2]){var Cb=+g[2];if(8==Cb||10==Cb||16==Cb)a.ca=Cb;else{a.j("invalid base: "+Cb);break}}a.j("default base: "+a.ca);break;case "cs":var Db;void 0!==g[3]&&(Db=+g[3]);switch(g[2]){case "int":a.v.ka=Db;break;case "start":a.v.Aa=Db;break;case "stop":a.v.ma=Db;break;
default:a.j("unknown cs option");break a}void 0!==Db&&Zc(a.v);a.j("checksums "+(a.v.A.Ga?"enabled":"disabled"));break;case "sp":void 0!==g[2]&&(dd(a.v,+g[2])||a.j("warning: using 1x multiplier, previous target not reached"));a.j("target speed: "+(a.v.ba.toFixed(2)+"Mhz")+" ("+a.v.ea+"x)");break;default:if(g[1]){a.j("unknown option: "+g[1]);break}case "?":a.j("debugger options:"),a.j("\tbase #\t\tset default base to #"),a.j("\tcs int #\tset checksum cycle interval to #"),a.j("\tcs start #\tset checksum cycle start count to #"),
a.j("\tcs stop #\tset checksum cycle stop count to #"),a.j("\tsp #\t\tset speed multiplier to #")}break;case "t":og(a,g[0],g[1]);break;case "u":of(a,g[1],g[2],8);break;case "v":if("var"==g[0]){lg(a,b.substr(3))||(d=!1);break}if("ver"==g[0]){a.j((Ob||"PDP10")+" version 1.34.2 ("+a.v.qb+",RELEASE)");a.j(window?window.navigator.userAgent:"");break}f=!0;break;case "?":if(g[1]){ng(a,b.substr(1));break}var Ld="commands:",Md;for(Md in qg)Ld+="\n"+Ba(Md,9)+qg[Md];pd(a)||(Ld+="\nnote: history disabled if no exec breakpoints");
a.j(Ld);break;default:f=!0}f&&(a.j("unknown command: "+b),d=!1)}}catch(Xf){a.j("Debugger "+(Xf.stack||Xf.message)),d=!1}return d}function bd(a,b,c){b=Fe(a,b,c);for(var d in b)if(!gg(a,b[+d]))return!1;return!0}
var qg={"?":"help/print","a [#]":"assemble","b [#]":"breakpoint",c:"clear output","d [#]":"dump memory","e [#]":"edit memory","g [#]":"go [to #]",h:"halt","if":"eval expression","int [#]":"request interrupt",k:"stack trace",ln:"list nearest symbol(s)",m:"messages",p:"step over",print:"print expression",r:"dump/set registers",reset:"reset machine",s:"set options","t [#]":"trace","u [#]":"unassemble","var":"assign variable",ver:"print version"},Zf=20,ag=85,$f=".WORD HLL HLLZ HLLO HLLE HRL HRLZ HRLO HRLE HRR HRRZ HRRO HRRE HLR HLRZ HLRO HLRE MOVE MOVS MOVN MOVM EXCH BLT PUSH POP LDB DPB IBP ILDB IDPB SETZ SETO SETA SETCA SETM SETCM AND ANDCA ANDCM ANDCB IOR ORCA ORCM ORCB XOR EQV LSH LSHC ROT ROTC ADD SUB MUL IMUL DIV IDIV ASH ASHC FSC FADR FSBR FMPR FDVR DFN UFA FAD FSB FMP FDV AOBJP AOBJN CAI CAM JUMP SKIP AOJ AOS SOJ SOS TR TL TD TS XCT JFFO JFCL JSR JSP JRST JSA JRA PUSHJ POPJ BLKI DATAI BLKO DATAO CONO CONI CONSZ CONSO UUO JOV JCRY0 JCRY1 JCRY JFOV".split(" "),
af=0,bf=1,cf=2,df=3,ef=4,ff=5,gf=6,hf=7,$e="PC RA EA C0 C1 OV ND PD".split(" "),rg={},rf=(rg[28672]={0:101},rg[32704]={5632:64,5696:63,5760:58,5824:27,5888:28,5952:25,6016:29,6080:26,10240:56,10304:48,10368:46,10432:84,10496:57,10560:49,10624:47,10752:21,10816:22,10880:69,10944:70,11008:88,11072:ag,11136:83,11264:91,11328:23,11392:24,11456:92,11520:86,11584:87,11648:89,11712:90},rg[32512]={6144:65,6400:59,6656:66,6912:60,7168:67,7424:61,7680:68,7936:62,8192:17,8448:18,8704:19,8960:Zf,9216:53,9472:52,
9728:55,9984:54,11776:50,12032:51,16384:30,16640:36,16896:37,17152:34,17408:38,17664:32,17920:44,18176:40,18432:39,18688:45,18944:33,19200:41,19456:35,19712:42,19968:43,20224:31,20480:1,20736:5,20992:2,21248:6,21504:3,21760:7,22016:4,22272:8,22528:9,22784:13,23040:10,23296:14,23552:11,23808:15,24064:12,24320:16},rg[32256]={12288:71,12800:72,13312:73,13824:74,14336:75,14848:76,15360:77,15872:78},rg[29248]={24576:79,24640:80,25088:81,25152:82},rg[28700]={28672:93,28676:94,28680:95,28684:96,28688:97,
28692:98,28696:99,28700:100},rg),sf=["","I","M","S"],Wf=" L E LE A GE N G".split(" "),Yf="N NE NA NN Z ZE ZA ZN C CE CA CN O OE OA ON".split(" "),bg={8:102,4:103,2:104,6:105,1:106},jf=1E3,mf=">> ";Xa(function(){for(var a=x(document,w,"debugger"),b=0;b<a.length;b++){var c=a[b],d=v(c),d=new Ne(d);rb(d,c)}});
function sg(a,b,c){u.call(this,"Computer",a,33554432);this.A.V=!1;this.R=null;tg(this,b);this.O=Xc(this,"autoPower",a,6);this.w=0;this.aa=+a.busWidth||+a.buswidth;this.M=this.F=this.N=null;this.K=this.T=!1;this.I=this.B=null;this.S=this.P=!1;this.ba=Xc(this,"url")||"";(Math.random()+.1).toString(36);this.i=ug(this);if(this.v=qb("CPU",this.id)){this.D=qb("Debugger",this.id);this.H=new Ac({id:this.Qa+".bus",busWidth:this.aa},this.v,this.D);var d,e=ob(this.id);if((this.u=qb("Panel",this.id))&&this.u.ta)for(b=
0;b<e.length;b++)d=e[b],d.da=this.u.da,d.j=this.u.j,d.ta=this.u.ta;this.j(Ob+" v1.34.2\nCopyright \u00a9 2012-2017 Jeff Parsons <Jeff@pcjs.org>\nLicense: GPL version 3 or later <http://gnu.org/licenses/gpl.html>");for(b=0;b<e.length;b++)d=e[b],d.Ca&&d.Ca(this,this.H,this.v,this.D);b=null;d=Xc(this,"resume",a);void 0!==d&&(1<d.length?b=this.F=d:this.b=parseInt(d,10));var f;if(a=Xc(this,"state")||(f=!0,a.state))this.N=b=a,f||(this.K=!0,this.b=vg),this.b&&(this.I=new G(this,"1.34.2"),wg(this.I)?b=null:
delete this.I);!b&&this.b&&(b=xg(this))&&(this.K=!0);if(b){var g=this;Fa(b,null,!0,function(a,b,c){c?(g.F=null,g.K=!1,g.da("Unable to load machine state from server (error "+c+(b?": "+Ca(b):"")+")")):(g.M=b,g.T=!0);Jb(g)})}else Jb(this);this.J.power||(this.O=!0);!c&&this.O&&yg(this,this.Ja)}else r("Unable to find CPU component")}m(sg,u);function tg(a,b){if(!b){var c;if("object"==typeof resources&&(c=resources.parms))try{b=eval("("+c+")")}catch(d){r(d.message+" ("+c+")")}}a.R=b}
function Xc(a,b,c,d){var e=b.toLowerCase(),e=Sa(b)||Sa(e);void 0===e&&a.R&&(e=a.R[b]);void 0===e&&c&&(e=c[b]);void 0===e&&"object"==typeof resources&&resources[b]&&(e=b);void 0===e&&(e=void 0);if("string"==typeof e&&d)switch(d){case 4:e=+e;isNaN(e)&&(e=0);break;case 6:e="true"==e}return e}function yg(a,b,c){for(var d=ob(a.id),e=0;e<=d.length;e++){var f=e<d.length?d[e]:a;if(!Ib(f)){Ib(f,function(){yg(a,b,c)});return}}b.call(a,c)}
function zg(a,b){var c=new G(a,"1.34.2",Ag);if(wg(c)&&Bg(c)){var d=c.get(Cg),e=b?b.get(Cg):"unknown";d!=e&&(a.da("Machine state may be out-of-date\n("+d+" vs. "+e+")\nCheck your browser's local storage limits"),b||c.clear())}}l=sg.prototype;
l.Ja=function(a){void 0===a&&(a=this.b||(this.M?Dg:vg));if(!this.w){this.w++;var b=!1,c=!1;this.P=!1;var d=this.I||new G(this,"1.34.2");if(a==Eg)b=!0;else if(a>vg){if(wg(d,this.M)){this.B=new G(this,"1.34.2",Fg);wg(this.B)&&(Gg(this,d),a=Hg,Ig(this.B));this.B.set(Cg,Ea());Jg(this.B);var e=this.b&&!this.K;if(a==Dg||nb("Click OK to restore the previous "+Ob+" machine state, or CANCEL to reset the machine.")){if(c=Bg(d)){var f=d.get("code"),g=d.get("data");f&&("ok"==f?wg(d,g):("error"==f&&"no machine state"!=
g?(this.da("Error: "+g),"unable to verify user"==g&&(Qa(Kg,""),this.i=null)):this.j(f+": "+g),Ig(d),wg(d)?(c=Bg(d),e=!0):c=!1))}e&&zg(this,c?d:null)}else a==Hg&&d.clear()}else zg(this);delete this.M;delete this.I}e=ob(this.id);for(f=0;f<e.length;f++)g=e[f],g!==this&&g!=this.v&&(c=Lg(this,g,d,b,c));b=[d,a,c];a!=Eg?yg(this,this.ub,b):this.ub(b)}};
function Lg(a,b,c,d,e){if(!b.A.V){b.A.V=!0;var f=null;try{if(e&&((f=c.get(b.id))||(f=c.get(b.id.replace(/[a-z0-9]\./i,".")))),"string"===typeof f&&(f=null),!b.ua(f,d)&&f&&(r("Unable to restore state for "+b.type),a.N&&!a.T?(c.clear(),a.b=vg,window&&window.location.reload()):a.P=!0,b.ua(null),e=!1),!d&&b.jb){var g=b.jb.split("|");for(a=0;a<g.length;a++)b.status(g[a])}}catch(h){r("Error restoring state for "+b.type+" ("+h.message+")")}}return e}
l.ub=function(a){var b=a[0],c=0>a[1];a=a[2];this.S=!0;this.A.V=!0;var d=this.J.power;d&&(d.textContent="Shutdown");this.v&&(Lg(this,this.v,b,c,a),I(this,-2),this.v.Z());this.P&&(Gg(this,b),b.clear());!c&&this.B&&(this.B.clear(),delete this.B);this.w=0};
function Gg(a,b){if(nb("There may be a problem with your "+Ob+" machine.\n\nTo help us diagnose it, click OK to send this "+Ob+" machine state to http://www.pcjs.org.")){var c=a.ba;a=a.i||"";b=b.toString();var d={};d.app=Ob;d.ver="1.34.2";d.url=c;d.user=a;d.type="bug";d.data=b;Fa("http://www.pcjs.org/api/v1/report",d,!0)}}
function pg(a,b,c){var d,e="none";if(a.w)return null;a.w--;var f=new G(a,"1.34.2"),g=new G(a,"1.34.2",Ag),h=Ea();g.set(Cg,h);f.set(Cg,h);f.set(Mg,"1.34.2");f.set(Ng,window?window.location.href:null);f.set(Og,window?window.navigator.userAgent:"");a.v&&a.v.ia&&(c&&(b&&(a.v.A.Z=a.v.A.L),a.v.W()),d=a.v.ia(b,c),"object"===typeof d&&f.set(a.v.id,d),c&&(a.v.A.V=!1,!1===d&&(e=null)));for(var h=ob(a.id),k=0;k<h.length;k++){var n=h[k];n.A.V&&(n.ia&&(d=n.ia(b,c),"object"===typeof d&&f.set(n.id,d)),c&&(n.A.V=
!1,!1===d&&(e=null)))}e&&(c?(h=d=!1,b?(a.i&&Pg(a,a.i,f.toString()),Jg(g)&&Jg(f)||(e=null,d=h=!0)):a.b&&(d=!0,h=a.b==$g),d&&f.clear(h)):e=f.toString());c&&(a.A.V=!1,b=a.J.power)&&(b.textContent="Power");a.w=0;return e}
l.reset=function(){this.A.reset=!0;this.H&&this.H.reset&&(Nb(this,"Resetting "+this.H.type),this.H.reset());this.v&&this.v.reset&&(Nb(this,"Resetting "+this.v.type),this.v.reset());for(var a=ob(this.id),b=0;b<a.length;b++){var c=a[b];c!==this&&c!==this.H&&c!==this.v&&c.reset&&(Nb(this,"Resetting "+c.type),c.reset())}this.A.reset=!1;I(this,-1)};l.start=function(a,b){for(var c=ob(this.id),d=0;d<c.length;d++){var e=c[d];"CPU"!=e.type&&e!==this&&e.start&&e.start(a,b)}I(this,-1)};
l.stop=function(a,b){for(var c=ob(this.id),d=0;d<c.length;d++){var e=c[d];"CPU"!=e.type&&e!==this&&e.stop&&e.stop(a,b)}I(this,-1)};
function I(a,b){if(a.v){var c=a.v,d=b||0,e=c.J.speed;e&&(0>=d||30<=(c.Xa+=d))&&(e.textContent=c.A.L?c.aa.toFixed(2)+"Mhz":"Stopped",c.Xa=0)}if(a.u&&(a=a.u,b=b||0,a.M)){c=a.v.A.L;d=!!(a.v.B&8);if(0>=b||60<=(a.K+=b)){e=a.v.i;if(a.J.PC){var f=a.D&&a.D.ca||8,e=e||0,e=8==f?ta(e,void 0):q(e,void 0);a.J.PC.textContent!=e&&(a.J.PC.textContent=e)}a.K=0}-1>b?a.i=a.v.i:0<b&&c&&!d&&(a.i=a.v.va);gc(a,a.i);ac(a,a.w)}}
l.ja=function(a,b,c){var d=this;switch(b){case "power":return this.J[b]=c,c.onclick=function(){d.w||(d.A.V?pg(d,!1,!0):yg(d,d.Ja))},!0;case "reset":return this.J[b]=c,c.onclick=function(){if(d.A.V&&!d.w)if(d.b&&!d.F){var a=nb("Click OK to save changes to this "+Ob+" machine.\n\nWARNING: If you CANCEL, all disk changes will be discarded.");pg(d,a,!0);!a&&d.N?window&&window.location.reload():d.Ja(vg)}else d.reset(),d.v&&!d.D&&d.v.Z()},!0;case "save":if(wa(Ma(),"pcjs.org"))c.parentNode.removeChild(c);
else return this.J[b]=c,c.onclick=function(){var a=ug(d,!0);if(a){var b=!!(d.b&&!d.F||d.N),c=pg(d,b);b?Pg(d,a,c):d.da("Resume disabled, machine state not saved")}},!0}return!1};
function ug(a,b){var c=a.i;c||((c=Pa(Kg),void 0!==c)?!c&&b&&(b=null,window&&(b=window.prompt("Saving machine states on the pcjs.org server is currently unsupported.\n\nIf you're running your own server, enter your user ID below.","")),c=b)&&((c=ah(a,c))||a.da("The user ID is invalid.")):b&&a.da("Browser local storage is not available"));return c}
function ah(a,b){a.i=null;b=Fa(Ma()+"/api/v1/user?req=verify&user="+b);var c=b[1];if(!b[0]&&c)try{b=eval("("+c+")"),b.code&&"ok"==b.code&&(Qa(Kg,b.data),a.i=b.data)}catch(d){r(d.message+" ("+c+")")}return a.i}function xg(a){var b=null;a.i&&(b=Ma()+"/api/v1/user?req=load&user="+a.i+"&state="+bh(a,"1.34.2"));return b}
function Pg(a,b,c){if(c){var d={req:"store"};d.user=b;d.state=bh(a,"1.34.2");d.data=c;b=Fa(Ma()+"/api/v1/user",d);d=b[0];if(b[1]){if(d){var e=d.indexOf("\n");0<e&&(d=d.substr(0,e));d.indexOf("Error: ")||(d=d.substr(7))}d='{"code":'+b[1]+',"data":"'+d+'"}'}b=JSON.parse(d);b&&"ok"==b.code?a.da("Machine state saved to server"):c&&(c=b&&b.data||"unable to save machine state",c="error"==b.code?"Error: "+c:"Error "+b.code+": "+c,a.da(c),Qa(Kg,""),a.i=null)}}
function gd(a,b){if(a.ta){var c=0,d=0;!b&&window&&(c=window.scrollX,d=window.scrollY);a.ta.focus();!b&&window&&window.scrollTo(c,d)}}var Fg="failsafe",Ag="validate",Cg="timestamp",Mg="version",Ng="url",Og="browser",Kg="user",Eg=-1,vg=0,Dg=1,Hg=2,$g=3;Xa(function(){for(var a=x(document,w+"-machine"),b=0;b<a.length;b++)for(var c=a[b],d=v(c),c=x(c,w,"computer"),e=0;e<c.length;e++){var f=c[e],g=v(f),g=new sg(g,d,!0);rb(g,f);g.O&&yg(g,g.Ja)}});
Ya.show.push(function(){for(var a=x(document,w,"computer"),b=0;b<a.length;b++){var c=v(a[b]);(c=qb("Computer",c.id))&&c.S&&!c.A.V&&c.Ja(Eg)}});Ya.exit.push(function(){for(var a=x(document,w,"computer"),b=0;b<a.length;b++){var c=v(a[b]);(c=qb("Computer",c.id))&&c.A.V&&pg(c,!(!c.b||c.F),!0)}});function G(a,b,c){this.id=a.id;this.i="";this.b={};this.v=this.u=!1;this.key=bh(a,b,c);Ig(this,a.Db)}l=G.prototype;l.set=function(a,b){try{this.b[a]=b}catch(c){}};l.get=function(a){return this.b[a]||null};
l.data=function(){return this.b};function wg(a,b){return b?(a.i=b,a.v=!0,a.u=!1,!0):a.v?!0:Na()&&(b=Pa(a.key))?(a.i=b,a.v=!0):!1}function Bg(a){var b=!0;if(!a.u)try{a.b=JSON.parse(a.i),a.u=!0}catch(c){r(c.message||c),b=!1}return b}function Jg(a){var b=!0;if(Na()){var c=JSON.stringify(a.b);Qa(a.key,c)||(r("Unable to store "+c.length+" bytes in browser local storage"),b=!1)}return b}l.toString=function(){return this.b?JSON.stringify(this.b):this.i};
function Ig(a,b){a.i="";a.b={};a.v=a.u=!1;b&&a.set("parms",b)}l.clear=function(a){Ig(this);var b=[];try{for(var c=0,d=window.localStorage.length;c<d;c++)b.push(window.localStorage.key(c))}catch(e){}for(c=0;c<b.length;c++)if((d=b[c])&&(a||d.substr(0,this.key.length)==this.key)){try{window.localStorage.removeItem(d)}catch(e){}b.splice(c,1);c=0}};function bh(a,b,c){a=a.id;if(b){var d=b.indexOf(".");0<d&&(a+=".v"+b.substr(0,d))}c&&(a+="."+c);return a}var ch=0;
function dh(a,b,c,d,e,f,g){f("Loading "+a+"...");Fa(a,null,!0,function(h,k,n){n?(k||(k="unable to load "+a+" ("+n+")"),g(k,null)):eh(k,a,b,c,d,e,f,g)})}
function eh(a,b,c,d,e,f,g,h){function k(a,g){if(g)h(g,null);else{c&&(kb(c,b,a),(g=b)&&0>g.indexOf("/")&&"/"==window.location.pathname.slice(-1)&&(g=window.location.pathname+g),e?"}"==e.slice(-1)?(e=e.slice(0,-1),1<e.length&&(e+=",")):e='{state:"'+e+'",':e="{",e+='url:"'+g+'"}',"object"==typeof resources&&(g=null),a=a.replace(/(<machine[^>]*\sid=)(['"]).*?\2/,"$1$2"+c+"$2"+(e?" parms='"+e+"'":"")+(g?' url="'+g+'"':"")));f||(a=a.replace(/(<xsl:variable name="APPNAME">).*?(<\/xsl:variable>)/,"$1PDPjs$2"),
a=a.replace(/(<xsl:variable name="APPCLASS">).*?(<\/xsl:variable>)/,"$1"+d+"$2"));g=null;if("<"==a.charAt(0))try{f||(a=a.replace(/<!DOCTYPE(.|[\r\n])*]>\s*/g,"")),window.ActiveXObject||"ActiveXObject"in window?(g=new window.ActiveXObject("Microsoft.XMLDOM"),g.async=!1,g.loadXML(a)):g=(new window.DOMParser).parseFromString(a,"text/xml")}catch(t){g=null,a=t.message}else a="unrecognized XML: "+(255<a.length?a.substr(0,255)+"...":a);h(a,g)}}a?f?fh(a,g,k):k(a,null):h("no data"+(b?" for file: "+b:""),null)}
function fh(a,b,c){var d;if(d=/<([a-z]+)\s+ref="(.*?)"(.*?)\/>/g.exec(a)){var e=d[2];b("Loading "+e+"...");Fa(e,null,!0,function(f,g,h){if(h||!g)c(a,"unable to resolve XML reference: "+d[0]+" ("+h+")");else{if(f=d[3])if(h=g.match(new RegExp("<"+d[1]+"[^>]*>"))){for(var k=h[0],n,p=/( [a-z]+=)(['"])(.*?)\2/g;n=p.exec(f);)k=0>k.indexOf(n[1])?k.replace(">",n[0]+">"):k.replace(new RegExp(n[1]+"(['\"])(.*?)\\1"),n[0]);h[0]!=k&&(g=g.replace(h[0],k))}else{c(a,"missing <"+d[1]+"> in "+e);return}g=g.replace(/<\?xml[^>]*>[\r\n]*/,
"");a=a.replace(d[0],g);fh(a,b,c)}})}else c(a,null)}
function gh(a,b,c,d,e){function f(a){if(void 0===k){var b=h&&x(h,"machine-warning");k=b&&b[0]||h}k&&(k.innerHTML=xa(a))}function g(a){f("Error: "+a);n&&(--ch||fb(!0));n=!1}var h,k,n=!0;ch++;lb[b]={};try{if(h=document.getElementById(b)){var p;if("object"==typeof resources&&(p=resources.css)){var t=document.head||document.getElementsByTagName("head")[0],C=document.createElement("style");C.type="text/css";C.styleSheet?C.styleSheet.cssText=p:C.appendChild(document.createTextNode(p));t.appendChild(C)}d||
(p=a,"pdp"==a.substr(0,3)&&(p="pdpjs"),d="/versions/"+p+"/1.34.2/components.xsl");p=function(e,k){k?dh(d,null,a,null,!1,f,function(a,e){e?(kb(b,d,a),f("Processing "+c+"..."),window.ActiveXObject||"ActiveXObject"in window?(e=k.transformNode(e))?(h.outerHTML=e,--ch||fb(!0)):g("transformNodeToObject failed"):document.implementation&&document.implementation.createDocument?(a=new XSLTProcessor,a.importStylesheet(e),(e=a.transformToFragment(k,document))?h.parentNode?(h.parentNode.replaceChild(e,h),--ch||
fb(!0)):g("invalid machine element: "+b):g("transformToFragment failed")):g("unable to transform XML: unsupported browser")):g(a)}):g(e)};"<"!=c.charAt(0)?dh(c,b,a,e,!0,f,p):eh(c,null,b,a,e,!1,f,p)}else g("missing machine element: "+b)}catch(ca){g(ca.message)}return n}window.embedPDP10=function(a,b,c,d){fb(!1);return gh("pdp10",a,b,c,d)};window.embedPDP11=function(a,b,c,d){fb(!1);return gh("pdp11",a,b,c,d)};window.findMachineComponent=function(a,b){return qb(b,a+".machine")};
window.processMachineScript=function(a,b){var c=!1;a+=".machine";if("string"==typeof b&&!tb[a]){for(var c=!0,d=tb,e=a,f=b.length,g=[],h=[],k="",n=null,p=0;p<f;p++){var t=b[p];if('"'==t||"'"==t)n&&t!=n?k+=t:(n?n=null:n=t,k&&(h.push(k),k=""));else{if(!n){if("\r"==t||"\n"==t)t=";";if(" "==t||"\t"==t||";"==t){k&&(h.push(k),k="");";"==t&&h.length&&(g.push(h),h=[]);continue}}k+=t}}k&&h.push(k);h.length&&g.push(h);d[e]=g;sb(a)||(c=!1)}return c};window.enableEvents=fb;window.sendEvent=hb;})();//# sourceMappingURL=/tmp/pdpjs/1.34.2/pdp10-dbg.map
